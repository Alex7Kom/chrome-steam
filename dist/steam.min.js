!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.Steam=f()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){(function(Buffer){var Steam=require("steam");Steam.Buffer=Buffer,module.exports=Steam}).call(this,require("buffer").Buffer)},{buffer:17,steam:206}],2:[function(require,module){function replacer(key,value){return util.isUndefined(value)?""+value:util.isNumber(value)&&!isFinite(value)?value.toString():util.isFunction(value)||util.isRegExp(value)?value.toString():value}function truncate(s,n){return util.isString(s)?s.length<n?s:s.slice(0,n):s}function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+" "+self.operator+" "+truncate(JSON.stringify(self.expected,replacer),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected){if(actual===expected)return!0;if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return!1;for(var i=0;i<actual.length;i++)if(actual[i]!==expected[i])return!1;return!0}return util.isDate(actual)&&util.isDate(expected)?actual.getTime()===expected.getTime():util.isRegExp(actual)&&util.isRegExp(expected)?actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase:util.isObject(actual)||util.isObject(expected)?objEquiv(actual,expected):actual==expected}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))return!1;if(a.prototype!==b.prototype)return!1;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;var aIsArgs=isArguments(a),bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return!1;if(aIsArgs)return a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b);var key,i,ka=objectKeys(a),kb=objectKeys(b);if(ka.length!=kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key]))return!1;return!0}function expectedException(actual,expected){return actual&&expected?"[object RegExp]"==Object.prototype.toString.call(expected)?expected.test(actual):actual instanceof expected?!0:expected.call({},actual)===!0?!0:!1:!1}function _throws(shouldThrow,block,expected,message){var actual;util.isString(expected)&&(message=expected,expected=null);try{block()}catch(e){actual=e}if(message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail(actual,expected,"Missing expected exception"+message),!shouldThrow&&expectedException(actual,expected)&&fail(actual,expected,"Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}var util=require("util/"),pSlice=Array.prototype.slice,hasOwn=Object.prototype.hasOwnProperty,assert=module.exports=ok;assert.AssertionError=function(options){this.name="AssertionError",this.actual=options.actual,this.expected=options.expected,this.operator=options.operator,options.message?(this.message=options.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,stackStartFunction);else{var err=new Error;if(err.stack){var out=err.stack,fn_name=stackStartFunction.name,idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}},{"util/":187}],3:[function(){},{}],4:[function(require,module,exports){"use strict";var TYPED_OK="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;exports.assign=function(obj){for(var sources=Array.prototype.slice.call(arguments,1);sources.length;){var source=sources.shift();if(source){if("object"!=typeof source)throw new TypeError(source+"must be non-object");for(var p in source)source.hasOwnProperty(p)&&(obj[p]=source[p])}}return obj},exports.shrinkBuf=function(buf,size){return buf.length===size?buf:buf.subarray?buf.subarray(0,size):(buf.length=size,buf)};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray)return void dest.set(src.subarray(src_offs,src_offs+len),dest_offs);for(var i=0;len>i;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;for(len=0,i=0,l=chunks.length;l>i;i++)len+=chunks[i].length;for(result=new Uint8Array(len),pos=0,i=0,l=chunks.length;l>i;i++)chunk=chunks[i],result.set(chunk,pos),pos+=chunk.length;return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;len>i;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){on?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK)},{}],5:[function(require,module){"use strict";function adler32(adler,buf,len,pos){for(var s1=65535&adler|0,s2=adler>>>16&65535|0,n=0;0!==len;){n=len>2e3?2e3:len,len-=n;do s1=s1+buf[pos++]|0,s2=s2+s1|0;while(--n);s1%=65521,s2%=65521}return s1|s2<<16|0}module.exports=adler32},{}],6:[function(require,module){module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(require,module){"use strict";function makeTable(){for(var c,table=[],n=0;256>n;n++){c=n;for(var k=0;8>k;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc=-1^crc;for(var i=pos;end>i;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}var crcTable=makeTable();module.exports=crc32},{}],8:[function(require,module,exports){"use strict";function err(strm,errorCode){return strm.msg=msg[errorCode],errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function flush_pending(strm){var s=strm.state,len=s.pending;len>strm.avail_out&&(len=strm.avail_out),0!==len&&(utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out),strm.next_out+=len,s.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s.pending-=len,0===s.pending&&(s.pending_out=0))}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255,s.pending_buf[s.pending++]=255&b}function read_buf(strm,buf,start,size){var len=strm.avail_in;return len>size&&(len=size),0===len?0:(strm.avail_in-=len,utils.arraySet(buf,strm.input,strm.next_in,len,start),1===strm.state.wrap?strm.adler=adler32(strm.adler,buf,len,start):2===strm.state.wrap&&(strm.adler=crc32(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len)}function longest_match(s,cur_match){var match,len,chain_length=s.max_chain_length,scan=s.strstart,best_len=s.prev_length,nice_match=s.nice_match,limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+MAX_MATCH,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];s.prev_length>=s.good_match&&(chain_length>>=2),nice_match>s.lookahead&&(nice_match=s.lookahead);do if(match=cur_match,_win[match+best_len]===scan_end&&_win[match+best_len-1]===scan_end1&&_win[match]===_win[scan]&&_win[++match]===_win[scan+1]){scan+=2,match++;do;while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&strend>scan);if(len=MAX_MATCH-(strend-scan),scan=strend-MAX_MATCH,len>best_len){if(s.match_start=cur_match,best_len=len,len>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}while((cur_match=prev[cur_match&wmask])>limit&&0!==--chain_length);return best_len<=s.lookahead?best_len:s.lookahead}function fill_window(s){var p,n,m,more,str,_w_size=s.w_size;do{if(more=s.window_size-s.lookahead-s.strstart,s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0),s.match_start-=_w_size,s.strstart-=_w_size,s.block_start-=_w_size,n=s.hash_size,p=n;do m=s.head[--p],s.head[p]=m>=_w_size?m-_w_size:0;while(--n);n=_w_size,p=n;do m=s.prev[--p],s.prev[p]=m>=_w_size?m-_w_size:0;while(--n);more+=_w_size}if(0===s.strm.avail_in)break;if(n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more),s.lookahead+=n,s.lookahead+s.insert>=MIN_MATCH)for(str=s.strstart-s.insert,s.ins_h=s.window[str],s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&0!==s.strm.avail_in)}function deflate_stored(s,flush){var max_block_size=65535;for(max_block_size>s.pending_buf_size-5&&(max_block_size=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),0===s.lookahead&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}s.strstart+=s.lookahead,s.lookahead=0;var max_start=s.block_start+max_block_size;if((0===s.strstart||s.strstart>=max_start)&&(s.lookahead=s.strstart-max_start,s.strstart=max_start,flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE;if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.strstart>s.block_start&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_NEED_MORE}function deflate_fast(s,flush){for(var hash_head,bflush;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!==hash_head&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head)),s.match_length>=MIN_MATCH)if(bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart;while(0!==--s.match_length);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(s,flush){for(var hash_head,bflush,max_insert;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,0!==hash_head&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head),s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH,bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do++s.strstart<=max_insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart);while(0!==--s.prev_length);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}else if(s.match_available){if(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),bflush&&flush_block_only(s,!1),s.strstart++,s.lookahead--,0===s.strm.avail_out)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(s,flush){for(var bflush,prev,scan,strend,_win=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(scan=s.strstart-1,prev=_win[scan],prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan])){strend=s.strstart+MAX_MATCH;do;while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&strend>scan);s.match_length=MAX_MATCH-(strend-scan),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(s,flush){for(var bflush;;){if(0===s.lookahead&&(fill_window(s),0===s.lookahead)){if(flush===Z_NO_FLUSH)return BS_NEED_MORE;break}if(s.match_length=0,bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function lm_init(s){s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(2*HEAP_SIZE),this.dyn_dtree=new utils.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(MAX_BITS+1),this.heap=new utils.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(strm){var s;return strm&&strm.state?(strm.total_in=strm.total_out=0,strm.data_type=Z_UNKNOWN,s=strm.state,s.pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?INIT_STATE:BUSY_STATE,strm.adler=2===s.wrap?0:1,s.last_flush=Z_NO_FLUSH,trees._tr_init(s),Z_OK):err(strm,Z_STREAM_ERROR)}function deflateReset(strm){var ret=deflateResetKeep(strm);return ret===Z_OK&&lm_init(strm.state),ret}function deflateSetHeader(strm,head){return strm&&strm.state?2!==strm.state.wrap?Z_STREAM_ERROR:(strm.state.gzhead=head,Z_OK):Z_STREAM_ERROR}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm)return Z_STREAM_ERROR;var wrap=1;if(level===Z_DEFAULT_COMPRESSION&&(level=6),0>windowBits?(wrap=0,windowBits=-windowBits):windowBits>15&&(wrap=2,windowBits-=16),1>memLevel||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||8>windowBits||windowBits>15||0>level||level>9||0>strategy||strategy>Z_FIXED)return err(strm,Z_STREAM_ERROR);8===windowBits&&(windowBits=9);var s=new DeflateState;return strm.state=s,s.strm=strm,s.wrap=wrap,s.gzhead=null,s.w_bits=windowBits,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=memLevel+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new utils.Buf8(2*s.w_size),s.head=new utils.Buf16(s.hash_size),s.prev=new utils.Buf16(s.w_size),s.lit_bufsize=1<<memLevel+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new utils.Buf8(s.pending_buf_size),s.d_buf=s.lit_bufsize>>1,s.l_buf=3*s.lit_bufsize,s.level=level,s.strategy=strategy,s.method=method,deflateReset(strm)}function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(strm,flush){var old_flush,s,beg,val;if(!strm||!strm.state||flush>Z_BLOCK||0>flush)return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR;if(s=strm.state,!strm.output||!strm.input&&0!==strm.avail_in||s.status===FINISH_STATE&&flush!==Z_FINISH)return err(strm,0===strm.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);if(s.strm=strm,old_flush=s.last_flush,s.last_flush=flush,s.status===INIT_STATE)if(2===s.wrap)strm.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead?(put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,255&s.gzhead.time),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,255&s.gzhead.extra.length),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=EXTRA_STATE):(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,OS_CODE),s.status=BUSY_STATE);else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8,level_flags=-1;level_flags=s.strategy>=Z_HUFFMAN_ONLY||s.level<2?0:s.level<6?1:6===s.level?2:3,header|=level_flags<<6,0!==s.strstart&&(header|=PRESET_DICT),header+=31-header%31,s.status=BUSY_STATE,putShortMSB(s,header),0!==s.strstart&&(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),strm.adler=1}if(s.status===EXTRA_STATE)if(s.gzhead.extra){for(beg=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending!==s.pending_buf_size));)put_byte(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=NAME_STATE)}else s.status=NAME_STATE;if(s.status===NAME_STATE)if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.gzindex=0,s.status=COMMENT_STATE)}else s.status=COMMENT_STATE;if(s.status===COMMENT_STATE)if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.status=HCRC_STATE)}else s.status=HCRC_STATE;if(s.status===HCRC_STATE&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&flush_pending(strm),s.pending+2<=s.pending_buf_size&&(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),strm.adler=0,s.status=BUSY_STATE)):s.status=BUSY_STATE),0!==s.pending){if(flush_pending(strm),0===strm.avail_out)return s.last_flush=-1,Z_OK}else if(0===strm.avail_in&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH)return err(strm,Z_BUF_ERROR);if(s.status===FINISH_STATE&&0!==strm.avail_in)return err(strm,Z_BUF_ERROR);if(0!==strm.avail_in||0!==s.lookahead||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,flush):s.strategy===Z_RLE?deflate_rle(s,flush):configuration_table[s.level].func(s,flush);if((bstate===BS_FINISH_STARTED||bstate===BS_FINISH_DONE)&&(s.status=FINISH_STATE),bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED)return 0===strm.avail_out&&(s.last_flush=-1),Z_OK;if(bstate===BS_BLOCK_DONE&&(flush===Z_PARTIAL_FLUSH?trees._tr_align(s):flush!==Z_BLOCK&&(trees._tr_stored_block(s,0,0,!1),flush===Z_FULL_FLUSH&&(zero(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(strm),0===strm.avail_out))return s.last_flush=-1,Z_OK}return flush!==Z_FINISH?Z_OK:s.wrap<=0?Z_STREAM_END:(2===s.wrap?(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),put_byte(s,strm.adler>>16&255),put_byte(s,strm.adler>>24&255),put_byte(s,255&strm.total_in),put_byte(s,strm.total_in>>8&255),put_byte(s,strm.total_in>>16&255),put_byte(s,strm.total_in>>24&255)):(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),flush_pending(strm),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?Z_OK:Z_STREAM_END)}function deflateEnd(strm){var status;return strm&&strm.state?(status=strm.state.status,status!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE?err(strm,Z_STREAM_ERROR):(strm.state=null,status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK)):Z_STREAM_ERROR}var configuration_table,utils=require("../utils/common"),trees=require("./trees"),adler32=require("./adler32"),crc32=require("./crc32"),msg=require("./messages"),Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,Config=function(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func};configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],exports.deflateInit=deflateInit,exports.deflateInit2=deflateInit2,exports.deflateReset=deflateReset,exports.deflateResetKeep=deflateResetKeep,exports.deflateSetHeader=deflateSetHeader,exports.deflate=deflate,exports.deflateEnd=deflateEnd,exports.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":4,"./adler32":5,"./crc32":7,"./messages":12,"./trees":13}],9:[function(require,module){"use strict";var BAD=30,TYPE=12;module.exports=function(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output;state=strm.state,_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{15>bits&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(op=here>>>24,hold>>>=op,bits-=op,op=here>>>16&255,0===op)output[_out++]=65535&here;else{if(!(16&op)){if(0===(64&op)){here=lcode[(65535&here)+(hold&(1<<op)-1)];continue dolen}if(32&op){state.mode=TYPE;break top}strm.msg="invalid literal/length code",state.mode=BAD;break top}len=65535&here,op&=15,op&&(op>bits&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),15>bits&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(op=here>>>24,hold>>>=op,bits-=op,op=here>>>16&255,!(16&op)){if(0===(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue dodist}strm.msg="invalid distance code",state.mode=BAD;break top}if(dist=65535&here,op&=15,op>bits&&(hold+=input[_in++]<<bits,bits+=8,op>bits&&(hold+=input[_in++]<<bits,bits+=8)),dist+=hold&(1<<op)-1,dist>dmax){strm.msg="invalid distance too far back",state.mode=BAD;break top}if(hold>>>=op,bits-=op,op=_out-beg,dist>op){if(op=dist-op,op>whave&&state.sane){strm.msg="invalid distance too far back",state.mode=BAD;break top}if(from=0,from_source=window,0===wnext){if(from+=wsize-op,len>op){len-=op;do output[_out++]=window[from++];while(--op);from=_out-dist,from_source=output}}else if(op>wnext){if(from+=wsize+wnext-op,op-=wnext,len>op){len-=op;do output[_out++]=window[from++];while(--op);if(from=0,len>wnext){op=wnext,len-=op;do output[_out++]=window[from++];while(--op);from=_out-dist,from_source=output}}}else if(from+=wnext-op,len>op){len-=op;do output[_out++]=window[from++];while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3;while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}break}}break}}while(last>_in&&end>_out);len=bits>>3,_in-=len,bits-=len<<3,hold&=(1<<bits)-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=last>_in?5+(last-_in):5-(_in-last),strm.avail_out=end>_out?257+(end-_out):257-(_out-end),state.hold=hold,state.bits=bits}},{}],10:[function(require,module,exports){"use strict";function ZSWAP32(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(strm){var state;return strm&&strm.state?(state=strm.state,strm.total_in=strm.total_out=state.total=0,strm.msg="",state.wrap&&(strm.adler=1&state.wrap),state.mode=HEAD,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS),state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS),
state.sane=1,state.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(strm){var state;return strm&&strm.state?(state=strm.state,state.wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)):Z_STREAM_ERROR}function inflateReset2(strm,windowBits){var wrap,state;return strm&&strm.state?(state=strm.state,0>windowBits?(wrap=0,windowBits=-windowBits):(wrap=(windowBits>>4)+1,48>windowBits&&(windowBits&=15)),windowBits&&(8>windowBits||windowBits>15)?Z_STREAM_ERROR:(null!==state.window&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))):Z_STREAM_ERROR}function inflateInit2(strm,windowBits){var ret,state;return strm?(state=new InflateState,strm.state=state,state.window=null,ret=inflateReset2(strm,windowBits),ret!==Z_OK&&(strm.state=null),ret):Z_STREAM_ERROR}function inflateInit(strm){return inflateInit2(strm,DEF_WBITS)}function fixedtables(state){if(virgin){var sym;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),sym=0;144>sym;)state.lens[sym++]=8;for(;256>sym;)state.lens[sym++]=9;for(;280>sym;)state.lens[sym++]=7;for(;288>sym;)state.lens[sym++]=8;for(inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;32>sym;)state.lens[sym++]=5;inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5}function updatewindow(strm,src,end,copy){var dist,state=strm.state;return null===state.window&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new utils.Buf8(state.wsize)),copy>=state.wsize?(utils.arraySet(state.window,src,end-state.wsize,state.wsize,0),state.wnext=0,state.whave=state.wsize):(dist=state.wsize-state.wnext,dist>copy&&(dist=copy),utils.arraySet(state.window,src,end-copy,dist,state.wnext),copy-=dist,copy?(utils.arraySet(state.window,src,end-copy,copy,0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0}function inflate(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,opts,n,here=0,hbuf=new utils.Buf8(4),order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in)return Z_STREAM_ERROR;state=strm.state,state.mode===TYPE&&(state.mode=TYPEDO),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(0===state.wrap){state.mode=TYPEDO;break}for(;16>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(2&state.wrap&&35615===hold){state.check=0,hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=FLAGS;break}if(state.flags=0,state.head&&(state.head.done=!1),!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg="incorrect header check",state.mode=BAD;break}if((15&hold)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=BAD;break}if(hold>>>=4,bits-=4,len=(15&hold)+8,0===state.wbits)state.wbits=len;else if(len>state.wbits){strm.msg="invalid window size",state.mode=BAD;break}state.dmax=1<<len,strm.adler=state.check=1,state.mode=512&hold?DICTID:TYPE,hold=0,bits=0;break;case FLAGS:for(;16>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,(255&state.flags)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=BAD;break}if(57344&state.flags){strm.msg="unknown header flags set",state.mode=BAD;break}state.head&&(state.head.text=hold>>8&1),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=TIME;case TIME:for(;32>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=OS;case OS:for(;16>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=255&hold,state.head.os=hold>>8),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=EXLEN;case EXLEN:if(1024&state.flags){for(;16>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=EXTRA;case EXTRA:if(1024&state.flags&&(copy=state.length,copy>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Array(state.head.extra_len)),utils.arraySet(state.head.extra,input,next,copy,len)),512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=NAME;case NAME:if(2048&state.flags){if(0===have)break inf_leave;copy=0;do len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len));while(len&&have>copy);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=COMMENT;case COMMENT:if(4096&state.flags){if(0===have)break inf_leave;copy=0;do len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len));while(len&&have>copy);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=HCRC;case HCRC:if(512&state.flags){for(;16>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(65535&state.check)){strm.msg="header crc mismatch",state.mode=BAD;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=TYPE;break;case DICTID:for(;32>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=ZSWAP32(hold),hold=0,bits=0,state.mode=DICT;case DICT:if(0===state.havedict)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,Z_NEED_DICT;strm.adler=state.check=1,state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES)break inf_leave;case TYPEDO:if(state.last){hold>>>=7&bits,bits-=7&bits,state.mode=CHECK;break}for(;3>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=1&hold,hold>>>=1,bits-=1,3&hold){case 0:state.mode=STORED;break;case 1:if(fixedtables(state),state.mode=LEN_,flush===Z_TREES){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg="invalid block type",state.mode=BAD}hold>>>=2,bits-=2;break;case STORED:for(hold>>>=7&bits,bits-=7&bits;32>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((65535&hold)!==(hold>>>16^65535)){strm.msg="invalid stored block lengths",state.mode=BAD;break}if(state.length=65535&hold,hold=0,bits=0,state.mode=COPY_,flush===Z_TREES)break inf_leave;case COPY_:state.mode=COPY;case COPY:if(copy=state.length){if(copy>have&&(copy=have),copy>left&&(copy=left),0===copy)break inf_leave;utils.arraySet(output,input,next,copy,put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=TYPE;break;case TABLE:for(;14>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=(31&hold)+257,hold>>>=5,bits-=5,state.ndist=(31&hold)+1,hold>>>=5,bits-=5,state.ncode=(15&hold)+4,hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols",state.mode=BAD;break}state.have=0,state.mode=LENLENS;case LENLENS:for(;state.have<state.ncode;){for(;3>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=7&hold,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid code lengths set",state.mode=BAD;break}state.have=0,state.mode=CODELENS;case CODELENS:for(;state.have<state.nlen+state.ndist;){for(;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(bits>=here_bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(16>here_val)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(16===here_val){for(n=here_bits+2;n>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,0===state.have){strm.msg="invalid bit length repeat",state.mode=BAD;break}len=state.lens[state.have-1],copy=3+(3&hold),hold>>>=2,bits-=2}else if(17===here_val){for(n=here_bits+3;n>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=here_bits,bits-=here_bits,len=0,copy=3+(7&hold),hold>>>=3,bits-=3}else{for(n=here_bits+7;n>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=here_bits,bits-=here_bits,len=0,copy=11+(127&hold),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat",state.mode=BAD;break}for(;copy--;)state.lens[state.have++]=len}}if(state.mode===BAD)break;if(0===state.lens[256]){strm.msg="invalid code -- missing end-of-block",state.mode=BAD;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid literal/lengths set",state.mode=BAD;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg="invalid distances set",state.mode=BAD;break}if(state.mode=LEN_,flush===Z_TREES)break inf_leave;case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,state.mode===TYPE&&(state.back=-1);break}for(state.back=0;here=state.lencode[hold&(1<<state.lenbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(bits>=here_bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&0===(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(bits>=last_bits+here_bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,0===here_op){state.mode=LIT;break}if(32&here_op){state.back=-1,state.mode=TYPE;break}if(64&here_op){strm.msg="invalid literal/length code",state.mode=BAD;break}state.extra=15&here_op,state.mode=LENEXT;case LENEXT:if(state.extra){for(n=state.extra;n>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=DIST;case DIST:for(;here=state.distcode[hold&(1<<state.distbits)-1],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(bits>=here_bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(0===(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)],here_bits=here>>>24,here_op=here>>>16&255,here_val=65535&here,!(bits>=last_bits+here_bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,64&here_op){strm.msg="invalid distance code",state.mode=BAD;break}state.offset=here_val,state.extra=15&here_op,state.mode=DISTEXT;case DISTEXT:if(state.extra){for(n=state.extra;n>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back",state.mode=BAD;break}state.mode=MATCH;case MATCH:if(0===left)break inf_leave;if(copy=_out-left,state.offset>copy){if(copy=state.offset-copy,copy>state.whave&&state.sane){strm.msg="invalid distance too far back",state.mode=BAD;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do output[put++]=from_source[from++];while(--copy);0===state.length&&(state.mode=LEN);break;case LIT:if(0===left)break inf_leave;output[put++]=state.length,left--,state.mode=LEN;break;case CHECK:if(state.wrap){for(;32>bits;){if(0===have)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:ZSWAP32(hold))!==state.check){strm.msg="incorrect data check",state.mode=BAD;break}hold=0,bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){for(;32>bits;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(4294967295&state.total)){strm.msg="incorrect length check",state.mode=BAD;break}hold=0,bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=MEM,Z_MEM_ERROR):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0),(0===_in&&0===_out||flush===Z_FINISH)&&ret===Z_OK&&(ret=Z_BUF_ERROR),ret)}function inflateEnd(strm){if(!strm||!strm.state)return Z_STREAM_ERROR;var state=strm.state;return state.window&&(state.window=null),strm.state=null,Z_OK}function inflateGetHeader(strm,head){var state;return strm&&strm.state?(state=strm.state,0===(2&state.wrap)?Z_STREAM_ERROR:(state.head=head,head.done=!1,Z_OK)):Z_STREAM_ERROR}var lenfix,distfix,utils=require("../utils/common"),adler32=require("./adler32"),crc32=require("./crc32"),inflate_fast=require("./inffast"),inflate_table=require("./inftrees"),CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,virgin=!0;exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=inflateInit,exports.inflateInit2=inflateInit2,exports.inflate=inflate,exports.inflateEnd=inflateEnd,exports.inflateGetHeader=inflateGetHeader,exports.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":4,"./adler32":5,"./crc32":7,"./inffast":9,"./inftrees":11}],11:[function(require,module){"use strict";var utils=require("../utils/common"),MAXBITS=15,ENOUGH_LENS=852,ENOUGH_DISTS=592,CODES=0,LENS=1,DISTS=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(type,lens,lens_index,codes,table,table_index,work,opts){var incr,fill,low,mask,next,end,here_bits,here_op,here_val,bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,base=null,base_index=0,count=new utils.Buf16(MAXBITS+1),offs=new utils.Buf16(MAXBITS+1),extra=null,extra_index=0;for(len=0;MAXBITS>=len;len++)count[len]=0;for(sym=0;codes>sym;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=MAXBITS;max>=1&&0===count[max];max--);if(root>max&&(root=max),0===max)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min=1;max>min&&0===count[min];min++);for(min>root&&(root=min),left=1,len=1;MAXBITS>=len;len++)if(left<<=1,left-=count[len],0>left)return-1;if(left>0&&(type===CODES||1!==max))return-1;for(offs[1]=0,len=1;MAXBITS>len;len++)offs[len+1]=offs[len]+count[len];for(sym=0;codes>sym;sym++)0!==lens[lens_index+sym]&&(work[offs[lens[lens_index+sym]]++]=sym);if(type===CODES?(base=extra=work,end=19):type===LENS?(base=lbase,base_index-=257,extra=lext,extra_index-=257,end=256):(base=dbase,extra=dext,end=-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,used=1<<root,mask=used-1,type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS)return 1;for(var i=0;;){i++,here_bits=len-drop,work[sym]<end?(here_op=0,here_val=work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],here_val=base[base_index+work[sym]]):(here_op=96,here_val=0),incr=1<<len-drop,fill=1<<curr,min=fill;do fill-=incr,table[next+(huff>>drop)+fill]=here_bits<<24|here_op<<16|here_val|0;while(0!==fill);for(incr=1<<len-1;huff&incr;)incr>>=1;if(0!==incr?(huff&=incr-1,huff+=incr):huff=0,sym++,0===--count[len]){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(0===drop&&(drop=root),next+=min,curr=len-drop,left=1<<curr;max>curr+drop&&(left-=count[curr+drop],!(0>=left));)curr++,left<<=1;if(used+=1<<curr,type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS)return 1;low=huff&mask,table[low]=root<<24|curr<<16|next-table_index|0}}return 0!==huff&&(table[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}},{"../utils/common":4}],12:[function(require,module){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],13:[function(require,module,exports){"use strict";function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function d_code(dist){return 256>dist?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=255&w,s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){s.bi_valid>Buf_size-length?(s.bi_buf|=value<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=value>>Buf_size-s.bi_valid,s.bi_valid+=length-Buf_size):(s.bi_buf|=value<<s.bi_valid&65535,s.bi_valid+=length)}function send_code(s,c,tree){send_bits(s,tree[2*c],tree[2*c+1])}function bi_reverse(code,len){var res=0;do res|=1&code,code>>>=1,res<<=1;while(--len>0);return res>>>1}function bi_flush(s){16===s.bi_valid?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=255&s.bi_buf,s.bi_buf>>=8,s.bi_valid-=8)}function gen_bitlen(s,desc){var h,n,m,bits,xbits,f,tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,overflow=0;for(bits=0;MAX_BITS>=bits;bits++)s.bl_count[bits]=0;for(tree[2*s.heap[s.heap_max]+1]=0,h=s.heap_max+1;HEAP_SIZE>h;h++)n=s.heap[h],bits=tree[2*tree[2*n+1]+1]+1,bits>max_length&&(bits=max_length,overflow++),tree[2*n+1]=bits,n>max_code||(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[2*n],s.opt_len+=f*(bits+xbits),has_stree&&(s.static_len+=f*(stree[2*n+1]+xbits)));if(0!==overflow){do{for(bits=max_length-1;0===s.bl_count[bits];)bits--;s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;0!==bits;bits--)for(n=s.bl_count[bits];0!==n;)m=s.heap[--h],m>max_code||(tree[2*m+1]!==bits&&(s.opt_len+=(bits-tree[2*m+1])*tree[2*m],tree[2*m+1]=bits),n--)}}function gen_codes(tree,max_code,bl_count){var bits,n,next_code=new Array(MAX_BITS+1),code=0;for(bits=1;MAX_BITS>=bits;bits++)next_code[bits]=code=code+bl_count[bits-1]<<1;for(n=0;max_code>=n;n++){var len=tree[2*n+1];0!==len&&(tree[2*n]=bi_reverse(next_code[len]++,len))}}function tr_static_init(){var n,bits,length,code,dist,bl_count=new Array(MAX_BITS+1);for(length=0,code=0;LENGTH_CODES-1>code;code++)for(base_length[code]=length,n=0;n<1<<extra_lbits[code];n++)_length_code[length++]=code;for(_length_code[length-1]=code,dist=0,code=0;16>code;code++)for(base_dist[code]=dist,n=0;n<1<<extra_dbits[code];n++)_dist_code[dist++]=code;for(dist>>=7;D_CODES>code;code++)for(base_dist[code]=dist<<7,n=0;n<1<<extra_dbits[code]-7;n++)_dist_code[256+dist++]=code;for(bits=0;MAX_BITS>=bits;bits++)bl_count[bits]=0;for(n=0;143>=n;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(;255>=n;)static_ltree[2*n+1]=9,n++,bl_count[9]++;for(;279>=n;)static_ltree[2*n+1]=7,n++,bl_count[7]++;for(;287>=n;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(gen_codes(static_ltree,L_CODES+1,bl_count),n=0;D_CODES>n;n++)static_dtree[2*n+1]=5,static_dtree[2*n]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(s){var n;for(n=0;L_CODES>n;n++)s.dyn_ltree[2*n]=0;for(n=0;D_CODES>n;n++)s.dyn_dtree[2*n]=0;for(n=0;BL_CODES>n;n++)s.bl_tree[2*n]=0;s.dyn_ltree[2*END_BLOCK]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function copy_block(s,buf,len,header){bi_windup(s),header&&(put_short(s,len),put_short(s,~len)),utils.arraySet(s.pending_buf,s.window,buf,len,s.pending),s.pending+=len}function smaller(tree,n,m,depth){var _n2=2*n,_m2=2*m;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){for(var v=s.heap[k],j=k<<1;j<=s.heap_len&&(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)&&j++,!smaller(tree,v,s.heap[j],s.depth));)s.heap[k]=s.heap[j],k=j,j<<=1;s.heap[k]=v}function compress_block(s,ltree,dtree){var dist,lc,code,extra,lx=0;if(0!==s.last_lit)do dist=s.pending_buf[s.d_buf+2*lx]<<8|s.pending_buf[s.d_buf+2*lx+1],lc=s.pending_buf[s.l_buf+lx],lx++,0===dist?send_code(s,lc,ltree):(code=_length_code[lc],send_code(s,code+LITERALS+1,ltree),extra=extra_lbits[code],0!==extra&&(lc-=base_length[code],send_bits(s,lc,extra)),dist--,code=d_code(dist),send_code(s,code,dtree),extra=extra_dbits[code],0!==extra&&(dist-=base_dist[code],send_bits(s,dist,extra)));while(lx<s.last_lit);send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var n,m,node,tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,max_code=-1;for(s.heap_len=0,s.heap_max=HEAP_SIZE,n=0;elems>n;n++)0!==tree[2*n]?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[2*n+1]=0;for(;s.heap_len<2;)node=s.heap[++s.heap_len]=2>max_code?++max_code:0,tree[2*node]=1,s.depth[node]=0,s.opt_len--,has_stree&&(s.static_len-=stree[2*node+1]);for(desc.max_code=max_code,n=s.heap_len>>1;n>=1;n--)pqdownheap(s,tree,n);node=elems;do n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[2*node]=tree[2*n]+tree[2*m],s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1,tree[2*n+1]=tree[2*m+1]=node,s.heap[1]=node++,pqdownheap(s,tree,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],gen_bitlen(s,desc),gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),tree[2*(max_code+1)+1]=65535,n=0;max_code>=n;n++)curlen=nextlen,nextlen=tree[2*(n+1)+1],++count<max_count&&curlen===nextlen||(min_count>count?s.bl_tree[2*curlen]+=count:0!==curlen?(curlen!==prevlen&&s.bl_tree[2*curlen]++,s.bl_tree[2*REP_3_6]++):10>=count?s.bl_tree[2*REPZ_3_10]++:s.bl_tree[2*REPZ_11_138]++,count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))}function send_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),n=0;max_code>=n;n++)if(curlen=nextlen,nextlen=tree[2*(n+1)+1],!(++count<max_count&&curlen===nextlen)){if(min_count>count)do send_code(s,curlen,s.bl_tree);while(0!==--count);else 0!==curlen?(curlen!==prevlen&&(send_code(s,curlen,s.bl_tree),count--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,count-3,2)):10>=count?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,count-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,count-11,7));count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}}function build_bl_tree(s){var max_blindex;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),max_blindex=BL_CODES-1;max_blindex>=3&&0===s.bl_tree[2*bl_order[max_blindex]+1];max_blindex--);return s.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex}function send_all_trees(s,lcodes,dcodes,blcodes){var rank;for(send_bits(s,lcodes-257,5),send_bits(s,dcodes-1,5),send_bits(s,blcodes-4,4),rank=0;blcodes>rank;rank++)send_bits(s,s.bl_tree[2*bl_order[rank]+1],3);send_tree(s,s.dyn_ltree,lcodes-1),send_tree(s,s.dyn_dtree,dcodes-1)}function detect_data_type(s){var n,black_mask=4093624447;for(n=0;31>=n;n++,black_mask>>>=1)if(1&black_mask&&0!==s.dyn_ltree[2*n])return Z_BINARY;if(0!==s.dyn_ltree[18]||0!==s.dyn_ltree[20]||0!==s.dyn_ltree[26])return Z_TEXT;for(n=32;LITERALS>n;n++)if(0!==s.dyn_ltree[2*n])return Z_TEXT;return Z_BINARY}function _tr_init(s){static_init_done||(tr_static_init(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)}function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3),copy_block(s,buf,stored_len,!0)}function _tr_align(s){send_bits(s,STATIC_TREES<<1,3),send_code(s,END_BLOCK,static_ltree),bi_flush(s)}function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb,max_blindex=0;s.level>0?(s.strm.data_type===Z_UNKNOWN&&(s.strm.data_type=detect_data_type(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),max_blindex=build_bl_tree(s),opt_lenb=s.opt_len+3+7>>>3,static_lenb=s.static_len+3+7>>>3,opt_lenb>=static_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,opt_lenb>=stored_len+4&&-1!==buf?_tr_stored_block(s,buf,stored_len,last):s.strategy===Z_FIXED||static_lenb===opt_lenb?(send_bits(s,(STATIC_TREES<<1)+(last?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,(DYN_TREES<<1)+(last?1:0),3),send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),last&&bi_windup(s)}function _tr_tally(s,dist,lc){return s.pending_buf[s.d_buf+2*s.last_lit]=dist>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&dist,s.pending_buf[s.l_buf+s.last_lit]=255&lc,s.last_lit++,0===dist?s.dyn_ltree[2*lc]++:(s.matches++,dist--,s.dyn_ltree[2*(_length_code[lc]+LITERALS+1)]++,s.dyn_dtree[2*d_code(dist)]++),s.last_lit===s.lit_bufsize-1}var utils=require("../utils/common"),Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2,STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH=3,MAX_MATCH=258,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=new Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES);zero(base_dist);var static_l_desc,static_d_desc,static_bl_desc,StaticTreeDesc=function(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length},TreeDesc=function(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc},static_init_done=!1;exports._tr_init=_tr_init,exports._tr_stored_block=_tr_stored_block,exports._tr_flush_block=_tr_flush_block,exports._tr_tally=_tr_tally,exports._tr_align=_tr_align},{"../utils/common":4}],14:[function(require,module){"use strict";function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}module.exports=ZStream},{}],15:[function(require,module,exports){(function(process,Buffer){function Zlib(mode){if(mode<exports.DEFLATE||mode>exports.UNZIP)throw new TypeError("Bad argument");this.mode=mode,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function bufferSet(data,offset){for(var i=0;i<data.length;i++)this[offset+i]=data[i]}var msg=require("pako/lib/zlib/messages"),zstream=require("pako/lib/zlib/zstream"),zlib_deflate=require("pako/lib/zlib/deflate.js"),zlib_inflate=require("pako/lib/zlib/inflate.js"),constants=require("pako/lib/zlib/constants");for(var key in constants)exports[key]=constants[key];exports.NONE=0,exports.DEFLATE=1,exports.INFLATE=2,exports.GZIP=3,exports.GUNZIP=4,exports.DEFLATERAW=5,exports.INFLATERAW=6,exports.UNZIP=7,Zlib.prototype.init=function(windowBits,level,memLevel,strategy){switch(this.windowBits=windowBits,this.level=level,this.memLevel=memLevel,this.strategy=strategy,(this.mode===exports.GZIP||this.mode===exports.GUNZIP)&&(this.windowBits+=16),this.mode===exports.UNZIP&&(this.windowBits+=32),
(this.mode===exports.DEFLATERAW||this.mode===exports.INFLATERAW)&&(this.windowBits=-this.windowBits),this.strm=new zstream,this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:var status=zlib_deflate.deflateInit2(this.strm,this.level,exports.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:case exports.UNZIP:var status=zlib_inflate.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}return status!==exports.Z_OK?void this._error(status):(this.write_in_progress=!1,void(this.init_done=!0))},Zlib.prototype.params=function(){throw new Error("deflateParams Not supported")},Zlib.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===exports.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},Zlib.prototype.write=function(flush,input,in_off,in_len,out,out_off,out_len){this._writeCheck(),this.write_in_progress=!0;var self=this;return process.nextTick(function(){self.write_in_progress=!1;var res=self._write(flush,input,in_off,in_len,out,out_off,out_len);self.callback(res[0],res[1]),self.pending_close&&self.close()}),this},Zlib.prototype.writeSync=function(flush,input,in_off,in_len,out,out_off,out_len){return this._writeCheck(),this._write(flush,input,in_off,in_len,out,out_off,out_len)},Zlib.prototype._write=function(flush,input,in_off,in_len,out,out_off,out_len){if(this.write_in_progress=!0,flush!==exports.Z_NO_FLUSH&&flush!==exports.Z_PARTIAL_FLUSH&&flush!==exports.Z_SYNC_FLUSH&&flush!==exports.Z_FULL_FLUSH&&flush!==exports.Z_FINISH&&flush!==exports.Z_BLOCK)throw new Error("Invalid flush value");null==input&&(input=new Buffer(0),in_len=0,in_off=0),out.set=out._set?out._set:bufferSet;var strm=this.strm;switch(strm.avail_in=in_len,strm.input=input,strm.next_in=in_off,strm.avail_out=out_len,strm.output=out,strm.next_out=out_off,this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:var status=zlib_deflate.deflate(strm,flush);break;case exports.UNZIP:case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:var status=zlib_inflate.inflate(strm,flush);break;default:throw new Error("Unknown mode "+this.mode)}return status!==exports.Z_STREAM_END&&status!==exports.Z_OK&&this._error(status),this.write_in_progress=!1,[strm.avail_in,strm.avail_out]},Zlib.prototype.close=function(){return this.write_in_progress?void(this.pending_close=!0):(this.pending_close=!1,this.mode===exports.DEFLATE||this.mode===exports.GZIP||this.mode===exports.DEFLATERAW?zlib_deflate.deflateEnd(this.strm):zlib_inflate.inflateEnd(this.strm),void(this.mode=exports.NONE))},Zlib.prototype.reset=function(){switch(this.mode){case exports.DEFLATE:case exports.DEFLATERAW:var status=zlib_deflate.deflateReset(this.strm);break;case exports.INFLATE:case exports.INFLATERAW:var status=zlib_inflate.inflateReset(this.strm)}status!==exports.Z_OK&&this._error(status)},Zlib.prototype._error=function(status){this.onerror(msg[status]+": "+this.strm.msg,status),this.write_in_progress=!1,this.pending_close&&this.close()},exports.Zlib=Zlib}).call(this,require("_process"),require("buffer").Buffer)},{_process:167,buffer:17,"pako/lib/zlib/constants":6,"pako/lib/zlib/deflate.js":8,"pako/lib/zlib/inflate.js":10,"pako/lib/zlib/messages":12,"pako/lib/zlib/zstream":14}],16:[function(require,module,exports){(function(process,Buffer){function zlibBuffer(engine,buffer,callback){function flow(){for(var chunk;null!==(chunk=engine.read());)buffers.push(chunk),nread+=chunk.length;engine.once("readable",flow)}function onError(err){engine.removeListener("end",onEnd),engine.removeListener("readable",flow),callback(err)}function onEnd(){var buf=Buffer.concat(buffers,nread);buffers=[],callback(null,buf),engine.close()}var buffers=[],nread=0;engine.on("error",onError),engine.on("end",onEnd),engine.end(buffer),flow()}function zlibBufferSync(engine,buffer){if("string"==typeof buffer&&(buffer=new Buffer(buffer)),!Buffer.isBuffer(buffer))throw new TypeError("Not a string or buffer");var flushFlag=binding.Z_FINISH;return engine._processChunk(buffer,flushFlag)}function Deflate(opts){return this instanceof Deflate?void Zlib.call(this,opts,binding.DEFLATE):new Deflate(opts)}function Inflate(opts){return this instanceof Inflate?void Zlib.call(this,opts,binding.INFLATE):new Inflate(opts)}function Gzip(opts){return this instanceof Gzip?void Zlib.call(this,opts,binding.GZIP):new Gzip(opts)}function Gunzip(opts){return this instanceof Gunzip?void Zlib.call(this,opts,binding.GUNZIP):new Gunzip(opts)}function DeflateRaw(opts){return this instanceof DeflateRaw?void Zlib.call(this,opts,binding.DEFLATERAW):new DeflateRaw(opts)}function InflateRaw(opts){return this instanceof InflateRaw?void Zlib.call(this,opts,binding.INFLATERAW):new InflateRaw(opts)}function Unzip(opts){return this instanceof Unzip?void Zlib.call(this,opts,binding.UNZIP):new Unzip(opts)}function Zlib(opts,mode){if(this._opts=opts=opts||{},this._chunkSize=opts.chunkSize||exports.Z_DEFAULT_CHUNK,Transform.call(this,opts),opts.flush&&opts.flush!==binding.Z_NO_FLUSH&&opts.flush!==binding.Z_PARTIAL_FLUSH&&opts.flush!==binding.Z_SYNC_FLUSH&&opts.flush!==binding.Z_FULL_FLUSH&&opts.flush!==binding.Z_FINISH&&opts.flush!==binding.Z_BLOCK)throw new Error("Invalid flush flag: "+opts.flush);if(this._flushFlag=opts.flush||binding.Z_NO_FLUSH,opts.chunkSize&&(opts.chunkSize<exports.Z_MIN_CHUNK||opts.chunkSize>exports.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+opts.chunkSize);if(opts.windowBits&&(opts.windowBits<exports.Z_MIN_WINDOWBITS||opts.windowBits>exports.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+opts.windowBits);if(opts.level&&(opts.level<exports.Z_MIN_LEVEL||opts.level>exports.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+opts.level);if(opts.memLevel&&(opts.memLevel<exports.Z_MIN_MEMLEVEL||opts.memLevel>exports.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+opts.memLevel);if(opts.strategy&&opts.strategy!=exports.Z_FILTERED&&opts.strategy!=exports.Z_HUFFMAN_ONLY&&opts.strategy!=exports.Z_RLE&&opts.strategy!=exports.Z_FIXED&&opts.strategy!=exports.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+opts.strategy);if(opts.dictionary&&!Buffer.isBuffer(opts.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new binding.Zlib(mode);var self=this;this._hadError=!1,this._binding.onerror=function(message,errno){self._binding=null,self._hadError=!0;var error=new Error(message);error.errno=errno,error.code=exports.codes[errno],self.emit("error",error)};var level=exports.Z_DEFAULT_COMPRESSION;"number"==typeof opts.level&&(level=opts.level);var strategy=exports.Z_DEFAULT_STRATEGY;"number"==typeof opts.strategy&&(strategy=opts.strategy),this._binding.init(opts.windowBits||exports.Z_DEFAULT_WINDOWBITS,level,opts.memLevel||exports.Z_DEFAULT_MEMLEVEL,strategy,opts.dictionary),this._buffer=new Buffer(this._chunkSize),this._offset=0,this._closed=!1,this._level=level,this._strategy=strategy,this.once("end",this.close)}var Transform=require("_stream_transform"),binding=require("./binding"),util=require("util"),assert=require("assert").ok;binding.Z_MIN_WINDOWBITS=8,binding.Z_MAX_WINDOWBITS=15,binding.Z_DEFAULT_WINDOWBITS=15,binding.Z_MIN_CHUNK=64,binding.Z_MAX_CHUNK=1/0,binding.Z_DEFAULT_CHUNK=16384,binding.Z_MIN_MEMLEVEL=1,binding.Z_MAX_MEMLEVEL=9,binding.Z_DEFAULT_MEMLEVEL=8,binding.Z_MIN_LEVEL=-1,binding.Z_MAX_LEVEL=9,binding.Z_DEFAULT_LEVEL=binding.Z_DEFAULT_COMPRESSION,Object.keys(binding).forEach(function(k){k.match(/^Z/)&&(exports[k]=binding[k])}),exports.codes={Z_OK:binding.Z_OK,Z_STREAM_END:binding.Z_STREAM_END,Z_NEED_DICT:binding.Z_NEED_DICT,Z_ERRNO:binding.Z_ERRNO,Z_STREAM_ERROR:binding.Z_STREAM_ERROR,Z_DATA_ERROR:binding.Z_DATA_ERROR,Z_MEM_ERROR:binding.Z_MEM_ERROR,Z_BUF_ERROR:binding.Z_BUF_ERROR,Z_VERSION_ERROR:binding.Z_VERSION_ERROR},Object.keys(exports.codes).forEach(function(k){exports.codes[exports.codes[k]]=k}),exports.Deflate=Deflate,exports.Inflate=Inflate,exports.Gzip=Gzip,exports.Gunzip=Gunzip,exports.DeflateRaw=DeflateRaw,exports.InflateRaw=InflateRaw,exports.Unzip=Unzip,exports.createDeflate=function(o){return new Deflate(o)},exports.createInflate=function(o){return new Inflate(o)},exports.createDeflateRaw=function(o){return new DeflateRaw(o)},exports.createInflateRaw=function(o){return new InflateRaw(o)},exports.createGzip=function(o){return new Gzip(o)},exports.createGunzip=function(o){return new Gunzip(o)},exports.createUnzip=function(o){return new Unzip(o)},exports.deflate=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Deflate(opts),buffer,callback)},exports.deflateSync=function(buffer,opts){return zlibBufferSync(new Deflate(opts),buffer)},exports.gzip=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Gzip(opts),buffer,callback)},exports.gzipSync=function(buffer,opts){return zlibBufferSync(new Gzip(opts),buffer)},exports.deflateRaw=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new DeflateRaw(opts),buffer,callback)},exports.deflateRawSync=function(buffer,opts){return zlibBufferSync(new DeflateRaw(opts),buffer)},exports.unzip=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Unzip(opts),buffer,callback)},exports.unzipSync=function(buffer,opts){return zlibBufferSync(new Unzip(opts),buffer)},exports.inflate=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Inflate(opts),buffer,callback)},exports.inflateSync=function(buffer,opts){return zlibBufferSync(new Inflate(opts),buffer)},exports.gunzip=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new Gunzip(opts),buffer,callback)},exports.gunzipSync=function(buffer,opts){return zlibBufferSync(new Gunzip(opts),buffer)},exports.inflateRaw=function(buffer,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),zlibBuffer(new InflateRaw(opts),buffer,callback)},exports.inflateRawSync=function(buffer,opts){return zlibBufferSync(new InflateRaw(opts),buffer)},util.inherits(Zlib,Transform),Zlib.prototype.params=function(level,strategy,callback){if(level<exports.Z_MIN_LEVEL||level>exports.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+level);if(strategy!=exports.Z_FILTERED&&strategy!=exports.Z_HUFFMAN_ONLY&&strategy!=exports.Z_RLE&&strategy!=exports.Z_FIXED&&strategy!=exports.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+strategy);if(this._level!==level||this._strategy!==strategy){var self=this;this.flush(binding.Z_SYNC_FLUSH,function(){self._binding.params(level,strategy),self._hadError||(self._level=level,self._strategy=strategy,callback&&callback())})}else process.nextTick(callback)},Zlib.prototype.reset=function(){return this._binding.reset()},Zlib.prototype._flush=function(callback){this._transform(new Buffer(0),"",callback)},Zlib.prototype.flush=function(kind,callback){var ws=this._writableState;if(("function"==typeof kind||void 0===kind&&!callback)&&(callback=kind,kind=binding.Z_FULL_FLUSH),ws.ended)callback&&process.nextTick(callback);else if(ws.ending)callback&&this.once("end",callback);else if(ws.needDrain){var self=this;this.once("drain",function(){self.flush(callback)})}else this._flushFlag=kind,this.write(new Buffer(0),"",callback)},Zlib.prototype.close=function(callback){if(callback&&process.nextTick(callback),!this._closed){this._closed=!0,this._binding.close();var self=this;process.nextTick(function(){self.emit("close")})}},Zlib.prototype._transform=function(chunk,encoding,cb){var flushFlag,ws=this._writableState,ending=ws.ending||ws.ended,last=ending&&(!chunk||ws.length===chunk.length);if(null===!chunk&&!Buffer.isBuffer(chunk))return cb(new Error("invalid input"));last?flushFlag=binding.Z_FINISH:(flushFlag=this._flushFlag,chunk.length>=ws.length&&(this._flushFlag=this._opts.flush||binding.Z_NO_FLUSH));this._processChunk(chunk,flushFlag,cb)},Zlib.prototype._processChunk=function(chunk,flushFlag,cb){function callback(availInAfter,availOutAfter){if(!self._hadError){var have=availOutBefore-availOutAfter;if(assert(have>=0,"have should not go down"),have>0){var out=self._buffer.slice(self._offset,self._offset+have);self._offset+=have,async?self.push(out):(buffers.push(out),nread+=out.length)}if((0===availOutAfter||self._offset>=self._chunkSize)&&(availOutBefore=self._chunkSize,self._offset=0,self._buffer=new Buffer(self._chunkSize)),0===availOutAfter){if(inOff+=availInBefore-availInAfter,availInBefore=availInAfter,!async)return!0;var newReq=self._binding.write(flushFlag,chunk,inOff,availInBefore,self._buffer,self._offset,self._chunkSize);return newReq.callback=callback,void(newReq.buffer=chunk)}return async?void cb():!1}}var availInBefore=chunk&&chunk.length,availOutBefore=this._chunkSize-this._offset,inOff=0,self=this,async="function"==typeof cb;if(!async){var error,buffers=[],nread=0;this.on("error",function(er){error=er});do var res=this._binding.writeSync(flushFlag,chunk,inOff,availInBefore,this._buffer,this._offset,availOutBefore);while(!this._hadError&&callback(res[0],res[1]));if(this._hadError)throw error;var buf=Buffer.concat(buffers,nread);return this.close(),buf}var req=this._binding.write(flushFlag,chunk,inOff,availInBefore,this._buffer,this._offset,availOutBefore);req.buffer=chunk,req.callback=callback},util.inherits(Deflate,Zlib),util.inherits(Inflate,Zlib),util.inherits(Gzip,Zlib),util.inherits(Gunzip,Zlib),util.inherits(DeflateRaw,Zlib),util.inherits(InflateRaw,Zlib),util.inherits(Unzip,Zlib)}).call(this,require("_process"),require("buffer").Buffer)},{"./binding":15,_process:167,_stream_transform:181,assert:2,buffer:17,util:187}],17:[function(require,module,exports){function Buffer(arg){return this instanceof Buffer?(this.length=0,this.parent=void 0,"number"==typeof arg?fromNumber(this,arg):"string"==typeof arg?fromString(this,arg,arguments.length>1?arguments[1]:"utf8"):fromObject(this,arg)):arguments.length>1?new Buffer(arg,arguments[1]):new Buffer(arg)}function fromNumber(that,length){if(that=allocate(that,0>length?0:0|checked(length)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;length>i;i++)that[i]=0;return that}function fromString(that,string,encoding){("string"!=typeof encoding||""===encoding)&&(encoding="utf8");var length=0|byteLength(string,encoding);return that=allocate(that,length),that.write(string,encoding),that}function fromObject(that,object){if(Buffer.isBuffer(object))return fromBuffer(that,object);if(isArray(object))return fromArray(that,object);if(null==object)throw new TypeError("must start with number, buffer, array or string");return"undefined"!=typeof ArrayBuffer&&object.buffer instanceof ArrayBuffer?fromTypedArray(that,object):object.length?fromArrayLike(that,object):fromJsonObject(that,object)}function fromBuffer(that,buffer){var length=0|checked(buffer.length);return that=allocate(that,length),buffer.copy(that,0,0,length),that}function fromArray(that,array){var length=0|checked(array.length);that=allocate(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function fromTypedArray(that,array){var length=0|checked(array.length);that=allocate(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function fromArrayLike(that,array){var length=0|checked(array.length);that=allocate(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function fromJsonObject(that,object){var array,length=0;"Buffer"===object.type&&isArray(object.data)&&(array=object.data,length=0|checked(array.length)),that=allocate(that,length);for(var i=0;length>i;i+=1)that[i]=255&array[i];return that}function allocate(that,length){Buffer.TYPED_ARRAY_SUPPORT?that=Buffer._augment(new Uint8Array(length)):(that.length=length,that._isBuffer=!0);var fromPool=0!==length&&length<=Buffer.poolSize>>>1;return fromPool&&(that.parent=rootParent),that}function checked(length){if(length>=kMaxLength)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength.toString(16)+" bytes");return 0|length}function SlowBuffer(subject,encoding){if(!(this instanceof SlowBuffer))return new SlowBuffer(subject,encoding);var buf=new Buffer(subject,encoding);return delete buf.parent,buf}function byteLength(string,encoding){if("string"!=typeof string&&(string=String(string)),0===string.length)return 0;switch(encoding||"utf8"){case"ascii":case"binary":case"raw":return string.length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*string.length;case"hex":return string.length>>>1;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"base64":return base64ToBytes(string).length;default:return string.length}}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;length>i;i++){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))throw new Error("Invalid hex string");buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return base64.fromByteArray(0===start&&end===buf.length?buf:buf.slice(start,end))}function utf8Slice(buf,start,end){var res="",tmp="";end=Math.min(buf.length,end);for(var i=start;end>i;i++)buf[i]<=127?(res+=decodeUtf8Char(tmp)+String.fromCharCode(buf[i]),tmp=""):tmp+="%"+buf[i].toString(16);return res+decodeUtf8Char(tmp)}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;end>i;i++)ret+=String.fromCharCode(127&buf[i]);return ret}function binarySlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;end>i;i++)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||0>start)&&(start=0),(!end||0>end||end>len)&&(end=len);for(var out="",i=start;end>i;i++)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!==0||0>offset)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError("buffer must be a Buffer instance");if(value>max||min>value)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){0>value&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);j>i;i++)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){0>value&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);j>i;i++)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(value>max||min>value)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range");if(0>offset)throw new RangeError("index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!==0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return 16>n?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;length>i;i++){if(codePoint=string.charCodeAt(i),codePoint>55295&&57344>codePoint){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(56320>codePoint){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=leadSurrogate-55296<<10|codePoint-56320|65536,leadSurrogate=null}else leadSurrogate&&((units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=null);if(128>codePoint){if((units-=1)<0)break;bytes.push(codePoint)}else if(2048>codePoint){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(65536>codePoint){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(2097152>codePoint))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);i++)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;length>i&&!(i+offset>=dst.length||i>=src.length);i++)dst[i+offset]=src[i];return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("is-array");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192;var kMaxLength=1073741823,rootParent={};Buffer.TYPED_ARRAY_SUPPORT=function(){try{var buf=new ArrayBuffer(0),arr=new Uint8Array(buf);return arr.foo=function(){return 42},42===arr.foo()&&"function"==typeof arr.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(e){return!1}}(),Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);len>i&&a[i]===b[i];)++i;return i!==len&&(x=a[i],y=b[i]),y>x?-1:x>y?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError("list argument must be an Array of Buffers.");if(0===list.length)return new Buffer(0);if(1===list.length)return list[0];var i;if(void 0===length)for(length=0,i=0;i<list.length;i++)length+=list[i].length;var buf=new Buffer(length),pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos),pos+=item.length}return buf},Buffer.byteLength=byteLength,Buffer.prototype.length=void 0,Buffer.prototype.parent=void 0,Buffer.prototype.toString=function(encoding,start,end){var loweredCase=!1;if(start=0|start,end=void 0===end||end===1/0?this.length:0|end,encoding||(encoding="utf8"),0>start&&(start=0),end>this.length&&(end=this.length),start>=end)return"";for(;;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?!0:0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b?0:Buffer.compare(this,b)},Buffer.prototype.indexOf=function(val,byteOffset){function arrayIndexOf(arr,val,byteOffset){for(var foundIndex=-1,i=0;byteOffset+i<arr.length;i++)if(arr[byteOffset+i]===val[-1===foundIndex?0:i-foundIndex]){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===val.length)return byteOffset+foundIndex}else foundIndex=-1;return-1}if(byteOffset>2147483647?byteOffset=2147483647:-2147483648>byteOffset&&(byteOffset=-2147483648),byteOffset>>=0,0===this.length)return-1;if(byteOffset>=this.length)return-1;if(0>byteOffset&&(byteOffset=Math.max(this.length+byteOffset,0)),"string"==typeof val)return 0===val.length?-1:String.prototype.indexOf.call(this,val,byteOffset);if(Buffer.isBuffer(val))return arrayIndexOf(this,val,byteOffset);if("number"==typeof val)return Buffer.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,val,byteOffset):arrayIndexOf(this,[val],byteOffset);throw new TypeError("val must be string, number or Buffer")},Buffer.prototype.get=function(offset){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(offset)},Buffer.prototype.set=function(v,offset){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(v,offset)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else if(isFinite(offset))offset=0|offset,isFinite(length)?(length=0|length,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=0|length,length=swap}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(0>length||0>offset)||offset>this.length)throw new RangeError("attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"binary":return binaryWrite(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,0>start?(start+=len,0>start&&(start=0)):start>len&&(start=len),0>end?(end+=len,0>end&&(end=0)):end>len&&(end=len),start>end&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=Buffer._augment(this.subarray(start,end));else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;sliceLen>i;i++)newBuf[i]=this[i+start]}return newBuf.length&&(newBuf.parent=this.parent||this),newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset=0|offset,byteLength=0|byteLength,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){value=+value,offset=0|offset,byteLength=0|byteLength,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;

return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){value=+value,offset=0|offset,byteLength=0|byteLength,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0>value?1:0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset=0|offset,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0>value?1:0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),0>value&&(value=255+value+1),this[offset]=value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset=0|offset,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),0>value&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&start>end&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(0>targetStart)throw new RangeError("targetStart out of bounds");if(0>start||start>=this.length)throw new RangeError("sourceStart out of bounds");if(0>end)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var len=end-start;if(1e3>len||!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;len>i;i++)target[i+targetStart]=this[i+start];else target._set(this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(value,start,end){if(value||(value=0),start||(start=0),end||(end=this.length),start>end)throw new RangeError("end < start");if(end!==start&&0!==this.length){if(0>start||start>=this.length)throw new RangeError("start out of bounds");if(0>end||end>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof value)for(i=start;end>i;i++)this[i]=value;else{var bytes=utf8ToBytes(value.toString()),len=bytes.length;for(i=start;end>i;i++)this[i]=bytes[i%len]}return this}},Buffer.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(Buffer.TYPED_ARRAY_SUPPORT)return new Buffer(this).buffer;for(var buf=new Uint8Array(this.length),i=0,len=buf.length;len>i;i+=1)buf[i]=this[i];return buf.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;Buffer._augment=function(arr){return arr.constructor=Buffer,arr._isBuffer=!0,arr._set=arr.set,arr.get=BP.get,arr.set=BP.set,arr.write=BP.write,arr.toString=BP.toString,arr.toLocaleString=BP.toString,arr.toJSON=BP.toJSON,arr.equals=BP.equals,arr.compare=BP.compare,arr.indexOf=BP.indexOf,arr.copy=BP.copy,arr.slice=BP.slice,arr.readUIntLE=BP.readUIntLE,arr.readUIntBE=BP.readUIntBE,arr.readUInt8=BP.readUInt8,arr.readUInt16LE=BP.readUInt16LE,arr.readUInt16BE=BP.readUInt16BE,arr.readUInt32LE=BP.readUInt32LE,arr.readUInt32BE=BP.readUInt32BE,arr.readIntLE=BP.readIntLE,arr.readIntBE=BP.readIntBE,arr.readInt8=BP.readInt8,arr.readInt16LE=BP.readInt16LE,arr.readInt16BE=BP.readInt16BE,arr.readInt32LE=BP.readInt32LE,arr.readInt32BE=BP.readInt32BE,arr.readFloatLE=BP.readFloatLE,arr.readFloatBE=BP.readFloatBE,arr.readDoubleLE=BP.readDoubleLE,arr.readDoubleBE=BP.readDoubleBE,arr.writeUInt8=BP.writeUInt8,arr.writeUIntLE=BP.writeUIntLE,arr.writeUIntBE=BP.writeUIntBE,arr.writeUInt16LE=BP.writeUInt16LE,arr.writeUInt16BE=BP.writeUInt16BE,arr.writeUInt32LE=BP.writeUInt32LE,arr.writeUInt32BE=BP.writeUInt32BE,arr.writeIntLE=BP.writeIntLE,arr.writeIntBE=BP.writeIntBE,arr.writeInt8=BP.writeInt8,arr.writeInt16LE=BP.writeInt16LE,arr.writeInt16BE=BP.writeInt16BE,arr.writeInt32LE=BP.writeInt32LE,arr.writeInt32BE=BP.writeInt32BE,arr.writeFloatLE=BP.writeFloatLE,arr.writeFloatBE=BP.writeFloatBE,arr.writeDoubleLE=BP.writeDoubleLE,arr.writeDoubleBE=BP.writeDoubleBE,arr.fill=BP.fill,arr.inspect=BP.inspect,arr.toArrayBuffer=BP.toArrayBuffer,arr};var INVALID_BASE64_RE=/[^+\/0-9A-z\-]/g},{"base64-js":18,ieee754:19,"is-array":20}],18:[function(require,module,exports){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(exports){"use strict";function decode(elt){var code=elt.charCodeAt(0);return code===PLUS||code===PLUS_URL_SAFE?62:code===SLASH||code===SLASH_URL_SAFE?63:NUMBER>code?-1:NUMBER+10>code?code-NUMBER+26+26:UPPER+26>code?code-UPPER:LOWER+26>code?code-LOWER+26:void 0}function b64ToByteArray(b64){function push(v){arr[L++]=v}var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0,arr=new Arr(3*b64.length/4-placeHolders),l=placeHolders>0?b64.length-4:b64.length;var L=0;for(i=0,j=0;l>i;i+=4,j+=3)tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3)),push((16711680&tmp)>>16),push((65280&tmp)>>8),push(255&tmp);return 2===placeHolders?(tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4,push(255&tmp)):1===placeHolders&&(tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2,push(tmp>>8&255),push(255&tmp)),arr}function uint8ToBase64(uint8){function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(63&num)}var i,temp,length,extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;length>i;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=encode(temp>>2),output+=encode(temp<<4&63),output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=encode(temp>>10),output+=encode(temp>>4&63),output+=encode(temp<<2&63),output+="="}return output}var Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,PLUS="+".charCodeAt(0),SLASH="/".charCodeAt(0),NUMBER="0".charCodeAt(0),LOWER="a".charCodeAt(0),UPPER="A".charCodeAt(0),PLUS_URL_SAFE="-".charCodeAt(0),SLASH_URL_SAFE="_".charCodeAt(0);exports.toByteArray=b64ToByteArray,exports.fromByteArray=uint8ToBase64}("undefined"==typeof exports?this.base64js={}:exports)},{}],19:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?0/0:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=0>value||0===value&&0>1/value?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],20:[function(require,module){var isArray=Array.isArray,str=Object.prototype.toString;module.exports=isArray||function(val){return!!val&&"[object Array]"==str.call(val)}},{}],21:[function(require,module,exports){"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=require("randombytes"),exports.createHash=exports.Hash=require("create-hash"),exports.createHmac=exports.Hmac=require("create-hmac");var hashes=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(require("browserify-sign/algos")));exports.getHashes=function(){return hashes};var p=require("pbkdf2");exports.pbkdf2=p.pbkdf2,exports.pbkdf2Sync=p.pbkdf2Sync;var aes=require("browserify-aes");["Cipher","createCipher","Cipheriv","createCipheriv","Decipher","createDecipher","Decipheriv","createDecipheriv","getCiphers","listCiphers"].forEach(function(key){exports[key]=aes[key]});var dh=require("diffie-hellman");["DiffieHellmanGroup","createDiffieHellmanGroup","getDiffieHellman","createDiffieHellman","DiffieHellman"].forEach(function(key){exports[key]=dh[key]});var sign=require("browserify-sign");["createSign","Sign","createVerify","Verify"].forEach(function(key){exports[key]=sign[key]}),exports.createECDH=require("create-ecdh");var publicEncrypt=require("public-encrypt");["publicEncrypt","privateEncrypt","publicDecrypt","privateDecrypt"].forEach(function(key){exports[key]=publicEncrypt[key]}),["createCredentials"].forEach(function(name){exports[name]=function(){throw new Error(["sorry, "+name+" is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))}})},{"browserify-aes":25,"browserify-sign":41,"browserify-sign/algos":40,"create-ecdh":87,"create-hash":109,"create-hmac":121,"diffie-hellman":122,pbkdf2:129,"public-encrypt":130,randombytes:157}],22:[function(require,module){(function(Buffer){function EVP_BytesToKey(password,keyLen,ivLen){Buffer.isBuffer(password)||(password=new Buffer(password,"binary")),keyLen/=8,ivLen=ivLen||0;for(var md_buf,i,ki=0,ii=0,key=new Buffer(keyLen),iv=new Buffer(ivLen),addmd=0,bufs=[];;){if(addmd++>0&&bufs.push(md_buf),bufs.push(password),md_buf=md5(Buffer.concat(bufs)),bufs=[],i=0,keyLen>0)for(;;){if(0===keyLen)break;if(i===md_buf.length)break;key[ki++]=md_buf[i],keyLen--,i++}if(ivLen>0&&i!==md_buf.length)for(;;){if(0===ivLen)break;if(i===md_buf.length)break;iv[ii++]=md_buf[i],ivLen--,i++}if(0===keyLen&&0===ivLen)break}for(i=0;i<md_buf.length;i++)md_buf[i]=0;return{key:key,iv:iv}}var md5=require("create-hash/md5");module.exports=EVP_BytesToKey}).call(this,require("buffer").Buffer)},{buffer:17,"create-hash/md5":111}],23:[function(require,module,exports){(function(Buffer){function fixup_uint32(x){var ret,x_pos;return ret=x>uint_max||0>x?(x_pos=Math.abs(x)%uint_max,0>x?uint_max-x_pos:x_pos):x}function scrub_vec(v){var i,_i,_ref;for(i=_i=0,_ref=v.length;_ref>=0?_ref>_i:_i>_ref;i=_ref>=0?++_i:--_i)v[i]=0;return!1}function Global(){var i;this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=function(){var _i,_results;for(_results=[],i=_i=0;4>_i;i=++_i)_results.push([]);return _results}(),this.INV_SUB_MIX=function(){var _i,_results;for(_results=[],i=_i=0;4>_i;i=++_i)_results.push([]);return _results}(),this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function bufferToArray(buf){for(var len=buf.length/4,out=new Array(len),i=-1;++i<len;)out[i]=buf.readUInt32BE(4*i);return out}function AES(key){this._key=bufferToArray(key),this._doReset()}var uint_max=Math.pow(2,32);Global.prototype.init=function(){var d,i,sx,t,x,x2,x4,x8,xi,_i;for(d=function(){var _i,_results;for(_results=[],i=_i=0;256>_i;i=++_i)_results.push(128>i?i<<1:i<<1^283);return _results}(),x=0,xi=0,i=_i=0;256>_i;i=++_i)sx=xi^xi<<1^xi<<2^xi<<3^xi<<4,sx=sx>>>8^255&sx^99,this.SBOX[x]=sx,this.INV_SBOX[sx]=x,x2=d[x],x4=d[x2],x8=d[x4],t=257*d[sx]^16843008*sx,this.SUB_MIX[0][x]=t<<24|t>>>8,this.SUB_MIX[1][x]=t<<16|t>>>16,this.SUB_MIX[2][x]=t<<8|t>>>24,this.SUB_MIX[3][x]=t,t=16843009*x8^65537*x4^257*x2^16843008*x,this.INV_SUB_MIX[0][sx]=t<<24|t>>>8,this.INV_SUB_MIX[1][sx]=t<<16|t>>>16,this.INV_SUB_MIX[2][sx]=t<<8|t>>>24,this.INV_SUB_MIX[3][sx]=t,0===x?x=xi=1:(x=x2^d[d[d[x8^x2]]],xi^=d[d[xi]]);return!0};var G=new Global;AES.blockSize=16,AES.prototype.blockSize=AES.blockSize,AES.keySize=32,AES.prototype.keySize=AES.keySize,AES.prototype._doReset=function(){var invKsRow,keySize,keyWords,ksRow,ksRows,t,_i,_j;for(keyWords=this._key,keySize=keyWords.length,this._nRounds=keySize+6,ksRows=4*(this._nRounds+1),this._keySchedule=[],ksRow=_i=0;ksRows>=0?ksRows>_i:_i>ksRows;ksRow=ksRows>=0?++_i:--_i)this._keySchedule[ksRow]=keySize>ksRow?keyWords[ksRow]:(t=this._keySchedule[ksRow-1],ksRow%keySize===0?(t=t<<8|t>>>24,t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t],t^=G.RCON[ksRow/keySize|0]<<24):keySize>6&&ksRow%keySize===4?t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t]:void 0,this._keySchedule[ksRow-keySize]^t);for(this._invKeySchedule=[],invKsRow=_j=0;ksRows>=0?ksRows>_j:_j>ksRows;invKsRow=ksRows>=0?++_j:--_j)ksRow=ksRows-invKsRow,t=this._keySchedule[ksRow-(invKsRow%4?0:4)],this._invKeySchedule[invKsRow]=4>invKsRow||4>=ksRow?t:G.INV_SUB_MIX[0][G.SBOX[t>>>24]]^G.INV_SUB_MIX[1][G.SBOX[t>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[t>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[255&t]];return!0},AES.prototype.encryptBlock=function(M){M=bufferToArray(new Buffer(M));var out=this._doCryptBlock(M,this._keySchedule,G.SUB_MIX,G.SBOX),buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[1],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[3],12),buf},AES.prototype.decryptBlock=function(M){M=bufferToArray(new Buffer(M));var temp=[M[3],M[1]];M[1]=temp[0],M[3]=temp[1];var out=this._doCryptBlock(M,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX),buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[3],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[1],12),buf},AES.prototype.scrub=function(){scrub_vec(this._keySchedule),scrub_vec(this._invKeySchedule),scrub_vec(this._key)},AES.prototype._doCryptBlock=function(M,keySchedule,SUB_MIX,SBOX){var ksRow,round,s0,s1,s2,s3,t0,t1,t2,t3,_i,_ref;for(s0=M[0]^keySchedule[0],s1=M[1]^keySchedule[1],s2=M[2]^keySchedule[2],s3=M[3]^keySchedule[3],ksRow=4,round=_i=1,_ref=this._nRounds;_ref>=1?_ref>_i:_i>_ref;round=_ref>=1?++_i:--_i)t0=SUB_MIX[0][s0>>>24]^SUB_MIX[1][s1>>>16&255]^SUB_MIX[2][s2>>>8&255]^SUB_MIX[3][255&s3]^keySchedule[ksRow++],t1=SUB_MIX[0][s1>>>24]^SUB_MIX[1][s2>>>16&255]^SUB_MIX[2][s3>>>8&255]^SUB_MIX[3][255&s0]^keySchedule[ksRow++],t2=SUB_MIX[0][s2>>>24]^SUB_MIX[1][s3>>>16&255]^SUB_MIX[2][s0>>>8&255]^SUB_MIX[3][255&s1]^keySchedule[ksRow++],t3=SUB_MIX[0][s3>>>24]^SUB_MIX[1][s0>>>16&255]^SUB_MIX[2][s1>>>8&255]^SUB_MIX[3][255&s2]^keySchedule[ksRow++],s0=t0,s1=t1,s2=t2,s3=t3;return t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[255&s3])^keySchedule[ksRow++],t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[255&s0])^keySchedule[ksRow++],t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[255&s1])^keySchedule[ksRow++],t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[255&s2])^keySchedule[ksRow++],[fixup_uint32(t0),fixup_uint32(t1),fixup_uint32(t2),fixup_uint32(t3)]},exports.AES=AES}).call(this,require("buffer").Buffer)},{buffer:17}],24:[function(require,module){(function(Buffer){function StreamCipher(mode,key,iv,decrypt){if(!(this instanceof StreamCipher))return new StreamCipher(mode,key,iv);Transform.call(this),this._finID=Buffer.concat([iv,new Buffer([0,0,0,1])]),iv=Buffer.concat([iv,new Buffer([0,0,0,2])]),this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=decrypt,this._alen=0,this._len=0,iv.copy(this._prev),this._mode=mode;var h=new Buffer(4);h.fill(0),this._ghash=new GHASH(this._cipher.encryptBlock(h)),this._authTag=null,this._called=!1}function xorTest(a,b){var out=0;a.length!==b.length&&out++;for(var len=Math.min(a.length,b.length),i=-1;++i<len;)out+=a[i]^b[i];return out}var aes=require("./aes"),Transform=require("./cipherBase"),inherits=require("inherits"),GHASH=require("./ghash"),xor=require("./xor");inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(chunk){if(!this._called&&this._alen){var rump=16-this._alen%16;16>rump&&(rump=new Buffer(rump),rump.fill(0),this._ghash.update(rump))}this._called=!0;var out=this._mode.encrypt(this,chunk);return this._ghash.update(this._decrypt?chunk:out),this._len+=chunk.length,out},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var tag=xor(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(xorTest(tag,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=tag;this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function(){if(!this._decrypt&&Buffer.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},StreamCipher.prototype.setAuthTag=function(tag){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=tag},StreamCipher.prototype.setAAD=function(buf){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(buf),this._alen+=buf.length}}).call(this,require("buffer").Buffer)},{"./aes":23,"./cipherBase":26,"./ghash":29,"./xor":39,buffer:17,inherits:164}],25:[function(require,module,exports){function getCiphers(){return Object.keys(modes)}var ciphers=require("./encrypter");exports.createCipher=exports.Cipher=ciphers.createCipher,exports.createCipheriv=exports.Cipheriv=ciphers.createCipheriv;var deciphers=require("./decrypter");exports.createDecipher=exports.Decipher=deciphers.createDecipher,exports.createDecipheriv=exports.Decipheriv=deciphers.createDecipheriv;var modes=require("./modes");exports.listCiphers=exports.getCiphers=getCiphers},{"./decrypter":27,"./encrypter":28,"./modes":30}],26:[function(require,module){(function(Buffer){function CipherBase(){Transform.call(this)}var Transform=require("stream").Transform,inherits=require("inherits");module.exports=CipherBase,inherits(CipherBase,Transform),CipherBase.prototype.update=function(data,inputEnc,outputEnc){"string"==typeof data&&(data=new Buffer(data,inputEnc));var outData=this._update(data);return outputEnc&&(outData=outData.toString(outputEnc)),outData},CipherBase.prototype._transform=function(data,_,next){this.push(this._update(data)),next()},CipherBase.prototype._flush=function(next){try{this.push(this._final())}catch(e){return next(e)}next()},CipherBase.prototype.final=function(outputEnc){var outData=this._final()||new Buffer("");return outputEnc&&(outData=outData.toString(outputEnc)),outData}}).call(this,require("buffer").Buffer)},{buffer:17,inherits:164,stream:183}],27:[function(require,module,exports){(function(Buffer){function Decipher(mode,key,iv){return this instanceof Decipher?(Transform.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),iv.copy(this._prev),this._mode=mode,void(this._autopadding=!0)):new Decipher(mode,key,iv)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function unpad(last){for(var padded=last[15],i=-1;++i<padded;)if(last[i+(16-padded)]!==padded)throw new Error("unable to decrypt data");return 16!==padded?last.slice(0,16-padded):void 0}function createDecipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if("string"==typeof iv&&(iv=new Buffer(iv)),"string"==typeof password&&(password=new Buffer(password)),password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);if(iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);return"stream"===config.type?new StreamCipher(modelist[config.mode],password,iv,!0):"auth"===config.type?new AuthCipher(modelist[config.mode],password,iv,!0):new Decipher(modelist[config.mode],password,iv)}function createDecipher(suite,password){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,config.key,config.iv);return createDecipheriv(suite,keys.key,keys.iv)}var aes=require("./aes"),Transform=require("./cipherBase"),inherits=require("inherits"),modes=require("./modes"),StreamCipher=require("./streamCipher"),AuthCipher=require("./authCipher"),ebtk=require("./EVP_BytesToKey");inherits(Decipher,Transform),Decipher.prototype._update=function(data){this._cache.add(data);for(var chunk,thing,out=[];chunk=this._cache.get(this._autopadding);)thing=this._mode.decrypt(this,chunk),out.push(thing);return Buffer.concat(out)},Decipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,chunk));if(chunk)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(setTo){this._autopadding=!!setTo},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(autoPadding){var out;if(autoPadding){if(this.cache.length>16)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out}else if(this.cache.length>=16)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out;return null},Splitter.prototype.flush=function(){return this.cache.length?this.cache:void 0};var modelist={ECB:require("./modes/ecb"),CBC:require("./modes/cbc"),CFB:require("./modes/cfb"),CFB8:require("./modes/cfb8"),CFB1:require("./modes/cfb1"),OFB:require("./modes/ofb"),CTR:require("./modes/ctr"),GCM:require("./modes/ctr")};exports.createDecipher=createDecipher,exports.createDecipheriv=createDecipheriv}).call(this,require("buffer").Buffer)},{"./EVP_BytesToKey":22,"./aes":23,"./authCipher":24,"./cipherBase":26,"./modes":30,"./modes/cbc":31,"./modes/cfb":32,"./modes/cfb1":33,"./modes/cfb8":34,"./modes/ctr":35,"./modes/ecb":36,"./modes/ofb":37,"./streamCipher":38,buffer:17,inherits:164}],28:[function(require,module,exports){(function(Buffer){function Cipher(mode,key,iv){return this instanceof Cipher?(Transform.call(this),this._cache=new Splitter,this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),iv.copy(this._prev),this._mode=mode,void(this._autopadding=!0)):new Cipher(mode,key,iv)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function createCipheriv(suite,password,iv){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if("string"==typeof iv&&(iv=new Buffer(iv)),"string"==typeof password&&(password=new Buffer(password)),password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);if(iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);return"stream"===config.type?new StreamCipher(modelist[config.mode],password,iv):"auth"===config.type?new AuthCipher(modelist[config.mode],password,iv):new Cipher(modelist[config.mode],password,iv)}function createCipher(suite,password){var config=modes[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,config.key,config.iv);return createCipheriv(suite,keys.key,keys.iv)}var aes=require("./aes"),Transform=require("./cipherBase"),inherits=require("inherits"),modes=require("./modes"),ebtk=require("./EVP_BytesToKey"),StreamCipher=require("./streamCipher"),AuthCipher=require("./authCipher");inherits(Cipher,Transform),Cipher.prototype._update=function(data){this._cache.add(data);for(var chunk,thing,out=[];chunk=this._cache.get();)thing=this._mode.encrypt(this,chunk),out.push(thing);return Buffer.concat(out)},Cipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return chunk=this._mode.encrypt(this,chunk),this._cipher.scrub(),chunk;if("10101010101010101010101010101010"!==chunk.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(setTo){this._autopadding=!!setTo},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(){if(this.cache.length>15){var out=this.cache.slice(0,16);return this.cache=this.cache.slice(16),out}return null},Splitter.prototype.flush=function(){for(var len=16-this.cache.length,padBuff=new Buffer(len),i=-1;++i<len;)padBuff.writeUInt8(len,i);var out=Buffer.concat([this.cache,padBuff]);return out};var modelist={ECB:require("./modes/ecb"),CBC:require("./modes/cbc"),CFB:require("./modes/cfb"),CFB8:require("./modes/cfb8"),CFB1:require("./modes/cfb1"),OFB:require("./modes/ofb"),CTR:require("./modes/ctr"),GCM:require("./modes/ctr")};exports.createCipheriv=createCipheriv,exports.createCipher=createCipher}).call(this,require("buffer").Buffer)},{"./EVP_BytesToKey":22,"./aes":23,"./authCipher":24,"./cipherBase":26,"./modes":30,"./modes/cbc":31,"./modes/cfb":32,"./modes/cfb1":33,"./modes/cfb8":34,"./modes/ctr":35,"./modes/ecb":36,"./modes/ofb":37,"./streamCipher":38,buffer:17,inherits:164}],29:[function(require,module){(function(Buffer){function GHASH(key){this.h=key,this.state=new Buffer(16),this.state.fill(0),this.cache=new Buffer("")}function toArray(buf){return[buf.readUInt32BE(0),buf.readUInt32BE(4),buf.readUInt32BE(8),buf.readUInt32BE(12)]}function fromArray(out){out=out.map(fixup_uint32);var buf=new Buffer(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[1],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[3],12),buf}function fixup_uint32(x){var ret,x_pos;return ret=x>uint_max||0>x?(x_pos=Math.abs(x)%uint_max,0>x?uint_max-x_pos:x_pos):x}function xor(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}var zeros=new Buffer(16);zeros.fill(0),module.exports=GHASH,GHASH.prototype.ghash=function(block){for(var i=-1;++i<block.length;)this.state[i]^=block[i];this._multiply()},GHASH.prototype._multiply=function(){for(var j,xi,lsb_Vi,Vi=toArray(this.h),Zi=[0,0,0,0],i=-1;++i<128;){for(xi=0!==(this.state[~~(i/8)]&1<<7-i%8),xi&&(Zi=xor(Zi,Vi)),lsb_Vi=0!==(1&Vi[3]),j=3;j>0;j--)Vi[j]=Vi[j]>>>1|(1&Vi[j-1])<<31;Vi[0]=Vi[0]>>>1,lsb_Vi&&(Vi[0]=Vi[0]^225<<24)}this.state=fromArray(Zi)},GHASH.prototype.update=function(buf){this.cache=Buffer.concat([this.cache,buf]);for(var chunk;this.cache.length>=16;)chunk=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(chunk)},GHASH.prototype.final=function(abl,bl){return this.cache.length&&this.ghash(Buffer.concat([this.cache,zeros],16)),this.ghash(fromArray([0,abl,0,bl])),this.state};var uint_max=Math.pow(2,32)}).call(this,require("buffer").Buffer)},{buffer:17}],30:[function(require,module,exports){exports["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},exports["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},exports["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},exports["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},exports["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},exports["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},exports.aes128=exports["aes-128-cbc"],exports.aes192=exports["aes-192-cbc"],exports.aes256=exports["aes-256-cbc"],exports["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},exports["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},exports["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},exports["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},exports["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},exports["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},exports["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},exports["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},exports["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},exports["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},exports["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},exports["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},exports["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},exports["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},exports["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},exports["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},exports["aes-192-gcm"]={cipher:"AES",key:192,iv:12,
mode:"GCM",type:"auth"},exports["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},{}],31:[function(require,module,exports){var xor=require("../xor");exports.encrypt=function(self,block){var data=xor(block,self._prev);return self._prev=self._cipher.encryptBlock(data),self._prev},exports.decrypt=function(self,block){var pad=self._prev;self._prev=block;var out=self._cipher.decryptBlock(block);return xor(out,pad)}},{"../xor":39}],32:[function(require,module,exports){(function(Buffer){function encryptStart(self,data,decrypt){var len=data.length,out=xor(data,self._cache);return self._cache=self._cache.slice(len),self._prev=Buffer.concat([self._prev,decrypt?data:out]),out}var xor=require("../xor");exports.encrypt=function(self,data,decrypt){for(var len,out=new Buffer("");data.length;){if(0===self._cache.length&&(self._cache=self._cipher.encryptBlock(self._prev),self._prev=new Buffer("")),!(self._cache.length<=data.length)){out=Buffer.concat([out,encryptStart(self,data,decrypt)]);break}len=self._cache.length,out=Buffer.concat([out,encryptStart(self,data.slice(0,len),decrypt)]),data=data.slice(len)}return out}}).call(this,require("buffer").Buffer)},{"../xor":39,buffer:17}],33:[function(require,module,exports){(function(Buffer){function encryptByte(self,byte,decrypt){for(var pad,bit,value,i=-1,len=8,out=0;++i<len;)pad=self._cipher.encryptBlock(self._prev),bit=byte&1<<7-i?128:0,value=pad[0]^bit,out+=(128&value)>>i%8,self._prev=shiftIn(self._prev,decrypt?bit:value);return out}function shiftIn(buffer,value){var len=buffer.length,i=-1,out=new Buffer(buffer.length);for(buffer=Buffer.concat([buffer,new Buffer([value])]);++i<len;)out[i]=buffer[i]<<1|buffer[i+1]>>7;return out}exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=new Buffer(len),i=-1;++i<len;)out[i]=encryptByte(self,chunk[i],decrypt);return out}}).call(this,require("buffer").Buffer)},{buffer:17}],34:[function(require,module,exports){(function(Buffer){function encryptByte(self,byte,decrypt){var pad=self._cipher.encryptBlock(self._prev),out=pad[0]^byte;return self._prev=Buffer.concat([self._prev.slice(1),new Buffer([decrypt?byte:out])]),out}exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=new Buffer(len),i=-1;++i<len;)out[i]=encryptByte(self,chunk[i],decrypt);return out}}).call(this,require("buffer").Buffer)},{buffer:17}],35:[function(require,module,exports){(function(Buffer){function getBlock(self){var out=self._cipher.encryptBlock(self._prev);return incr32(self._prev),out}function incr32(iv){for(var item,len=iv.length;len--;){if(item=iv.readUInt8(len),255!==item){item++,iv.writeUInt8(item,len);break}iv.writeUInt8(0,len)}}var xor=require("../xor");exports.encrypt=function(self,chunk){for(;self._cache.length<chunk.length;)self._cache=Buffer.concat([self._cache,getBlock(self)]);var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}}).call(this,require("buffer").Buffer)},{"../xor":39,buffer:17}],36:[function(require,module,exports){exports.encrypt=function(self,block){return self._cipher.encryptBlock(block)},exports.decrypt=function(self,block){return self._cipher.decryptBlock(block)}},{}],37:[function(require,module,exports){(function(Buffer){function getBlock(self){return self._prev=self._cipher.encryptBlock(self._prev),self._prev}var xor=require("../xor");exports.encrypt=function(self,chunk){for(;self._cache.length<chunk.length;)self._cache=Buffer.concat([self._cache,getBlock(self)]);var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}}).call(this,require("buffer").Buffer)},{"../xor":39,buffer:17}],38:[function(require,module){(function(Buffer){function StreamCipher(mode,key,iv,decrypt){return this instanceof StreamCipher?(Transform.call(this),this._cipher=new aes.AES(key),this._prev=new Buffer(iv.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=decrypt,iv.copy(this._prev),void(this._mode=mode)):new StreamCipher(mode,key,iv)}var aes=require("./aes"),Transform=require("./cipherBase"),inherits=require("inherits");inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(chunk){return this._mode.encrypt(this,chunk,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()}}).call(this,require("buffer").Buffer)},{"./aes":23,"./cipherBase":26,buffer:17,inherits:164}],39:[function(require,module){(function(Buffer){function xor(a,b){for(var len=Math.min(a.length,b.length),out=new Buffer(len),i=-1;++i<len;)out.writeUInt8(a[i]^b[i],i);return out}module.exports=xor}).call(this,require("buffer").Buffer)},{buffer:17}],40:[function(require,module,exports){(function(Buffer){"use strict";exports["RSA-SHA224"]=exports.sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:new Buffer("302d300d06096086480165030402040500041c","hex")},exports["RSA-SHA256"]=exports.sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:new Buffer("3031300d060960864801650304020105000420","hex")},exports["RSA-SHA384"]=exports.sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:new Buffer("3041300d060960864801650304020205000430","hex")},exports["RSA-SHA512"]=exports.sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:new Buffer("3051300d060960864801650304020305000440","hex")},exports["RSA-SHA1"]={sign:"rsa",hash:"sha1",id:new Buffer("3021300906052b0e03021a05000414","hex")},exports["ecdsa-with-SHA1"]={sign:"ecdsa",hash:"sha1",id:new Buffer("","hex")},exports.DSA=exports["DSA-SHA1"]=exports["DSA-SHA"]={sign:"dsa",hash:"sha1",id:new Buffer("","hex")},exports["DSA-SHA224"]=exports["DSA-WITH-SHA224"]={sign:"dsa",hash:"sha224",id:new Buffer("","hex")},exports["DSA-SHA256"]=exports["DSA-WITH-SHA256"]={sign:"dsa",hash:"sha256",id:new Buffer("","hex")},exports["DSA-SHA384"]=exports["DSA-WITH-SHA384"]={sign:"dsa",hash:"sha384",id:new Buffer("","hex")},exports["DSA-SHA512"]=exports["DSA-WITH-SHA512"]={sign:"dsa",hash:"sha512",id:new Buffer("","hex")},exports["DSA-RIPEMD160"]={sign:"dsa",hash:"rmd160",id:new Buffer("","hex")},exports["RSA-RIPEMD160"]=exports.ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:new Buffer("3021300906052b2403020105000414","hex")},exports["RSA-MD5"]=exports.md5WithRSAEncryption={sign:"rsa",hash:"md5",id:new Buffer("3020300c06082a864886f70d020505000410","hex")}}).call(this,require("buffer").Buffer)},{buffer:17}],41:[function(require,module,exports){(function(Buffer){"use strict";function createSign(algorithm){return new Sign(algorithm)}function createVerify(algorithm){return new Verify(algorithm)}function Sign(algorithm){stream.Writable.call(this);var data=algos[algorithm];if(!data)throw new Error("Unknown message digest");this._hashType=data.hash,this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}function Verify(algorithm){stream.Writable.call(this);var data=algos[algorithm];if(!data)throw new Error("Unknown message digest");this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}var sign=require("./sign"),verify=require("./verify"),stream=require("stream"),inherits=require("inherits"),_algos=require("./algos"),createHash=require("create-hash"),algos={};Object.keys(_algos).forEach(function(key){algos[key]=algos[key.toLowerCase()]=_algos[key]}),exports.createSign=exports.Sign=createSign,exports.createVerify=exports.Verify=createVerify,inherits(Sign,stream.Writable),Sign.prototype._write=function(data,_,done){this._hash.update(data),done()},Sign.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this._hash.update(data),this},Sign.prototype.sign=function(key,enc){this.end();var hash=this._hash.digest(),sig=sign(Buffer.concat([this._tag,hash]),key,this._hashType,this._signType);return enc&&(sig=sig.toString(enc)),sig},inherits(Verify,stream.Writable),Verify.prototype._write=function(data,_,done){this._hash.update(data),done()},Verify.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this._hash.update(data),this},Verify.prototype.verify=function(key,sig,enc){this.end();var hash=this._hash.digest();return"string"==typeof sig&&(sig=new Buffer(sig,enc)),verify(sig,Buffer.concat([this._tag,hash]),key,this._signType)}}).call(this,require("buffer").Buffer)},{"./algos":40,"./sign":84,"./verify":85,buffer:17,"create-hash":109,inherits:164,stream:183}],42:[function(require,module,exports){"use strict";exports["1.3.132.0.10"]="secp256k1",exports["1.3.132.0.33"]="p224",exports["1.2.840.10045.3.1.1"]="p192",exports["1.2.840.10045.3.1.7"]="p256"},{}],43:[function(require,module){!function(module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}function BN(number,base,endian){return null!==number&&"object"==typeof number&&Array.isArray(number.words)?number:(this.sign=!1,this.words=null,this.length=0,this.red=null,("le"===base||"be"===base)&&(endian=base,base=10),void(null!==number&&this._init(number||0,base||10,endian||"be")))}function parseHex(str,start,end){for(var r=0,len=Math.min(str.length,end),i=start;len>i;i++){var c=str.charCodeAt(i)-48;r<<=4,r|=c>=49&&54>=c?c-49+10:c>=17&&22>=c?c-17+10:15&c}return r}function parseBase(str,start,end,mul){for(var r=0,len=Math.min(str.length,end),i=start;len>i;i++){var c=str.charCodeAt(i)-48;r*=mul,r+=c>=49?c-49+10:c>=17?c-17+10:c}return r}function MPrime(name,p){this.name=name,this.p=new BN(p,16),this.n=this.p.bitLength(),this.k=new BN(1).ishln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(m){if("string"==typeof m){var prime=BN._prime(m);this.m=prime.p,this.prime=prime}else this.m=m,this.prime=null}function Mont(m){Red.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new BN(1).ishln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r.invm(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv.sign=!0,this.minv=this.minv.mod(this.r)}"object"==typeof module?module.exports=BN:exports.BN=BN,BN.BN=BN,BN.wordSize=26,BN.prototype._init=function(number,base,endian){if("number"==typeof number)return 0>number&&(this.sign=!0,number=-number),void(67108864>number?(this.words=[67108863&number],this.length=1):(this.words=[67108863&number,number/67108864&67108863],this.length=2));if("object"==typeof number)return this._initArray(number,base,endian);"hex"===base&&(base=16),assert(base===(0|base)&&base>=2&&36>=base),number=number.toString().replace(/\s+/g,"");var start=0;"-"===number[0]&&start++,16===base?this._parseHex(number,start):this._parseBase(number,base,start),"-"===number[0]&&(this.sign=!0),this.strip()},BN.prototype._initArray=function(number,base,endian){assert("number"==typeof number.length),this.length=Math.ceil(number.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var off=0;if("be"===endian)for(var i=number.length-1,j=0;i>=0;i-=3){var w=number[i]|number[i-1]<<8|number[i-2]<<16;this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,off+=24,off>=26&&(off-=26,j++)}else if("le"===endian)for(var i=0,j=0;i<number.length;i+=3){var w=number[i]|number[i+1]<<8|number[i+2]<<16;this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,off+=24,off>=26&&(off-=26,j++)}return this.strip()},BN.prototype._parseHex=function(number,start){this.length=Math.ceil((number.length-start)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;for(var off=0,i=number.length-6,j=0;i>=start;i-=6){var w=parseHex(number,i,i+6);this.words[j]|=w<<off&67108863,this.words[j+1]|=w>>>26-off&4194303,off+=24,off>=26&&(off-=26,j++)}if(i+6!==start){var w=parseHex(number,start,i+6);this.words[j]|=w<<off&67108863,this.words[j+1]|=w>>>26-off&4194303}this.strip()},BN.prototype._parseBase=function(number,base,start){this.words=[0],this.length=1;for(var limbLen=0,limbPow=1;67108863>=limbPow;limbPow*=base)limbLen++;limbLen--,limbPow=limbPow/base|0;for(var total=number.length-start,mod=total%limbLen,end=Math.min(total,total-mod)+start,word=0,i=start;end>i;i+=limbLen)word=parseBase(number,i,i+limbLen,base),this.imuln(limbPow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word);if(0!==mod){for(var pow=1,word=parseBase(number,i,number.length,base),i=0;mod>i;i++)pow*=base;this.imuln(pow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word)}},BN.prototype.copy=function(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++)dest.words[i]=this.words[i];dest.length=this.length,dest.sign=this.sign,dest.red=this.red},BN.prototype.clone=function(){var r=new BN(null);return this.copy(r),r},BN.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.sign=!1),this},BN.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function(base,padding){if(base=base||10,16===base||"hex"===base){for(var out="",off=0,padding=0|padding||1,carry=0,i=0;i<this.length;i++){var w=this.words[i],word=(16777215&(w<<off|carry)).toString(16);carry=w>>>24-off&16777215,out=0!==carry||i!==this.length-1?zeros[6-word.length]+word+out:word+out,off+=2,off>=26&&(off-=26,i--)}for(0!==carry&&(out=carry.toString(16)+out);out.length%padding!==0;)out="0"+out;return this.sign&&(out="-"+out),out}if(base===(0|base)&&base>=2&&36>=base){var groupSize=groupSizes[base],groupBase=groupBases[base],out="",c=this.clone();for(c.sign=!1;0!==c.cmpn(0);){var r=c.modn(groupBase).toString(base);c=c.idivn(groupBase),out=0!==c.cmpn(0)?zeros[groupSize-r.length]+r+out:r+out}return 0===this.cmpn(0)&&(out="0"+out),this.sign&&(out="-"+out),out}assert(!1,"Base should be between 2 and 36")},BN.prototype.toJSON=function(){return this.toString(16)},BN.prototype.toArray=function(){this.strip();var res=new Array(this.byteLength());res[0]=0;for(var q=this.clone(),i=0;0!==q.cmpn(0);i++){var b=q.andln(255);q.ishrn(8),res[res.length-i-1]=b}return res},BN.prototype._countBits=function(w){return w>=33554432?26:w>=16777216?25:w>=8388608?24:w>=4194304?23:w>=2097152?22:w>=1048576?21:w>=524288?20:w>=262144?19:w>=131072?18:w>=65536?17:w>=32768?16:w>=16384?15:w>=8192?14:w>=4096?13:w>=2048?12:w>=1024?11:w>=512?10:w>=256?9:w>=128?8:w>=64?7:w>=32?6:w>=16?5:w>=8?4:w>=4?3:w>=2?2:w>=1?1:0},BN.prototype.bitLength=function(){var hi=0,w=this.words[this.length-1],hi=this._countBits(w);return 26*(this.length-1)+hi},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.neg=function(){if(0===this.cmpn(0))return this.clone();var r=this.clone();return r.sign=!this.sign,r},BN.prototype.ior=function(num){for(this.sign=this.sign||num.sign;this.length<num.length;)this.words[this.length++]=0;for(var i=0;i<num.length;i++)this.words[i]=this.words[i]|num.words[i];return this.strip()},BN.prototype.or=function(num){return this.length>num.length?this.clone().ior(num):num.clone().ior(this)},BN.prototype.iand=function(num){this.sign=this.sign&&num.sign;var b;b=this.length>num.length?num:this;for(var i=0;i<b.length;i++)this.words[i]=this.words[i]&num.words[i];return this.length=b.length,this.strip()},BN.prototype.and=function(num){return this.length>num.length?this.clone().iand(num):num.clone().iand(this)},BN.prototype.ixor=function(num){this.sign=this.sign||num.sign;var a,b;this.length>num.length?(a=this,b=num):(a=num,b=this);for(var i=0;i<b.length;i++)this.words[i]=a.words[i]^b.words[i];if(this!==a)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=a.length,this.strip()},BN.prototype.xor=function(num){return this.length>num.length?this.clone().ixor(num):num.clone().ixor(this)},BN.prototype.setn=function(bit,val){assert("number"==typeof bit&&bit>=0);for(var off=bit/26|0,wbit=bit%26;this.length<=off;)this.words[this.length++]=0;return this.words[off]=val?this.words[off]|1<<wbit:this.words[off]&~(1<<wbit),this.strip()},BN.prototype.iadd=function(num){if(this.sign&&!num.sign){this.sign=!1;var r=this.isub(num);return this.sign=!this.sign,this._normSign()}if(!this.sign&&num.sign){num.sign=!1;var r=this.isub(num);return num.sign=!0,r._normSign()}var a,b;this.length>num.length?(a=this,b=num):(a=num,b=this);for(var carry=0,i=0;i<b.length;i++){var r=a.words[i]+b.words[i]+carry;this.words[i]=67108863&r,carry=r>>>26}for(;0!==carry&&i<a.length;i++){var r=a.words[i]+carry;this.words[i]=67108863&r,carry=r>>>26}if(this.length=a.length,0!==carry)this.words[this.length]=carry,this.length++;else if(a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this},BN.prototype.add=function(num){if(num.sign&&!this.sign){num.sign=!1;var res=this.sub(num);return num.sign=!0,res}if(!num.sign&&this.sign){this.sign=!1;var res=num.sub(this);return this.sign=!0,res}return this.length>num.length?this.clone().iadd(num):num.clone().iadd(this)},BN.prototype.isub=function(num){if(num.sign){num.sign=!1;var r=this.iadd(num);return num.sign=!0,r._normSign()}if(this.sign)return this.sign=!1,this.iadd(num),this.sign=!0,this._normSign();var cmp=this.cmp(num);if(0===cmp)return this.sign=!1,this.length=1,this.words[0]=0,this;var a,b;cmp>0?(a=this,b=num):(a=num,b=this);for(var carry=0,i=0;i<b.length;i++){var r=a.words[i]-b.words[i]+carry;carry=r>>26,this.words[i]=67108863&r}for(;0!==carry&&i<a.length;i++){var r=a.words[i]+carry;carry=r>>26,this.words[i]=67108863&r}if(0===carry&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=Math.max(this.length,i),a!==this&&(this.sign=!0),this.strip()},BN.prototype.sub=function(num){return this.clone().isub(num)},BN.prototype._smallMulTo=function(num,out){out.sign=num.sign!==this.sign,out.length=this.length+num.length;for(var carry=0,k=0;k<out.length-1;k++){for(var ncarry=carry>>>26,rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-this.length+1);maxJ>=j;j++){var i=k-j,a=0|this.words[i],b=0|num.words[j],r=a*b,lo=67108863&r;ncarry=ncarry+(r/67108864|0)|0,lo=lo+rword|0,rword=67108863&lo,ncarry=ncarry+(lo>>>26)|0}out.words[k]=rword,carry=ncarry}return 0!==carry?out.words[k]=carry:out.length--,out.strip()},BN.prototype._bigMulTo=function(num,out){out.sign=num.sign!==this.sign,out.length=this.length+num.length;for(var carry=0,hncarry=0,k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;for(var rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-this.length+1);maxJ>=j;j++){var i=k-j,a=0|this.words[i],b=0|num.words[j],r=a*b,lo=67108863&r;ncarry=ncarry+(r/67108864|0)|0,lo=lo+rword|0,rword=67108863&lo,ncarry=ncarry+(lo>>>26)|0,hncarry+=ncarry>>>26,ncarry&=67108863}out.words[k]=rword,carry=ncarry,ncarry=hncarry}return 0!==carry?out.words[k]=carry:out.length--,out.strip()},BN.prototype.mulTo=function(num,out){var res;return res=this.length+num.length<63?this._smallMulTo(num,out):this._bigMulTo(num,out)},BN.prototype.mul=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),this.mulTo(num,out)},BN.prototype.imul=function(num){if(0===this.cmpn(0)||0===num.cmpn(0))return this.words[0]=0,this.length=1,this;var tlen=this.length,nlen=num.length;this.sign=num.sign!==this.sign,this.length=this.length+num.length,this.words[this.length-1]=0;for(var k=this.length-2;k>=0;k--){for(var carry=0,rword=0,maxJ=Math.min(k,nlen-1),j=Math.max(0,k-tlen+1);maxJ>=j;j++){var i=k-j,a=this.words[i],b=num.words[j],r=a*b,lo=67108863&r;carry+=r/67108864|0,lo+=rword,rword=67108863&lo,carry+=lo>>>26}this.words[k]=rword,this.words[k+1]+=carry,carry=0}for(var carry=0,i=1;i<this.length;i++){var w=this.words[i]+carry;this.words[i]=67108863&w,carry=w>>>26}return this.strip()},BN.prototype.imuln=function(num){assert("number"==typeof num);for(var carry=0,i=0;i<this.length;i++){var w=this.words[i]*num,lo=(67108863&w)+(67108863&carry);carry>>=26,carry+=w/67108864|0,carry+=lo>>>26,this.words[i]=67108863&lo}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.mul(this)},BN.prototype.ishln=function(bits){assert("number"==typeof bits&&bits>=0);var r=bits%26,s=(bits-r)/26,carryMask=67108863>>>26-r<<26-r;if(0!==r){for(var carry=0,i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask,c=this.words[i]-newCarry<<r;this.words[i]=c|carry,carry=newCarry>>>26-r}carry&&(this.words[i]=carry,this.length++)}if(0!==s){for(var i=this.length-1;i>=0;i--)this.words[i+s]=this.words[i];for(var i=0;s>i;i++)this.words[i]=0;this.length+=s}return this.strip()},BN.prototype.ishrn=function(bits,hint,extended){assert("number"==typeof bits&&bits>=0),hint=hint?(hint-hint%26)/26:0;var r=bits%26,s=Math.min((bits-r)/26,this.length),mask=67108863^67108863>>>r<<r,maskedWords=extended;if(hint-=s,hint=Math.max(0,hint),maskedWords){for(var i=0;s>i;i++)maskedWords.words[i]=this.words[i];maskedWords.length=s}if(0===s);else if(this.length>s){this.length-=s;for(var i=0;i<this.length;i++)this.words[i]=this.words[i+s]}else this.words[0]=0,this.length=1;for(var carry=0,i=this.length-1;i>=0&&(0!==carry||i>=hint);i--){var word=this.words[i];this.words[i]=carry<<26-r|word>>>r,carry=word&mask}return maskedWords&&0!==carry&&(maskedWords.words[maskedWords.length++]=carry),0===this.length&&(this.words[0]=0,this.length=1),this.strip(),extended?{hi:this,lo:maskedWords}:this},BN.prototype.shln=function(bits){return this.clone().ishln(bits)},BN.prototype.shrn=function(bits){return this.clone().ishrn(bits)},BN.prototype.testn=function(bit){assert("number"==typeof bit&&bit>=0);var r=bit%26,s=(bit-r)/26,q=1<<r;if(this.length<=s)return!1;var w=this.words[s];return!!(w&q)},BN.prototype.imaskn=function(bits){assert("number"==typeof bits&&bits>=0);var r=bits%26,s=(bits-r)/26;if(assert(!this.sign,"imaskn works only with positive numbers"),0!==r&&s++,this.length=Math.min(s,this.length),0!==r){var mask=67108863^67108863>>>r<<r;this.words[this.length-1]&=mask}return this.strip()},BN.prototype.maskn=function(bits){return this.clone().imaskn(bits)},BN.prototype.iaddn=function(num){return assert("number"==typeof num),0>num?this.isubn(-num):this.sign?1===this.length&&this.words[0]<num?(this.words[0]=num-this.words[0],this.sign=!1,this):(this.sign=!1,this.isubn(num),this.sign=!0,this):this._iaddn(num)},BN.prototype._iaddn=function(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},BN.prototype.isubn=function(num){if(assert("number"==typeof num),0>num)return this.iaddn(-num);if(this.sign)return this.sign=!1,this.iaddn(num),this.sign=!0,this;this.words[0]-=num;for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},BN.prototype.addn=function(num){return this.clone().iaddn(num)},BN.prototype.subn=function(num){return this.clone().isubn(num)},BN.prototype.iabs=function(){return this.sign=!1,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(num,mul,shift){var i,len=num.length+shift;if(this.words.length<len){for(var t=new Array(len),i=0;i<this.length;i++)t[i]=this.words[i];this.words=t}else i=this.length;for(this.length=Math.max(this.length,len);i<this.length;i++)this.words[i]=0;for(var carry=0,i=0;i<num.length;i++){var w=this.words[i+shift]+carry,right=num.words[i]*mul;w-=67108863&right,carry=(w>>26)-(right/67108864|0),this.words[i+shift]=67108863&w}for(;i<this.length-shift;i++){var w=this.words[i+shift]+carry;carry=w>>26,this.words[i+shift]=67108863&w}if(0===carry)return this.strip();assert(-1===carry),carry=0;for(var i=0;i<this.length;i++){var w=-this.words[i]+carry;carry=w>>26,this.words[i]=67108863&w}return this.sign=!0,this.strip()},BN.prototype._wordDiv=function(num,mode){for(var shift=this.length-num.length,a=this.clone(),b=num,bhi=b.words[b.length-1],shift=0;33554432>bhi;shift++)bhi<<=1;0!==shift&&(b=b.shln(shift),a.ishln(shift),bhi=b.words[b.length-1]);var q,m=a.length-b.length;if("mod"!==mode){q=new BN(null),q.length=m+1,q.words=new Array(q.length);for(var i=0;i<q.length;i++)q.words[i]=0}var diff=a.clone()._ishlnsubmul(b,1,m);diff.sign||(a=diff,q&&(q.words[m]=1));for(var j=m-1;j>=0;j--){var qj=67108864*a.words[b.length+j]+a.words[b.length+j-1];for(qj=Math.min(qj/bhi|0,67108863),a._ishlnsubmul(b,qj,j);a.sign;)qj--,a.sign=!1,a._ishlnsubmul(b,1,j),a.sign=!a.sign;q&&(q.words[j]=qj)}return q&&q.strip(),a.strip(),"div"!==mode&&0!==shift&&a.ishrn(shift),{div:q?q:null,mod:a}},BN.prototype.divmod=function(num,mode){if(assert(0!==num.cmpn(0)),this.sign&&!num.sign){var div,mod,res=this.neg().divmod(num,mode);return"mod"!==mode&&(div=res.div.neg()),"div"!==mode&&(mod=0===res.mod.cmpn(0)?res.mod:num.sub(res.mod)),{div:div,mod:mod}}if(!this.sign&&num.sign){var div,res=this.divmod(num.neg(),mode);return"mod"!==mode&&(div=res.div.neg()),{div:div,mod:res.mod}}return this.sign&&num.sign?this.neg().divmod(num.neg(),mode):num.length>this.length||this.cmp(num)<0?{div:new BN(0),mod:this}:1===num.length?"div"===mode?{div:this.divn(num.words[0]),mod:null}:"mod"===mode?{div:null,mod:new BN(this.modn(num.words[0]))}:{div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))}:this._wordDiv(num,mode)},BN.prototype.div=function(num){return this.divmod(num,"div").div},BN.prototype.mod=function(num){return this.divmod(num,"mod").mod},BN.prototype.divRound=function(num){var dm=this.divmod(num);if(0===dm.mod.cmpn(0))return dm.div;var mod=dm.div.sign?dm.mod.isub(num):dm.mod,half=num.shrn(1),r2=num.andln(1),cmp=mod.cmp(half);return 0>cmp||1===r2&&0===cmp?dm.div:dm.div.sign?dm.div.isubn(1):dm.div.iaddn(1)},BN.prototype.modn=function(num){assert(67108863>=num);for(var p=(1<<26)%num,acc=0,i=this.length-1;i>=0;i--)acc=(p*acc+this.words[i])%num;return acc},BN.prototype.idivn=function(num){assert(67108863>=num);for(var carry=0,i=this.length-1;i>=0;i--){var w=this.words[i]+67108864*carry;this.words[i]=w/num|0,carry=w%num}return this.strip()},BN.prototype.divn=function(num){return this.clone().idivn(num)},BN.prototype._egcd=function(x1,p){assert(!p.sign),assert(0!==p.cmpn(0));var a=this,b=p.clone();a=a.sign?a.mod(p):a.clone();for(var x2=new BN(0);b.isEven();)b.ishrn(1);for(var delta=b.clone();a.cmpn(1)>0&&b.cmpn(1)>0;){for(;a.isEven();)a.ishrn(1),x1.isEven()?x1.ishrn(1):x1.iadd(delta).ishrn(1);for(;b.isEven();)b.ishrn(1),x2.isEven()?x2.ishrn(1):x2.iadd(delta).ishrn(1);a.cmp(b)>=0?(a.isub(b),x1.isub(x2)):(b.isub(a),x2.isub(x1))}return 0===a.cmpn(1)?x1:x2},BN.prototype.gcd=function(num){if(0===this.cmpn(0))return num.clone();if(0===num.cmpn(0))return this.clone();var a=this.clone(),b=num.clone();a.sign=!1,b.sign=!1;for(var shift=0;a.isEven()&&b.isEven();shift++)a.ishrn(1),b.ishrn(1);for(;a.isEven();)a.ishrn(1);do{for(;b.isEven();)b.ishrn(1);if(a.cmp(b)<0){var t=a;a=b,b=t}a.isub(a.div(b).mul(b))}while(0!==a.cmpn(0)&&0!==b.cmpn(0));return 0===a.cmpn(0)?b.ishln(shift):a.ishln(shift)},BN.prototype.invm=function(num){return this._egcd(new BN(1),num).mod(num)},BN.prototype.isEven=function(){return 0===(1&this.words[0])},BN.prototype.isOdd=function(){return 1===(1&this.words[0])},BN.prototype.andln=function(num){return this.words[0]&num},BN.prototype.bincn=function(bit){assert("number"==typeof bit);var r=bit%26,s=(bit-r)/26,q=1<<r;if(this.length<=s){for(var i=this.length;s+1>i;i++)this.words[i]=0;return this.words[s]|=q,this.length=s+1,this}for(var carry=q,i=s;0!==carry&&i<this.length;i++){var w=this.words[i];w+=carry,carry=w>>>26,w&=67108863,this.words[i]=w}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.cmpn=function(num){var sign=0>num;if(sign&&(num=-num),this.sign&&!sign)return-1;if(!this.sign&&sign)return 1;num&=67108863,this.strip();var res;if(this.length>1)res=1;else{var w=this.words[0];res=w===num?0:num>w?-1:1}return this.sign&&(res=-res),res},BN.prototype.cmp=function(num){if(this.sign&&!num.sign)return-1;if(!this.sign&&num.sign)return 1;var res=this.ucmp(num);return this.sign?-res:res},BN.prototype.ucmp=function(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;for(var res=0,i=this.length-1;i>=0;i--){var a=this.words[i],b=num.words[i];if(a!==b){b>a?res=-1:a>b&&(res=1);break}}return res},BN.red=function(num){return new Red(num)},BN.prototype.toRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),assert(!this.sign,"red works only with positives"),ctx.convertTo(this)._forceRed(ctx)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(ctx){return this.red=ctx,this},BN.prototype.forceRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),this._forceRed(ctx)},BN.prototype.redAdd=function(num){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,num)},BN.prototype.redIAdd=function(num){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,num)},BN.prototype.redSub=function(num){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,num)},BN.prototype.redISub=function(num){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,num)},BN.prototype.redShl=function(num){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,num)},BN.prototype.redMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.mul(this,num)},BN.prototype.redIMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.imul(this,num)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(num){return assert(this.red&&!num.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};MPrime.prototype._tmp=function(){
var tmp=new BN(null);return tmp.words=new Array(Math.ceil(this.n/13)),tmp},MPrime.prototype.ireduce=function(num){var rlen,r=num;do{var pair=r.ishrn(this.n,0,this.tmp);r=this.imulK(pair.hi),r=r.iadd(pair.lo),rlen=r.bitLength()}while(rlen>this.n);var cmp=rlen<this.n?-1:r.cmp(this.p);return 0===cmp?(r.words[0]=0,r.length=1):cmp>0?r.isub(this.p):r.strip(),r},MPrime.prototype.imulK=function(num){return num.imul(this.k)},inherits(K256,MPrime),K256.prototype.imulK=function(num){num.words[num.length]=0,num.words[num.length+1]=0,num.length+=2;for(var hi,lo=0,i=0;i<num.length;i++){var w=num.words[i];hi=64*w,lo+=977*w,hi+=lo/67108864|0,lo&=67108863,num.words[i]=lo,lo=hi}return 0===num.words[num.length-1]&&(num.length--,0===num.words[num.length-1]&&num.length--),num},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(num){for(var carry=0,i=0;i<num.length;i++){var hi=19*num.words[i]+carry,lo=67108863&hi;hi>>>=26,num.words[i]=lo,carry=hi}return 0!==carry&&(num.words[num.length++]=carry),num},BN._prime=function prime(name){if(primes[name])return primes[name];var prime;if("k256"===name)prime=new K256;else if("p224"===name)prime=new P224;else if("p192"===name)prime=new P192;else{if("p25519"!==name)throw new Error("Unknown prime "+name);prime=new P25519}return primes[name]=prime,prime},Red.prototype._verify1=function(a){assert(!a.sign,"red works only with positives"),assert(a.red,"red works only with red numbers")},Red.prototype._verify2=function(a,b){assert(!a.sign&&!b.sign,"red works only with positives"),assert(a.red&&a.red===b.red,"red works only with red numbers")},Red.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.mod(this.m)._forceRed(this)},Red.prototype.neg=function(a){var r=a.clone();return r.sign=!r.sign,r.iadd(this.m)._forceRed(this)},Red.prototype.add=function(a,b){this._verify2(a,b);var res=a.add(b);return res.cmp(this.m)>=0&&res.isub(this.m),res._forceRed(this)},Red.prototype.iadd=function(a,b){this._verify2(a,b);var res=a.iadd(b);return res.cmp(this.m)>=0&&res.isub(this.m),res},Red.prototype.sub=function(a,b){this._verify2(a,b);var res=a.sub(b);return res.cmpn(0)<0&&res.iadd(this.m),res._forceRed(this)},Red.prototype.isub=function(a,b){this._verify2(a,b);var res=a.isub(b);return res.cmpn(0)<0&&res.iadd(this.m),res},Red.prototype.shl=function(a,num){return this._verify1(a),this.imod(a.shln(num))},Red.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},Red.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},Red.prototype.isqr=function(a){return this.imul(a,a)},Red.prototype.sqr=function(a){return this.mul(a,a)},Red.prototype.sqrt=function(a){if(0===a.cmpn(0))return a.clone();var mod3=this.m.andln(3);if(assert(mod3%2===1),3===mod3){var pow=this.m.add(new BN(1)).ishrn(2),r=this.pow(a,pow);return r}for(var q=this.m.subn(1),s=0;0!==q.cmpn(0)&&0===q.andln(1);)s++,q.ishrn(1);assert(0!==q.cmpn(0));var one=new BN(1).toRed(this),nOne=one.redNeg(),lpow=this.m.subn(1).ishrn(1),z=this.m.bitLength();for(z=new BN(2*z*z).toRed(this);0!==this.pow(z,lpow).cmp(nOne);)z.redIAdd(nOne);for(var c=this.pow(z,q),r=this.pow(a,q.addn(1).ishrn(1)),t=this.pow(a,q),m=s;0!==t.cmp(one);){for(var tmp=t,i=0;0!==tmp.cmp(one);i++)tmp=tmp.redSqr();assert(m>i);var b=this.pow(c,new BN(1).ishln(m-i-1));r=r.redMul(b),c=b.redSqr(),t=t.redMul(c),m=i}return r},Red.prototype.invm=function(a){var inv=a._egcd(new BN(1),this.m);return inv.sign?(inv.sign=!1,this.imod(inv).redNeg()):this.imod(inv)},Red.prototype.pow=function(a,num){for(var w=[],q=num.clone();0!==q.cmpn(0);)w.push(q.andln(1)),q.ishrn(1);for(var res=a,i=0;i<w.length&&0===w[i];i++,res=this.sqr(res));if(++i<w.length)for(var q=this.sqr(res);i<w.length;i++,q=this.sqr(q))0!==w[i]&&(res=this.mul(res,q));return res},Red.prototype.convertTo=function(num){return num.clone()},Red.prototype.convertFrom=function(num){var res=num.clone();return res.red=null,res},BN.mont=function(num){return new Mont(num)},inherits(Mont,Red),Mont.prototype.convertTo=function(num){return this.imod(num.shln(this.shift))},Mont.prototype.convertFrom=function(num){var r=this.imod(num.mul(this.rinv));return r.red=null,r},Mont.prototype.imul=function(a,b){if(0===a.cmpn(0)||0===b.cmpn(0))return a.words[0]=0,a.length=1,a;var t=a.imul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).ishrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.mul=function(a,b){if(0===a.cmpn(0)||0===b.cmpn(0))return new BN(0)._forceRed(this);var t=a.mul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).ishrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.invm=function(a){var res=this.imod(a.invm(this.m).mul(this.r2));return res._forceRed(this)}}("undefined"==typeof module||module,this)},{}],44:[function(require,module){(function(Buffer){function blind(priv){var r=getr(priv),blinder=r.toRed(bn.mont(priv.modulus)).redPow(new bn(priv.publicExponent)).fromRed();return{blinder:blinder,unblinder:r.invm(priv.modulus)}}function crt(msg,priv){var blinds=blind(priv),len=priv.modulus.byteLength(),blinded=(bn.mont(priv.modulus),new bn(msg).mul(blinds.blinder).mod(priv.modulus)),c1=blinded.toRed(bn.mont(priv.prime1)),c2=blinded.toRed(bn.mont(priv.prime2)),qinv=priv.coefficient,p=priv.prime1,q=priv.prime2,m1=c1.redPow(priv.exponent1),m2=c2.redPow(priv.exponent2);m1=m1.fromRed(),m2=m2.fromRed();var h=m1.isub(m2).imul(qinv).mod(p);h.imul(q),m2.iadd(h);var out=new Buffer(m2.imul(blinds.unblinder).mod(priv.modulus).toArray());if(out.length<len){var prefix=new Buffer(len-out.length);prefix.fill(0),out=Buffer.concat([prefix,out],len)}return out}function getr(priv){for(var len=priv.modulus.byteLength(),r=new bn(randomBytes(len));r.cmp(priv.modulus)>=0||!r.mod(priv.prime1)||!r.mod(priv.prime2);)r=new bn(randomBytes(len));return r}var bn=require("bn.js"),randomBytes=require("randombytes");module.exports=crt,crt.getr=getr}).call(this,require("buffer").Buffer)},{"bn.js":43,buffer:17,randombytes:157}],45:[function(require,module,exports){var elliptic=exports;elliptic.version=require("../package.json").version,elliptic.utils=require("./elliptic/utils"),elliptic.rand=require("brorand"),elliptic.hmacDRBG=require("./elliptic/hmac-drbg"),elliptic.curve=require("./elliptic/curve"),elliptic.curves=require("./elliptic/curves"),elliptic.ec=require("./elliptic/ec")},{"../package.json":64,"./elliptic/curve":48,"./elliptic/curves":51,"./elliptic/ec":52,"./elliptic/hmac-drbg":55,"./elliptic/utils":56,brorand:57}],46:[function(require,module){function BaseCurve(type,conf){this.type=type,this.p=new bn(conf.p,16),this.red=conf.prime?bn.red(conf.prime):bn.mont(this.p),this.zero=new bn(0).toRed(this.red),this.one=new bn(1).toRed(this.red),this.two=new bn(2).toRed(this.red),this.n=conf.n&&new bn(conf.n,16),this.g=conf.g&&this.pointFromJSON(conf.g,conf.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4)}function BasePoint(curve,type){this.curve=curve,this.type=type,this.precomputed=null}var bn=require("bn.js"),elliptic=require("../../elliptic"),getNAF=elliptic.utils.getNAF,getJSF=elliptic.utils.getJSF,assert=elliptic.utils.assert;module.exports=BaseCurve,BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(p,k){var doubles=p._getDoubles(),naf=getNAF(k,1),I=(1<<doubles.step+1)-(doubles.step%2===0?2:1);I/=3;for(var repr=[],j=0;j<naf.length;j+=doubles.step){for(var nafW=0,k=j+doubles.step-1;k>=j;k--)nafW=(nafW<<1)+naf[k];repr.push(nafW)}for(var a=this.jpoint(null,null,null),b=this.jpoint(null,null,null),i=I;i>0;i--){for(var j=0;j<repr.length;j++){var nafW=repr[j];nafW===i?b=b.mixedAdd(doubles.points[j]):nafW===-i&&(b=b.mixedAdd(doubles.points[j].neg()))}a=a.add(b)}return a.toP()},BaseCurve.prototype._wnafMul=function(p,k){var w=4,nafPoints=p._getNAFPoints(w);w=nafPoints.wnd;for(var wnd=nafPoints.points,naf=getNAF(k,w),acc=this.jpoint(null,null,null),i=naf.length-1;i>=0;i--){for(var k=0;i>=0&&0===naf[i];i--)k++;if(i>=0&&k++,acc=acc.dblp(k),0>i)break;var z=naf[i];assert(0!==z),acc="affine"===p.type?acc.mixedAdd(z>0?wnd[z-1>>1]:wnd[-z-1>>1].neg()):acc.add(z>0?wnd[z-1>>1]:wnd[-z-1>>1].neg())}return"affine"===p.type?acc.toP():acc},BaseCurve.prototype._wnafMulAdd=function(defW,points,coeffs,len){for(var wndWidth=this._wnafT1,wnd=this._wnafT2,naf=this._wnafT3,max=0,i=0;len>i;i++){var p=points[i],nafPoints=p._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd,wnd[i]=nafPoints.points}for(var i=len-1;i>=1;i-=2){var a=i-1,b=i;if(1===wndWidth[a]&&1===wndWidth[b]){var comb=[points[a],null,null,points[b]];0===points[a].y.cmp(points[b].y)?(comb[1]=points[a].add(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg())):0===points[a].y.cmp(points[b].y.redNeg())?(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].add(points[b].neg())):(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg()));var index=[-3,-1,-5,-7,0,7,5,1,3],jsf=getJSF(coeffs[a],coeffs[b]);max=Math.max(jsf[0].length,max),naf[a]=new Array(max),naf[b]=new Array(max);for(var j=0;max>j;j++){var ja=0|jsf[0][j],jb=0|jsf[1][j];naf[a][j]=index[3*(ja+1)+(jb+1)],naf[b][j]=0,wnd[a]=comb}}else naf[a]=getNAF(coeffs[a],wndWidth[a]),naf[b]=getNAF(coeffs[b],wndWidth[b]),max=Math.max(naf[a].length,max),max=Math.max(naf[b].length,max)}for(var acc=this.jpoint(null,null,null),tmp=this._wnafT4,i=max;i>=0;i--){for(var k=0;i>=0;){for(var zero=!0,j=0;len>j;j++)tmp[j]=0|naf[j][i],0!==tmp[j]&&(zero=!1);if(!zero)break;k++,i--}if(i>=0&&k++,acc=acc.dblp(k),0>i)break;for(var j=0;len>j;j++){var p,z=tmp[j];0!==z&&(z>0?p=wnd[j][z-1>>1]:0>z&&(p=wnd[j][-z-1>>1].neg()),acc="affine"===p.type?acc.mixedAdd(p):acc.add(p))}}for(var i=0;len>i;i++)wnd[i]=null;return acc.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.validate=function(){return this.curve.validate(this)},BasePoint.prototype.precompute=function(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};return precomputed.naf=this._getNAFPoints(8),precomputed.doubles=this._getDoubles(4,power),precomputed.beta=this._getBeta(),this.precomputed=precomputed,this},BasePoint.prototype._getDoubles=function(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var doubles=[this],acc=this,i=0;power>i;i+=step){for(var j=0;step>j;j++)acc=acc.dbl();doubles.push(acc)}return{step:step,points:doubles}},BasePoint.prototype._getNAFPoints=function(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var res=[this],max=(1<<wnd)-1,dbl=1===max?null:this.dbl(),i=1;max>i;i++)res[i]=res[i-1].add(dbl);return{wnd:wnd,points:res}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(k){for(var r=this,i=0;k>i;i++)r=r.dbl();return r}},{"../../elliptic":45,"bn.js":43}],47:[function(require,module){function EdwardsCurve(conf){this.twisted=1!=conf.a,this.mOneA=this.twisted&&-1==conf.a,this.extended=this.mOneA,Base.call(this,"mont",conf),this.a=new bn(conf.a,16).mod(this.red.m).toRed(this.red),this.c=new bn(conf.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new bn(conf.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==conf.c}function Point(curve,x,y,z,t){Base.BasePoint.call(this,curve,"projective"),null===x&&null===y&&null===z?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new bn(x,16),this.y=new bn(y,16),this.z=z?new bn(z,16):this.curve.one,this.t=t&&new bn(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var curve=require("../curve"),elliptic=require("../../elliptic"),bn=require("bn.js"),inherits=require("inherits"),Base=curve.base,assert=(elliptic.utils.getNAF,elliptic.utils.assert);inherits(EdwardsCurve,Base),module.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function(num){return this.mOneA?num.redNeg():this.a.redMul(num)},EdwardsCurve.prototype._mulC=function(num){return this.oneC?num:this.c.redMul(num)},EdwardsCurve.prototype.point=function(x,y,z,t){return new Point(this,x,y,z,t)},EdwardsCurve.prototype.jpoint=function(x,y,z,t){return this.point(x,y,z,t)},EdwardsCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},EdwardsCurve.prototype.pointFromX=function(odd,x){x=new bn(x,16),x.red||(x=x.toRed(this.red));var x2=x.redSqr(),rhs=this.c2.redSub(this.a.redMul(x2)),lhs=this.one.redSub(this.c2.redMul(this.d).redMul(x2)),y=rhs.redMul(lhs.redInvm()).redSqrt(),isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y,curve.one)},EdwardsCurve.prototype.validate=function(point){if(point.isInfinity())return!0;point.normalize();var x2=point.x.redSqr(),y2=point.y.redSqr(),lhs=x2.redMul(this.a).redAdd(y2),rhs=this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));return 0===lhs.cmp(rhs)},inherits(Point,Base.BasePoint),Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1],obj[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},Point.prototype._extDbl=function(){var a=this.x.redSqr(),b=this.y.redSqr(),c=this.z.redSqr();c=c.redIAdd(c);var d=this.curve._mulA(a),e=this.x.redAdd(this.y).redSqr().redISub(a).redISub(b),g=d.redAdd(b),f=g.redSub(c),h=d.redSub(b),nx=e.redMul(f),ny=g.redMul(h),nt=e.redMul(h),nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)},Point.prototype._projDbl=function(){var b=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),d=this.y.redSqr();if(this.curve.twisted){var e=this.curve._mulA(c),f=e.redAdd(d);if(this.zOne)var nx=b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two)),ny=f.redMul(e.redSub(d)),nz=f.redSqr().redSub(f).redSub(f);else var h=this.z.redSqr(),j=f.redSub(h).redISub(h),nx=b.redSub(c).redISub(d).redMul(j),ny=f.redMul(e.redSub(d)),nz=f.redMul(j)}else var e=c.redAdd(d),h=this.curve._mulC(redMul(this.z)).redSqr(),j=e.redSub(h).redSub(h),nx=this.curve._mulC(b.redISub(e)).redMul(j),ny=this.curve._mulC(e).redMul(c.redISub(d)),nz=e.redMul(j);return this.curve.point(nx,ny,nz)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(p){var a=this.y.redSub(this.x).redMul(p.y.redSub(p.x)),b=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x)),c=this.t.redMul(this.curve.dd).redMul(p.t),d=this.z.redMul(p.z.redAdd(p.z)),e=b.redSub(a),f=d.redSub(c),g=d.redAdd(c),h=b.redAdd(a),nx=e.redMul(f),ny=g.redMul(h),nt=e.redMul(h),nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)},Point.prototype._projAdd=function(p){var a=this.z.redMul(p.z),b=a.redSqr(),c=this.x.redMul(p.x),d=this.y.redMul(p.y),e=this.curve.d.redMul(c).redMul(d),f=b.redSub(e),g=b.redAdd(e),tmp=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d),nx=a.redMul(f).redMul(tmp);if(this.curve.twisted)var ny=a.redMul(g).redMul(d.redSub(this.curve._mulA(c))),nz=f.redMul(g);else var ny=a.redMul(g).redMul(d.redSub(c)),nz=this.curve._mulC(f).redMul(g);return this.curve.point(nx,ny,nz)},Point.prototype.add=function(p){return this.isInfinity()?p:p.isInfinity()?this:this.curve.extended?this._extAdd(p):this._projAdd(p)},Point.prototype.mul=function(k){return this.precomputed&&this.precomputed.doubles?this.curve._fixedNafMul(this,k):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2)},Point.prototype.normalize=function(){if(this.zOne)return this;var zi=this.z.redInvm();return this.x=this.x.redMul(zi),this.y=this.y.redMul(zi),this.t&&(this.t=this.t.redMul(zi)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},{"../../elliptic":45,"../curve":48,"bn.js":43,inherits:164}],48:[function(require,module,exports){var curve=exports;curve.base=require("./base"),curve.short=require("./short"),curve.mont=require("./mont"),curve.edwards=require("./edwards")},{"./base":46,"./edwards":47,"./mont":49,"./short":50}],49:[function(require,module){function MontCurve(conf){Base.call(this,"mont",conf),this.a=new bn(conf.a,16).toRed(this.red),this.b=new bn(conf.b,16).toRed(this.red),this.i4=new bn(4).toRed(this.red).redInvm(),this.two=new bn(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(curve,x,z){Base.BasePoint.call(this,curve,"projective"),null===x&&null===z?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new bn(x,16),this.z=new bn(z,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}{var curve=require("../curve"),elliptic=require("../../elliptic"),bn=require("bn.js"),inherits=require("inherits"),Base=curve.base;elliptic.utils.getNAF,elliptic.utils.assert}inherits(MontCurve,Base),module.exports=MontCurve,MontCurve.prototype.point=function(x,z){return new Point(this,x,z)},MontCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},MontCurve.prototype.validate=function(point){var x=point.normalize().x,x2=x.redSqr(),rhs=x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x),y=rhs.redSqrt();return 0===y.redSqr().cmp(rhs)},inherits(Point,Base.BasePoint),Point.prototype.precompute=function(){},Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1]||curve.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var a=this.x.redAdd(this.z),aa=a.redSqr(),b=this.x.redSub(this.z),bb=b.redSqr(),c=aa.redSub(bb),nx=aa.redMul(bb),nz=c.redMul(bb.redAdd(this.curve.a24.redMul(c)));return this.curve.point(nx,nz)},Point.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(p,diff){var a=this.x.redAdd(this.z),b=this.x.redSub(this.z),c=p.x.redAdd(p.z),d=p.x.redSub(p.z),da=d.redMul(a),cb=c.redMul(b),nx=diff.z.redMul(da.redAdd(cb).redSqr()),nz=diff.x.redMul(da.redISub(cb).redSqr());return this.curve.point(nx,nz)},Point.prototype.mul=function(k){for(var t=k.clone(),a=this,b=this.curve.point(null,null),c=this,bits=[];0!==t.cmpn(0);t.ishrn(1))bits.push(t.andln(1));for(var i=bits.length-1;i>=0;i--)0===bits[i]?(a=a.diffAdd(b,c),b=b.dbl()):(b=a.diffAdd(b,c),a=a.dbl());return b},Point.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../../elliptic":45,"../curve":48,"bn.js":43,inherits:164}],50:[function(require,module){function ShortCurve(conf){Base.call(this,"short",conf),this.a=new bn(conf.a,16).toRed(this.red),this.b=new bn(conf.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(conf),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(curve,x,y,isRed){Base.BasePoint.call(this,curve,"affine"),null===x&&null===y?(this.x=null,this.y=null,this.inf=!0):(this.x=new bn(x,16),this.y=new bn(y,16),isRed&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(curve,x,y,z){Base.BasePoint.call(this,curve,"jacobian"),null===x&&null===y&&null===z?(this.x=this.curve.one,this.y=this.curve.one,this.z=new bn(0)):(this.x=new bn(x,16),this.y=new bn(y,16),this.z=new bn(z,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var curve=require("../curve"),elliptic=require("../../elliptic"),bn=require("bn.js"),inherits=require("inherits"),Base=curve.base,assert=(elliptic.utils.getNAF,elliptic.utils.assert);inherits(ShortCurve,Base),module.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function(conf){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var beta,lambda;if(conf.beta)beta=new bn(conf.beta,16).toRed(this.red);else{var betas=this._getEndoRoots(this.p);beta=betas[0].cmp(betas[1])<0?betas[0]:betas[1],beta=beta.toRed(this.red)}if(conf.lambda)lambda=new bn(conf.lambda,16);else{var lambdas=this._getEndoRoots(this.n);0===this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta))?lambda=lambdas[0]:(lambda=lambdas[1],assert(0===this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))))}var basis;return basis=conf.basis?conf.basis.map(function(vec){return{a:new bn(vec.a,16),b:new bn(vec.b,16)}}):this._getEndoBasis(lambda),{beta:beta,lambda:lambda,basis:basis}}},ShortCurve.prototype._getEndoRoots=function(num){var red=num===this.p?this.red:bn.mont(num),tinv=new bn(2).toRed(red).redInvm(),ntinv=tinv.redNeg(),s=(new bn(1).toRed(red),new bn(3).toRed(red).redNeg().redSqrt().redMul(tinv)),l1=ntinv.redAdd(s).fromRed(),l2=ntinv.redSub(s).fromRed();return[l1,l2]},ShortCurve.prototype._getEndoBasis=function(lambda){for(var a0,b0,a1,b1,a2,b2,prevR,aprxSqrt=this.n.shrn(Math.floor(this.n.bitLength()/2)),u=lambda,v=this.n.clone(),x1=new bn(1),y1=new bn(0),x2=new bn(0),y2=new bn(1),i=0;0!==u.cmpn(0);){var q=v.div(u),r=v.sub(q.mul(u)),x=x2.sub(q.mul(x1)),y=y2.sub(q.mul(y1));if(!a1&&r.cmp(aprxSqrt)<0)a0=prevR.neg(),b0=x1,a1=r.neg(),b1=x;else if(a1&&2===++i)break;prevR=r,v=u,u=r,x2=x1,x1=x,y2=y1,y1=y}a2=r.neg(),b2=x;var len1=a1.sqr().add(b1.sqr()),len2=a2.sqr().add(b2.sqr());return len2.cmp(len1)>=0&&(a2=a0,b2=b0),a1.sign&&(a1=a1.neg(),b1=b1.neg()),a2.sign&&(a2=a2.neg(),b2=b2.neg()),[{a:a1,b:b1},{a:a2,b:b2}]},ShortCurve.prototype._endoSplit=function(k){var basis=this.endo.basis,v1=basis[0],v2=basis[1],c1=v2.b.mul(k).divRound(this.n),c2=v1.b.neg().mul(k).divRound(this.n),p1=c1.mul(v1.a),p2=c2.mul(v2.a),q1=c1.mul(v1.b),q2=c2.mul(v2.b),k1=k.sub(p1).sub(p2),k2=q1.add(q2).neg();return{k1:k1,k2:k2}},ShortCurve.prototype.point=function(x,y,isRed){return new Point(this,x,y,isRed)},ShortCurve.prototype.pointFromX=function(odd,x){x=new bn(x,16),x.red||(x=x.toRed(this.red));var y2=x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b),y=y2.redSqrt(),isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},ShortCurve.prototype.jpoint=function(x,y,z){return new JPoint(this,x,y,z)},ShortCurve.prototype.pointFromJSON=function(obj,red){return Point.fromJSON(this,obj,red)},ShortCurve.prototype.validate=function(point){if(point.inf)return!0;var x=point.x,y=point.y,ax=this.a.redMul(x),rhs=x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);return 0===y.redSqr().redISub(rhs).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(points,coeffs){for(var npoints=this._endoWnafT1,ncoeffs=this._endoWnafT2,i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]),p=points[i],beta=p._getBeta();split.k1.sign&&(split.k1.sign=!split.k1.sign,p=p.neg(!0)),split.k2.sign&&(split.k2.sign=!split.k2.sign,beta=beta.neg(!0)),npoints[2*i]=p,npoints[2*i+1]=beta,ncoeffs[2*i]=split.k1,ncoeffs[2*i+1]=split.k2}for(var res=this._wnafMulAdd(1,npoints,ncoeffs,2*i),j=0;2*i>j;j++)npoints[j]=null,ncoeffs[j]=null;return res},inherits(Point,Base.BasePoint),Point.prototype._getBeta=function(){function endoMul(p){return curve.point(p.x.redMul(curve.endo.beta),p.y)}if(this.curve.endo){var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(pre){var curve=this.curve;pre.beta=beta,beta.precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}}}return beta}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(curve,obj,red){function obj2point(obj){return curve.point(obj[0],obj[1],red)}"string"==typeof obj&&(obj=JSON.parse(obj));var res=curve.point(obj[0],obj[1],red);if(!obj[2])return res;var pre=obj[2];return res.precomputed={beta:null,doubles:pre.doubles&&{step:pre.doubles.step,points:[res].concat(pre.doubles.points.map(obj2point))},naf:pre.naf&&{wnd:pre.naf.wnd,points:[res].concat(pre.naf.points.map(obj2point))}},res},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(0===this.x.cmp(p.x))return this.curve.point(null,null);var c=this.y.redSub(p.y);0!==c.cmpn(0)&&(c=c.redMul(this.x.redSub(p.x).redInvm()));var nx=c.redSqr().redISub(this.x).redISub(p.x),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.dbl=function(){if(this.inf)return this;var ys1=this.y.redAdd(this.y);if(0===ys1.cmpn(0))return this.curve.point(null,null);var a=this.curve.a,x2=this.x.redSqr(),dyinv=ys1.redInvm(),c=x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv),nx=c.redSqr().redISub(this.x.redAdd(this.x)),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(k){return k=new bn(k,16),this.precomputed&&this.precomputed.doubles?this.curve._fixedNafMul(this,k):this.curve.endo?this.curve._endoWnafMulAdd([this],[k]):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,p2,k2){var points=[this,p2],coeffs=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs):this.curve._wnafMulAdd(1,points,coeffs,2)},Point.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||0===this.x.cmp(p.x)&&0===this.y.cmp(p.y))},Point.prototype.neg=function(_precompute){function negate(p){return p.neg()}if(this.inf)return this;var res=this.curve.point(this.x,this.y.redNeg());if(_precompute&&this.precomputed){var pre=this.precomputed;res.precomputed={naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(negate)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(negate)}}}return res},Point.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var res=this.curve.jpoint(this.x,this.y,this.curve.one);return res},inherits(JPoint,Base.BasePoint),JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var zinv=this.z.redInvm(),zinv2=zinv.redSqr(),ax=this.x.redMul(zinv2),ay=this.y.redMul(zinv2).redMul(zinv);return this.curve.point(ax,ay)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var pz2=p.z.redSqr(),z2=this.z.redSqr(),u1=this.x.redMul(pz2),u2=p.x.redMul(z2),s1=this.y.redMul(pz2.redMul(p.z)),s2=p.y.redMul(z2.redMul(this.z)),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(p.z).redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mixedAdd=function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var z2=this.z.redSqr(),u1=this.x,u2=p.x.redMul(z2),s1=this.y,s2=p.y.redMul(z2).redMul(this.z),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.dblp=function(pow){if(0===pow)return this;if(this.isInfinity())return this;if(!pow)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var r=this,i=0;pow>i;i++)r=r.dbl();return r}for(var a=this.curve.a,tinv=this.curve.tinv,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jyd=jy.redAdd(jy),i=0;pow>i;i++){var jx2=jx.redSqr(),jyd2=jyd.redSqr(),jyd4=jyd2.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),t1=jx.redMul(jyd2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),dny=c.redMul(t2);dny=dny.redIAdd(dny).redISub(jyd4);var nz=jyd.redMul(jz);pow>i+1&&(jz4=jz4.redMul(jyd4)),jx=nx,jz=nz,jyd=dny}return this.curve.jpoint(jx,jyd.redMul(tinv),jz)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx),t=m.redSqr().redISub(s).redISub(s),yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8),yyyy8=yyyy8.redIAdd(yyyy8);var nx=t,ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var a=this.x.redSqr(),b=this.y.redSqr(),c=b.redSqr(),d=this.x.redAdd(b).redSqr().redISub(a).redISub(c);d=d.redIAdd(d);var e=a.redAdd(a).redIAdd(a),f=e.redSqr(),c8=c.redIAdd(c);c8=c8.redIAdd(c8),c8=c8.redIAdd(c8);var nx=f.redISub(d).redISub(d),ny=e.redMul(d.redISub(nx)).redISub(c8),nz=this.y.redMul(this.z);nz=nz.redIAdd(nz)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._threeDbl=function(){if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a),t=m.redSqr().redISub(s).redISub(s),nx=t,yyyy8=yyyy.redIAdd(yyyy);yyyy8=yyyy8.redIAdd(yyyy8),yyyy8=yyyy8.redIAdd(yyyy8);var ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var delta=this.z.redSqr(),gamma=this.y.redSqr(),beta=this.x.redMul(gamma),alpha=this.x.redSub(delta).redMul(this.x.redAdd(delta));alpha=alpha.redAdd(alpha).redIAdd(alpha);var beta4=beta.redIAdd(beta);beta4=beta4.redIAdd(beta4);var beta8=beta4.redAdd(beta4),nx=alpha.redSqr().redISub(beta8),nz=this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta),ggamma8=gamma.redSqr();ggamma8=ggamma8.redIAdd(ggamma8),ggamma8=ggamma8.redIAdd(ggamma8),ggamma8=ggamma8.redIAdd(ggamma8);var ny=alpha.redMul(beta4.redISub(nx)).redISub(ggamma8)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._dbl=function(){
var a=this.curve.a,jx=(this.curve.tinv,this.x),jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jx2=jx.redSqr(),jy2=jy.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),jxd4=jx.redAdd(jx);jxd4=jxd4.redIAdd(jxd4);var t1=jxd4.redMul(jy2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),jyd8=jy2.redSqr();jyd8=jyd8.redIAdd(jyd8),jyd8=jyd8.redIAdd(jyd8),jyd8=jyd8.redIAdd(jyd8);var ny=c.redMul(t2).redISub(jyd8),nz=jy.redAdd(jy).redMul(jz);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var xx=this.x.redSqr(),yy=this.y.redSqr(),zz=this.z.redSqr(),yyyy=yy.redSqr(),m=xx.redAdd(xx).redIAdd(xx),mm=m.redSqr(),e=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);e=e.redIAdd(e),e=e.redAdd(e).redIAdd(e),e=e.redISub(mm);var ee=e.redSqr(),t=yyyy.redIAdd(yyyy);t=t.redIAdd(t),t=t.redIAdd(t),t=t.redIAdd(t);var u=m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t),yyu4=yy.redMul(u);yyu4=yyu4.redIAdd(yyu4),yyu4=yyu4.redIAdd(yyu4);var nx=this.x.redMul(ee).redISub(yyu4);nx=nx.redIAdd(nx),nx=nx.redIAdd(nx);var ny=this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));ny=ny.redIAdd(ny),ny=ny.redIAdd(ny),ny=ny.redIAdd(ny);var nz=this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mul=function(k,kbase){return k=new bn(k,kbase),this.curve._wnafMul(this,k)},JPoint.prototype.eq=function(p){if("affine"===p.type)return this.eq(p.toJ());if(this===p)return!0;var z2=this.z.redSqr(),pz2=p.z.redSqr();if(0!==this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0))return!1;var z3=z2.redMul(this.z),pz3=pz2.redMul(p.z);return 0===this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0)},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../../elliptic":45,"../curve":48,"bn.js":43,inherits:164}],51:[function(require,module,exports){function PresetCurve(options){this.curve="short"===options.type?new elliptic.curve.short(options):"edwards"===options.type?new elliptic.curve.edwards(options):new elliptic.curve.mont(options),this.g=this.curve.g,this.n=this.curve.n,this.hash=options.hash,assert(this.g.validate(),"Invalid curve"),assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,get:function(){var curve=new PresetCurve(options);return Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,value:curve}),curve}})}var curves=exports,hash=require("hash.js"),elliptic=(require("bn.js"),require("../elliptic")),assert=elliptic.utils.assert;curves.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"0",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",{doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}]})},{"../elliptic":45,"bn.js":43,"hash.js":58}],52:[function(require,module){function EC(options){return this instanceof EC?("string"==typeof options&&(assert(elliptic.curves.hasOwnProperty(options),"Unknown curve "+options),options=elliptic.curves[options]),
options instanceof elliptic.curves.PresetCurve&&(options={curve:options}),this.curve=options.curve.curve,this.n=this.curve.n,this.nh=this.n.shrn(1),this.g=this.curve.g,this.g=options.curve.g,this.g.precompute(options.curve.n.bitLength()+1),void(this.hash=options.hash||options.curve.hash)):new EC(options)}var bn=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,KeyPair=require("./key"),Signature=require("./signature");module.exports=EC,EC.prototype.keyPair=function(priv,pub){return new KeyPair(this,priv,pub)},EC.prototype.genKeyPair=function(options){options||(options={});for(var drbg=new elliptic.hmacDRBG({hash:this.hash,pers:options.pers,entropy:options.entropy||elliptic.rand(this.hash.hmacStrength),nonce:this.n.toArray()}),bytes=this.n.byteLength(),ns2=this.n.sub(new bn(2));;){var priv=new bn(drbg.generate(bytes));if(!(priv.cmp(ns2)>0))return priv.iaddn(1),this.keyPair(priv)}},EC.prototype._truncateToN=function(msg,truncOnly){var delta=8*msg.byteLength()-this.n.bitLength();return delta>0&&(msg=msg.shrn(delta)),!truncOnly&&msg.cmp(this.n)>=0?msg.sub(this.n):msg},EC.prototype.sign=function(msg,key,options){key=this.keyPair(key,"hex"),msg=this._truncateToN(new bn(msg,16)),options||(options={});for(var bytes=this.n.byteLength(),bkey=key.getPrivate().toArray(),i=bkey.length;21>i;i++)bkey.unshift(0);for(var nonce=msg.toArray(),i=nonce.length;bytes>i;i++)nonce.unshift(0);for(var drbg=new elliptic.hmacDRBG({hash:this.hash,entropy:bkey,nonce:nonce}),ns1=this.n.sub(new bn(1));;){var k=new bn(drbg.generate(this.n.byteLength()));if(k=this._truncateToN(k,!0),!(k.cmpn(1)<=0||k.cmp(ns1)>=0)){var kp=this.g.mul(k);if(!kp.isInfinity()){var r=kp.getX().mod(this.n);if(0!==r.cmpn(0)){var s=k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg)).mod(this.n);if(0!==s.cmpn(0))return options.canonical&&s.cmp(this.nh)>0&&(s=this.n.sub(s)),new Signature(r,s)}}}}},EC.prototype.verify=function(msg,signature,key){msg=this._truncateToN(new bn(msg,16)),key=this.keyPair(key,"hex"),signature=new Signature(signature,"hex");var r=signature.r,s=signature.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var sinv=s.invm(this.n),u1=sinv.mul(msg).mod(this.n),u2=sinv.mul(r).mod(this.n),p=this.g.mulAdd(u1,key.getPublic(),u2);return p.isInfinity()?!1:0===p.getX().mod(this.n).cmp(r)}},{"../../elliptic":45,"./key":53,"./signature":54,"bn.js":43}],53:[function(require,module){function KeyPair(ec,priv,pub){return priv instanceof KeyPair?priv:pub instanceof KeyPair?pub:(priv||(priv=pub,pub=null),null!==priv&&"object"==typeof priv&&(priv.x?(pub=priv,priv=null):(priv.priv||priv.pub)&&(pub=priv.pub,priv=priv.priv)),this.ec=ec,this.priv=null,this.pub=null,void(this._importPublicHex(priv,pub)||("hex"===pub&&(pub=null),priv&&this._importPrivate(priv),pub&&this._importPublic(pub))))}{var bn=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils;utils.assert}module.exports=KeyPair,KeyPair.prototype.validate=function(){var pub=this.getPublic();return pub.isInfinity()?{result:!1,reason:"Invalid public key"}:pub.validate()?pub.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(compact,enc){if(this.pub||(this.pub=this.ec.g.mul(this.priv)),"string"==typeof compact&&(enc=compact,compact=null),!enc)return this.pub;for(var len=this.ec.curve.p.byteLength(),x=this.pub.getX().toArray(),i=x.length;len>i;i++)x.unshift(0);if(compact)var res=[this.pub.getY().isEven()?2:3].concat(x);else{for(var y=this.pub.getY().toArray(),i=y.length;len>i;i++)y.unshift(0);var res=[4].concat(x,y)}return utils.encode(res,enc)},KeyPair.prototype.getPrivate=function(enc){return"hex"===enc?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(key){this.priv=new bn(key,16),this.priv=this.priv.mod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(key){this.pub=this.ec.curve.point(key.x,key.y)},KeyPair.prototype._importPublicHex=function(key,enc){key=utils.toArray(key,enc);var len=this.ec.curve.p.byteLength();if(4===key[0]&&key.length-1===2*len)this.pub=this.ec.curve.point(key.slice(1,1+len),key.slice(1+len,1+2*len));else{if(2!==key[0]&&3!==key[0]||key.length-1!==len)return!1;this.pub=this.ec.curve.pointFromX(3===key[0],key.slice(1,1+len))}return!0},KeyPair.prototype.derive=function(pub){return pub.mul(this.priv).getX()},KeyPair.prototype.sign=function(msg){return this.ec.sign(msg,this)},KeyPair.prototype.verify=function(msg,signature){return this.ec.verify(msg,signature,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../../elliptic":45,"bn.js":43}],54:[function(require,module){function Signature(r,s){return r instanceof Signature?r:void(this._importDER(r,s)||(assert(r&&s,"Signature without r or s"),this.r=new bn(r,16),this.s=new bn(s,16)))}var bn=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert;module.exports=Signature,Signature.prototype._importDER=function(data,enc){if(data=utils.toArray(data,enc),data.length<6||48!==data[0]||2!==data[2])return!1;var total=data[1];if(1+total>data.length)return!1;var rlen=data[3];if(rlen>=128)return!1;if(4+rlen+2>=data.length)return!1;if(2!==data[4+rlen])return!1;var slen=data[5+rlen];return slen>=128?!1:4+rlen+2+slen>data.length?!1:(this.r=new bn(data.slice(4,4+rlen)),this.s=new bn(data.slice(4+rlen+2,4+rlen+2+slen)),!0)},Signature.prototype.toDER=function(enc){var r=this.r.toArray(),s=this.s.toArray();128&r[0]&&(r=[0].concat(r)),128&s[0]&&(s=[0].concat(s));var total=r.length+s.length+4,res=[48,total,2,r.length];return res=res.concat(r,[2,s.length],s),utils.encode(res,enc)}},{"../../elliptic":45,"bn.js":43}],55:[function(require,module){function HmacDRBG(options){if(!(this instanceof HmacDRBG))return new HmacDRBG(options);this.hash=options.hash,this.predResist=!!options.predResist,this.outLen=this.hash.outSize,this.minEntropy=options.minEntropy||this.hash.hmacStrength,this.reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var entropy=utils.toArray(options.entropy,options.entropyEnc),nonce=utils.toArray(options.nonce,options.nonceEnc),pers=utils.toArray(options.pers,options.persEnc);assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(entropy,nonce,pers)}var hash=require("hash.js"),elliptic=require("../elliptic"),utils=elliptic.utils,assert=utils.assert;module.exports=HmacDRBG,HmacDRBG.prototype._init=function(entropy,nonce,pers){var seed=entropy.concat(nonce).concat(pers);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(seed),this.reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(seed){var kmac=this._hmac().update(this.V).update([0]);seed&&(kmac=kmac.update(seed)),this.K=kmac.digest(),this.V=this._hmac().update(this.V).digest(),seed&&(this.K=this._hmac().update(this.V).update([1]).update(seed).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(entropy,entropyEnc,add,addEnc){"string"!=typeof entropyEnc&&(addEnc=add,add=entropyEnc,entropyEnc=null),entropy=utils.toBuffer(entropy,entropyEnc),add=utils.toBuffer(add,addEnc),assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(entropy.concat(add||[])),this.reseed=1},HmacDRBG.prototype.generate=function(len,enc,add,addEnc){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof enc&&(addEnc=add,add=enc,enc=null),add&&(add=utils.toArray(add,addEnc),this._update(add));for(var temp=[];temp.length<len;)this.V=this._hmac().update(this.V).digest(),temp=temp.concat(this.V);var res=temp.slice(0,len);return this._update(add),this.reseed++,utils.encode(res,enc)}},{"../elliptic":45,"hash.js":58}],56:[function(require,module,exports){function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"==typeof msg)if(enc){if("hex"===enc){msg=msg.replace(/[^a-z0-9]+/gi,""),msg.length%2!==0&&(msg="0"+msg);for(var i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}}else for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i),hi=c>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}else for(var i=0;i<msg.length;i++)res[i]=0|msg[i];return res}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}function zero2(word){return 1===word.length?"0"+word:word}function getNAF(num,w){for(var naf=[],ws=1<<w+1,k=num.clone();k.cmpn(1)>=0;){var z;if(k.isOdd()){var mod=k.andln(ws-1);z=mod>(ws>>1)-1?(ws>>1)-mod:mod,k.isubn(z)}else z=0;naf.push(z);for(var shift=0!==k.cmpn(0)&&0===k.andln(ws-1)?w+1:1,i=1;shift>i;i++)naf.push(0);k.ishrn(shift)}return naf}function getJSF(k1,k2){var jsf=[[],[]];k1=k1.clone(),k2=k2.clone();for(var d1=0,d2=0;k1.cmpn(-d1)>0||k2.cmpn(-d2)>0;){var m14=k1.andln(3)+d1&3,m24=k2.andln(3)+d2&3;3===m14&&(m14=-1),3===m24&&(m24=-1);var u1;if(0===(1&m14))u1=0;else{var m8=k1.andln(7)+d1&7;u1=3!==m8&&5!==m8||2!==m24?m14:-m14}jsf[0].push(u1);var u2;if(0===(1&m24))u2=0;else{var m8=k2.andln(7)+d2&7;u2=3!==m8&&5!==m8||2!==m14?m24:-m24}jsf[1].push(u2),2*d1===u1+1&&(d1=1-d1),2*d2===u2+1&&(d2=1-d2),k1.ishrn(1),k2.ishrn(1)}return jsf}var utils=(require("bn.js"),exports);utils.assert=function(val,msg){if(!val)throw new Error(msg||"Assertion failed")},utils.toArray=toArray,utils.toHex=toHex,utils.encode=function(arr,enc){return"hex"===enc?toHex(arr):arr},utils.zero2=zero2,utils.getNAF=getNAF,utils.getJSF=getJSF},{"bn.js":43}],57:[function(require,module){function Rand(rand){this.rand=rand}var r;if(module.exports=function(len){return r||(r=new Rand(null)),r.generate(len)},module.exports.Rand=Rand,Rand.prototype.generate=function(len){return this._rand(len)},"object"==typeof window)Rand.prototype._rand=window.crypto&&window.crypto.getRandomValues?function(n){var arr=new Uint8Array(n);return window.crypto.getRandomValues(arr),arr}:window.msCrypto&&window.msCrypto.getRandomValues?function(n){var arr=new Uint8Array(n);return window.msCrypto.getRandomValues(arr),arr}:function(){throw new Error("Not implemented yet")};else try{var crypto=require("crypto");Rand.prototype._rand=function(n){return crypto.randomBytes(n)}}catch(e){Rand.prototype._rand=function(n){for(var res=new Uint8Array(n),i=0;i<res.length;i++)res[i]=this.rand.getByte();return res}}},{}],58:[function(require,module,exports){var hash=exports;hash.utils=require("./hash/utils"),hash.common=require("./hash/common"),hash.sha=require("./hash/sha"),hash.ripemd=require("./hash/ripemd"),hash.hmac=require("./hash/hmac"),hash.sha1=hash.sha.sha1,hash.sha256=hash.sha.sha256,hash.sha224=hash.sha.sha224,hash.sha384=hash.sha.sha384,hash.sha512=hash.sha.sha512,hash.ripemd160=hash.ripemd.ripemd160},{"./hash/common":59,"./hash/hmac":60,"./hash/ripemd":61,"./hash/sha":62,"./hash/utils":63}],59:[function(require,module,exports){function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var hash=require("../hash"),utils=hash.utils,assert=utils.assert;exports.BlockHash=BlockHash,BlockHash.prototype.update=function(msg,enc){if(msg=utils.toArray(msg,enc),this.pending=this.pending?this.pending.concat(msg):msg,this.pendingTotal+=msg.length,this.pending.length>=this._delta8){msg=this.pending;var r=msg.length%this._delta8;this.pending=msg.slice(msg.length-r,msg.length),0===this.pending.length&&(this.pending=null),msg=utils.join32(msg,0,msg.length-r,this.endian);for(var i=0;i<msg.length;i+=this._delta32)this._update(msg,i,i+this._delta32)}return this},BlockHash.prototype.digest=function(enc){return this.update(this._pad()),assert(null===this.pending),this._digest(enc)},BlockHash.prototype._pad=function(){var len=this.pendingTotal,bytes=this._delta8,k=bytes-(len+this.padLength)%bytes,res=new Array(k+this.padLength);res[0]=128;for(var i=1;k>i;i++)res[i]=0;if(len<<=3,"big"===this.endian){for(var t=8;t<this.padLength;t++)res[i++]=0;res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=len>>>24&255,res[i++]=len>>>16&255,res[i++]=len>>>8&255,res[i++]=255&len}else{res[i++]=255&len,res[i++]=len>>>8&255,res[i++]=len>>>16&255,res[i++]=len>>>24&255,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0;for(var t=8;t<this.padLength;t++)res[i++]=0}return res}},{"../hash":58}],60:[function(require,module,exports){function Hmac(hash,key,enc){return this instanceof Hmac?(this.Hash=hash,this.blockSize=hash.blockSize/8,this.outSize=hash.outSize/8,this.inner=null,this.outer=null,void this._init(utils.toArray(key,enc))):new Hmac(hash,key,enc)}var hash=require("../hash"),utils=hash.utils,assert=utils.assert;module.exports=Hmac,Hmac.prototype._init=function(key){key.length>this.blockSize&&(key=(new this.Hash).update(key).digest()),assert(key.length<=this.blockSize);for(var i=key.length;i<this.blockSize;i++)key.push(0);for(var i=0;i<key.length;i++)key[i]^=54;this.inner=(new this.Hash).update(key);for(var i=0;i<key.length;i++)key[i]^=106;this.outer=(new this.Hash).update(key)},Hmac.prototype.update=function(msg,enc){return this.inner.update(msg,enc),this},Hmac.prototype.digest=function(enc){return this.outer.update(this.inner.digest()),this.outer.digest(enc)}},{"../hash":58}],61:[function(require,module,exports){function RIPEMD160(){return this instanceof RIPEMD160?(BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new RIPEMD160}function f(j,x,y,z){return 15>=j?x^y^z:31>=j?x&y|~x&z:47>=j?(x|~y)^z:63>=j?x&z|y&~z:x^(y|~z)}function K(j){return 15>=j?0:31>=j?1518500249:47>=j?1859775393:63>=j?2400959708:2840853838}function Kh(j){return 15>=j?1352829926:31>=j?1548603684:47>=j?1836072691:63>=j?2053994217:0}var hash=require("../hash"),utils=hash.utils,rotl32=utils.rotl32,sum32=utils.sum32,sum32_3=utils.sum32_3,sum32_4=utils.sum32_4,BlockHash=hash.common.BlockHash;utils.inherits(RIPEMD160,BlockHash),exports.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(msg,start){for(var A=this.h[0],B=this.h[1],C=this.h[2],D=this.h[3],E=this.h[4],Ah=A,Bh=B,Ch=C,Dh=D,Eh=E,j=0;80>j;j++){var T=sum32(rotl32(sum32_4(A,f(j,B,C,D),msg[r[j]+start],K(j)),s[j]),E);A=E,E=D,D=rotl32(C,10),C=B,B=T,T=sum32(rotl32(sum32_4(Ah,f(79-j,Bh,Ch,Dh),msg[rh[j]+start],Kh(j)),sh[j]),Eh),Ah=Eh,Eh=Dh,Dh=rotl32(Ch,10),Ch=Bh,Bh=T}T=sum32_3(this.h[1],C,Dh),this.h[1]=sum32_3(this.h[2],D,Eh),this.h[2]=sum32_3(this.h[3],E,Ah),this.h[3]=sum32_3(this.h[4],A,Bh),this.h[4]=sum32_3(this.h[0],B,Ch),this.h[0]=T},RIPEMD160.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"little"):utils.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"../hash":58}],62:[function(require,module,exports){function SHA256(){return this instanceof SHA256?(BlockHash.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,void(this.W=new Array(64))):new SHA256}function SHA224(){return this instanceof SHA224?(SHA256.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new SHA224}function SHA512(){return this instanceof SHA512?(BlockHash.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,void(this.W=new Array(160))):new SHA512}function SHA384(){return this instanceof SHA384?(SHA512.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new SHA384}function SHA1(){return this instanceof SHA1?(BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=new Array(80))):new SHA1}function ch32(x,y,z){return x&y^~x&z}function maj32(x,y,z){return x&y^x&z^y&z}function p32(x,y,z){return x^y^z}function s0_256(x){return rotr32(x,2)^rotr32(x,13)^rotr32(x,22)}function s1_256(x){return rotr32(x,6)^rotr32(x,11)^rotr32(x,25)}function g0_256(x){return rotr32(x,7)^rotr32(x,18)^x>>>3}function g1_256(x){return rotr32(x,17)^rotr32(x,19)^x>>>10}function ft_1(s,x,y,z){return 0===s?ch32(x,y,z):1===s||3===s?p32(x,y,z):2===s?maj32(x,y,z):void 0}function ch64_hi(xh,xl,yh,yl,zh){var r=xh&yh^~xh&zh;return 0>r&&(r+=4294967296),r}function ch64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^~xl&zl;return 0>r&&(r+=4294967296),r}function maj64_hi(xh,xl,yh,yl,zh){var r=xh&yh^xh&zh^yh&zh;return 0>r&&(r+=4294967296),r}function maj64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^xl&zl^yl&zl;return 0>r&&(r+=4294967296),r}function s0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,28),c1_hi=rotr64_hi(xl,xh,2),c2_hi=rotr64_hi(xl,xh,7),r=c0_hi^c1_hi^c2_hi;return 0>r&&(r+=4294967296),r}function s0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,28),c1_lo=rotr64_lo(xl,xh,2),c2_lo=rotr64_lo(xl,xh,7),r=c0_lo^c1_lo^c2_lo;return 0>r&&(r+=4294967296),r}function s1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,14),c1_hi=rotr64_hi(xh,xl,18),c2_hi=rotr64_hi(xl,xh,9),r=c0_hi^c1_hi^c2_hi;return 0>r&&(r+=4294967296),r}function s1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,14),c1_lo=rotr64_lo(xh,xl,18),c2_lo=rotr64_lo(xl,xh,9),r=c0_lo^c1_lo^c2_lo;return 0>r&&(r+=4294967296),r}function g0_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,1),c1_hi=rotr64_hi(xh,xl,8),c2_hi=shr64_hi(xh,xl,7),r=c0_hi^c1_hi^c2_hi;return 0>r&&(r+=4294967296),r}function g0_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,1),c1_lo=rotr64_lo(xh,xl,8),c2_lo=shr64_lo(xh,xl,7),r=c0_lo^c1_lo^c2_lo;return 0>r&&(r+=4294967296),r}function g1_512_hi(xh,xl){var c0_hi=rotr64_hi(xh,xl,19),c1_hi=rotr64_hi(xl,xh,29),c2_hi=shr64_hi(xh,xl,6),r=c0_hi^c1_hi^c2_hi;return 0>r&&(r+=4294967296),r}function g1_512_lo(xh,xl){var c0_lo=rotr64_lo(xh,xl,19),c1_lo=rotr64_lo(xl,xh,29),c2_lo=shr64_lo(xh,xl,6),r=c0_lo^c1_lo^c2_lo;return 0>r&&(r+=4294967296),r}var hash=require("../hash"),utils=hash.utils,assert=utils.assert,rotr32=utils.rotr32,rotl32=utils.rotl32,sum32=utils.sum32,sum32_4=utils.sum32_4,sum32_5=utils.sum32_5,rotr64_hi=utils.rotr64_hi,rotr64_lo=utils.rotr64_lo,shr64_hi=utils.shr64_hi,shr64_lo=utils.shr64_lo,sum64=utils.sum64,sum64_hi=utils.sum64_hi,sum64_lo=utils.sum64_lo,sum64_4_hi=utils.sum64_4_hi,sum64_4_lo=utils.sum64_4_lo,sum64_5_hi=utils.sum64_5_hi,sum64_5_lo=utils.sum64_5_lo,BlockHash=hash.common.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],sha1_K=[1518500249,1859775393,2400959708,3395469782];utils.inherits(SHA256,BlockHash),exports.sha256=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function(msg,start){for(var W=this.W,i=0;16>i;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=sum32_4(g1_256(W[i-2]),W[i-7],g0_256(W[i-15]),W[i-16]);var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4],f=this.h[5],g=this.h[6],h=this.h[7];assert(this.k.length===W.length);for(var i=0;i<W.length;i++){var T1=sum32_5(h,s1_256(e),ch32(e,f,g),this.k[i],W[i]),T2=sum32(s0_256(a),maj32(a,b,c));h=g,g=f,f=e,e=sum32(d,T1),d=c,c=b,b=a,a=sum32(T1,T2)}this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e),this.h[5]=sum32(this.h[5],f),this.h[6]=sum32(this.h[6],g),this.h[7]=sum32(this.h[7],h)},SHA256.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA224,SHA256),exports.sha224=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,7),"big"):utils.split32(this.h.slice(0,7),"big")},utils.inherits(SHA512,BlockHash),exports.sha512=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function(msg,start){for(var W=this.W,i=0;32>i;i++)W[i]=msg[start+i];for(;i<W.length;i+=2){var c0_hi=g1_512_hi(W[i-4],W[i-3]),c0_lo=g1_512_lo(W[i-4],W[i-3]),c1_hi=W[i-14],c1_lo=W[i-13],c2_hi=g0_512_hi(W[i-30],W[i-29]),c2_lo=g0_512_lo(W[i-30],W[i-29]),c3_hi=W[i-32],c3_lo=W[i-31];W[i]=sum64_4_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo),W[i+1]=sum64_4_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo)}},SHA512.prototype._update=function(msg,start){this._prepareBlock(msg,start);var W=this.W,ah=this.h[0],al=this.h[1],bh=this.h[2],bl=this.h[3],ch=this.h[4],cl=this.h[5],dh=this.h[6],dl=this.h[7],eh=this.h[8],el=this.h[9],fh=this.h[10],fl=this.h[11],gh=this.h[12],gl=this.h[13],hh=this.h[14],hl=this.h[15];assert(this.k.length===W.length);for(var i=0;i<W.length;i+=2){var c0_hi=hh,c0_lo=hl,c1_hi=s1_512_hi(eh,el),c1_lo=s1_512_lo(eh,el),c2_hi=ch64_hi(eh,el,fh,fl,gh,gl),c2_lo=ch64_lo(eh,el,fh,fl,gh,gl),c3_hi=this.k[i],c3_lo=this.k[i+1],c4_hi=W[i],c4_lo=W[i+1],T1_hi=sum64_5_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo),T1_lo=sum64_5_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo),c0_hi=s0_512_hi(ah,al),c0_lo=s0_512_lo(ah,al),c1_hi=maj64_hi(ah,al,bh,bl,ch,cl),c1_lo=maj64_lo(ah,al,bh,bl,ch,cl),T2_hi=sum64_hi(c0_hi,c0_lo,c1_hi,c1_lo),T2_lo=sum64_lo(c0_hi,c0_lo,c1_hi,c1_lo);hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,eh=sum64_hi(dh,dl,T1_hi,T1_lo),el=sum64_lo(dl,dl,T1_hi,T1_lo),dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,ah=sum64_hi(T1_hi,T1_lo,T2_hi,T2_lo),al=sum64_lo(T1_hi,T1_lo,T2_hi,T2_lo)}sum64(this.h,0,ah,al),sum64(this.h,2,bh,bl),sum64(this.h,4,ch,cl),sum64(this.h,6,dh,dl),sum64(this.h,8,eh,el),sum64(this.h,10,fh,fl),sum64(this.h,12,gh,gl),sum64(this.h,14,hh,hl)},SHA512.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA384,SHA512),exports.sha384=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,12),"big"):utils.split32(this.h.slice(0,12),"big")},utils.inherits(SHA1,BlockHash),exports.sha1=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(msg,start){for(var W=this.W,i=0;16>i;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=rotl32(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);for(var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4],i=0;i<W.length;i++){var s=~~(i/20),t=sum32_5(rotl32(a,5),ft_1(s,b,c,d),e,W[i],sha1_K[s]);e=d,d=c,c=rotl32(b,30),b=a,a=t}this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e)},SHA1.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")}},{"../hash":58}],63:[function(require,module,exports){function toArray(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"==typeof msg)if(enc){if("hex"===enc){msg=msg.replace(/[^a-z0-9]+/gi,""),msg.length%2!==0&&(msg="0"+msg);for(var i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}}else for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i),hi=c>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}else for(var i=0;i<msg.length;i++)res[i]=0|msg[i];return res}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}function htonl(w){var res=w>>>24|w>>>8&65280|w<<8&16711680|(255&w)<<24;return res>>>0}function toHex32(msg,endian){for(var res="",i=0;i<msg.length;i++){var w=msg[i];"little"===endian&&(w=htonl(w)),res+=zero8(w.toString(16))}return res}function zero2(word){return 1===word.length?"0"+word:word}function zero8(word){return 7===word.length?"0"+word:6===word.length?"00"+word:5===word.length?"000"+word:4===word.length?"0000"+word:3===word.length?"00000"+word:2===word.length?"000000"+word:1===word.length?"0000000"+word:word}function join32(msg,start,end,endian){var len=end-start;assert(len%4===0);for(var res=new Array(len/4),i=0,k=start;i<res.length;i++,k+=4){var w;w="big"===endian?msg[k]<<24|msg[k+1]<<16|msg[k+2]<<8|msg[k+3]:msg[k+3]<<24|msg[k+2]<<16|msg[k+1]<<8|msg[k],res[i]=w>>>0}return res}function split32(msg,endian){for(var res=new Array(4*msg.length),i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];"big"===endian?(res[k]=m>>>24,res[k+1]=m>>>16&255,res[k+2]=m>>>8&255,res[k+3]=255&m):(res[k+3]=m>>>24,res[k+2]=m>>>16&255,res[k+1]=m>>>8&255,res[k]=255&m)}return res}function rotr32(w,b){return w>>>b|w<<32-b}function rotl32(w,b){return w<<b|w>>>32-b}function sum32(a,b){return a+b>>>0}function sum32_3(a,b,c){return a+b+c>>>0}function sum32_4(a,b,c,d){return a+b+c+d>>>0}function sum32_5(a,b,c,d,e){return a+b+c+d+e>>>0}function assert(cond,msg){if(!cond)throw new Error(msg||"Assertion failed")}function sum64(buf,pos,ah,al){var bh=buf[pos],bl=buf[pos+1],lo=al+bl>>>0,hi=(al>lo?1:0)+ah+bh;buf[pos]=hi>>>0,buf[pos+1]=lo}function sum64_hi(ah,al,bh,bl){var lo=al+bl>>>0,hi=(al>lo?1:0)+ah+bh;return hi>>>0}function sum64_lo(ah,al,bh,bl){var lo=al+bl;return lo>>>0}function sum64_4_hi(ah,al,bh,bl,ch,cl,dh,dl){var carry=0,lo=al;lo=lo+bl>>>0,carry+=al>lo?1:0,lo=lo+cl>>>0,carry+=cl>lo?1:0,lo=lo+dl>>>0,carry+=dl>lo?1:0;var hi=ah+bh+ch+dh+carry;return hi>>>0}function sum64_4_lo(ah,al,bh,bl,ch,cl,dh,dl){var lo=al+bl+cl+dl;return lo>>>0}function sum64_5_hi(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var carry=0,lo=al;lo=lo+bl>>>0,carry+=al>lo?1:0,lo=lo+cl>>>0,carry+=cl>lo?1:0,lo=lo+dl>>>0,carry+=dl>lo?1:0,lo=lo+el>>>0,carry+=el>lo?1:0;var hi=ah+bh+ch+dh+eh+carry;return hi>>>0}function sum64_5_lo(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var lo=al+bl+cl+dl+el;return lo>>>0}function rotr64_hi(ah,al,num){var r=al<<32-num|ah>>>num;return r>>>0}function rotr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}function shr64_hi(ah,al,num){return ah>>>num}function shr64_lo(ah,al,num){var r=ah<<32-num|al>>>num;return r>>>0}var utils=exports,inherits=require("inherits");utils.toArray=toArray,utils.toHex=toHex,utils.htonl=htonl,utils.toHex32=toHex32,utils.zero2=zero2,utils.zero8=zero8,utils.join32=join32,utils.split32=split32,utils.rotr32=rotr32,utils.rotl32=rotl32,utils.sum32=sum32,utils.sum32_3=sum32_3,utils.sum32_4=sum32_4,utils.sum32_5=sum32_5,utils.assert=assert,utils.inherits=inherits,exports.sum64=sum64,exports.sum64_hi=sum64_hi,exports.sum64_lo=sum64_lo,exports.sum64_4_hi=sum64_4_hi,exports.sum64_4_lo=sum64_4_lo,exports.sum64_5_hi=sum64_5_hi,exports.sum64_5_lo=sum64_5_lo,exports.rotr64_hi=rotr64_hi,exports.rotr64_lo=rotr64_lo,exports.shr64_hi=shr64_hi,exports.shr64_lo=shr64_lo},{inherits:164}],64:[function(require,module){module.exports={name:"elliptic",version:"1.0.1",description:"EC cryptography",main:"lib/elliptic.js",scripts:{test:"mocha --reporter=spec test/*-test.js"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:{name:"Fedor Indutny",email:"fedor@indutny.com"},license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{browserify:"^3.44.2",mocha:"^1.18.2","uglify-js":"^2.4.13"},dependencies:{"bn.js":"^1.0.0",brorand:"^1.0.1","hash.js":"^1.0.0",inherits:"^2.0.1"},gitHead:"17dc013761dd1efcfb868e2b06b0b897627b40be",_id:"elliptic@1.0.1",_shasum:"d180376b66a17d74995c837796362ac4d22aefe3",_from:"elliptic@>=1.0.0 <2.0.0",_npmVersion:"1.4.28",_npmUser:{name:"indutny",email:"fedor@indutny.com"},maintainers:[{name:"indutny",email:"fedor@indutny.com"}],dist:{shasum:"d180376b66a17d74995c837796362ac4d22aefe3",tarball:"http://registry.npmjs.org/elliptic/-/elliptic-1.0.1.tgz"},directories:{},_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-1.0.1.tgz",readme:"ERROR: No README data found!"}},{}],65:[function(require,module){(function(Buffer){var createHash=require("create-hash");module.exports=function(password,salt,keyLen){keyLen/=8;for(var md,md_buf,i,ki=0,key=new Buffer(keyLen),addmd=0;;){if(md=createHash("md5"),addmd++>0&&md.update(md_buf),md.update(password),md.update(salt),md_buf=md.digest(),i=0,keyLen>0)for(;;){if(0===keyLen)break;if(i===md_buf.length)break;key[ki++]=md_buf[i++],keyLen--}if(0===keyLen)break}for(i=0;i<md_buf.length;i++)md_buf[i]=0;return key}}).call(this,require("buffer").Buffer)},{buffer:17,"create-hash":109}],66:[function(require,module){module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb",
"2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],67:[function(require,module,exports){var asn1=require("asn1.js"),RSAPrivateKey=asn1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=RSAPublicKey;var PublicKey=asn1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});exports.PublicKey=PublicKey;var AlgorithmIdentifier=asn1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),PrivateKeyInfo=asn1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=DSAPrivateKey,exports.DSAparam=asn1.define("DSAparam",function(){this.int()});var ECPrivateKey=asn1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=ECPrivateKey;var ECParameters=asn1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=asn1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"asn1.js":70}],68:[function(require,module){(function(Buffer){var findProc=/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m,startRegex=/^-----BEGIN (.*) KEY-----\n/m,fullRegex=/^-----BEGIN (.*) KEY-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1 KEY-----$/m,evp=require("./EVP_BytesToKey"),ciphers=require("browserify-aes");module.exports=function(okey,password){var decrypted,key=okey.toString(),match=key.match(findProc);if(match){var suite="aes"+match[1],iv=new Buffer(match[2],"hex"),cipherText=new Buffer(match[3].replace(/\n\r?/g,""),"base64"),cipherKey=evp(password,iv.slice(0,8),parseInt(match[1])),out=[],cipher=ciphers.createDecipheriv(suite,cipherKey,iv);out.push(cipher.update(cipherText)),out.push(cipher.final()),decrypted=Buffer.concat(out)}else{var match2=key.match(fullRegex);decrypted=new Buffer(match2[2].replace(/\n\r?/g,""),"base64")}var tag=key.match(startRegex)[1]+" KEY";return{tag:tag,data:decrypted}}}).call(this,require("buffer").Buffer)},{"./EVP_BytesToKey":65,"browserify-aes":25,buffer:17}],69:[function(require,module){(function(Buffer){function parseKeys(buffer){var password;"object"!=typeof buffer||Buffer.isBuffer(buffer)||(password=buffer.passphrase,buffer=buffer.key),"string"==typeof buffer&&(buffer=new Buffer(buffer));var subtype,ndata,stripped=fixProc(buffer,password),type=stripped.tag,data=stripped.data;switch(type){case"PUBLIC KEY":switch(ndata=asn1.PublicKey.decode(data,"der"),subtype=ndata.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return ndata.subjectPrivateKey=ndata.subjectPublicKey,{type:"ec",data:ndata};case"1.2.840.10040.4.1":return ndata.algorithm.params.pub_key=asn1.DSAparam.decode(ndata.subjectPublicKey.data,"der"),{type:"dsa",data:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"ENCRYPTED PRIVATE KEY":data=asn1.EncryptedPrivateKey.decode(data,"der"),data=decrypt(data,password);case"PRIVATE KEY":switch(ndata=asn1.PrivateKey.decode(data,"der"),subtype=ndata.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ndata.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(ndata.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return ndata.algorithm.params.priv_key=asn1.DSAparam.decode(ndata.subjectPrivateKey,"der"),{type:"dsa",params:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(data,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(data,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(data,"der")};case"EC PRIVATE KEY":return data=asn1.ECPrivateKey.decode(data,"der"),{curve:data.parameters.value,privateKey:data.privateKey};default:throw new Error("unknown key type "+type)}}function decrypt(data,password){var salt=data.algorithm.decrypt.kde.kdeparams.salt,iters=data.algorithm.decrypt.kde.kdeparams.iters,algo=aesid[data.algorithm.decrypt.cipher.algo.join(".")],iv=data.algorithm.decrypt.cipher.iv,cipherText=data.subjectPrivateKey,keylen=parseInt(algo.split("-")[1],10)/8,key=compat.pbkdf2Sync(password,salt,iters,keylen),cipher=ciphers.createDecipheriv(algo,key,iv),out=[];return out.push(cipher.update(cipherText)),out.push(cipher.final()),Buffer.concat(out)}var asn1=require("./asn1"),aesid=require("./aesid.json"),fixProc=require("./fixProc"),ciphers=require("browserify-aes"),compat=require("pbkdf2-compat");module.exports=parseKeys,parseKeys.signature=asn1.signature}).call(this,require("buffer").Buffer)},{"./aesid.json":66,"./asn1":67,"./fixProc":68,"browserify-aes":25,buffer:17,"pbkdf2-compat":83}],70:[function(require,module,exports){var asn1=exports;asn1.bignum=require("bn.js"),asn1.define=require("./asn1/api").define,asn1.base=require("./asn1/base"),asn1.constants=require("./asn1/constants"),asn1.decoders=require("./asn1/decoders"),asn1.encoders=require("./asn1/encoders")},{"./asn1/api":71,"./asn1/base":73,"./asn1/constants":77,"./asn1/decoders":79,"./asn1/encoders":81,"bn.js":43}],71:[function(require,module,exports){function Entity(name,body){this.name=name,this.body=body,this.decoders={},this.encoders={}}var asn1=require("../asn1"),inherits=require("inherits"),api=exports;api.define=function(name,body){return new Entity(name,body)},Entity.prototype._createNamed=function(base){var named;try{named=require("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){named=function(entity){this._initNamed(entity)}}return inherits(named,base),named.prototype._initNamed=function(entity){base.call(this,entity)},new named(this)},Entity.prototype._getDecoder=function(enc){return this.decoders.hasOwnProperty(enc)||(this.decoders[enc]=this._createNamed(asn1.decoders[enc])),this.decoders[enc]},Entity.prototype.decode=function(data,enc,options){return this._getDecoder(enc).decode(data,options)},Entity.prototype._getEncoder=function(enc){return this.encoders.hasOwnProperty(enc)||(this.encoders[enc]=this._createNamed(asn1.encoders[enc])),this.encoders[enc]},Entity.prototype.encode=function(data,enc,reporter){return this._getEncoder(enc).encode(data,reporter)}},{"../asn1":70,inherits:164,vm:188}],72:[function(require,module,exports){function DecoderBuffer(base,options){return Reporter.call(this,options),Buffer.isBuffer(base)?(this.base=base,this.offset=0,void(this.length=base.length)):void this.error("Input not Buffer")}function EncoderBuffer(value,reporter){if(Array.isArray(value))this.length=0,this.value=value.map(function(item){return item instanceof EncoderBuffer||(item=new EncoderBuffer(item,reporter)),this.length+=item.length,item},this);else if("number"==typeof value){if(!(value>=0&&255>=value))return reporter.error("non-byte EncoderBuffer value");this.value=value,this.length=1}else if("string"==typeof value)this.value=value,this.length=Buffer.byteLength(value);else{if(!Buffer.isBuffer(value))return reporter.error("Unsupported type: "+typeof value);this.value=value,this.length=value.length}}var inherits=require("inherits"),Reporter=require("../base").Reporter,Buffer=require("buffer").Buffer;inherits(DecoderBuffer,Reporter),exports.DecoderBuffer=DecoderBuffer,DecoderBuffer.prototype.save=function(){return{offset:this.offset}},DecoderBuffer.prototype.restore=function(save){var res=new DecoderBuffer(this.base);return res.offset=save.offset,res.length=this.offset,this.offset=save.offset,res},DecoderBuffer.prototype.isEmpty=function(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function(fail){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(fail||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function(bytes,fail){if(!(this.offset+bytes<=this.length))return this.error(fail||"DecoderBuffer overrun");var res=new DecoderBuffer(this.base);return res._reporterState=this._reporterState,res.offset=this.offset,res.length=this.offset+bytes,this.offset+=bytes,res},DecoderBuffer.prototype.raw=function(save){return this.base.slice(save?save.offset:this.offset,this.length)},exports.EncoderBuffer=EncoderBuffer,EncoderBuffer.prototype.join=function(out,offset){return out||(out=new Buffer(this.length)),offset||(offset=0),0===this.length?out:(Array.isArray(this.value)?this.value.forEach(function(item){item.join(out,offset),offset+=item.length}):("number"==typeof this.value?out[offset]=this.value:"string"==typeof this.value?out.write(this.value,offset):Buffer.isBuffer(this.value)&&this.value.copy(out,offset),offset+=this.length),out)}},{"../base":73,buffer:17,inherits:164}],73:[function(require,module,exports){var base=exports;base.Reporter=require("./reporter").Reporter,base.DecoderBuffer=require("./buffer").DecoderBuffer,base.EncoderBuffer=require("./buffer").EncoderBuffer,base.Node=require("./node")},{"./buffer":72,"./node":74,"./reporter":75}],74:[function(require,module){function Node(enc,parent){var state={};this._baseState=state,state.enc=enc,state.parent=parent||null,state.children=null,state.tag=null,state.args=null,state.reverseArgs=null,state.choice=null,state.optional=!1,state.any=!1,state.obj=!1,state.use=null,state.useDecoder=null,state.key=null,state.default=null,state.explicit=null,state.implicit=null,state.parent||(state.children=[],this._wrap())}var Reporter=require("../base").Reporter,EncoderBuffer=require("../base").EncoderBuffer,assert=require("minimalistic-assert"),tags=["seq","seqof","set","setof","octstr","bitstr","objid","bool","gentime","utctime","null_","enum","int","ia5str"],methods=["key","obj","use","optional","explicit","implicit","def","choice","any"].concat(tags),overrided=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];module.exports=Node;var stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit"];Node.prototype.clone=function(){var state=this._baseState,cstate={};stateProps.forEach(function(prop){cstate[prop]=state[prop]});var res=new this.constructor(cstate.parent);return res._baseState=cstate,res},Node.prototype._wrap=function(){var state=this._baseState;methods.forEach(function(method){this[method]=function(){var clone=new this.constructor(this);return state.children.push(clone),clone[method].apply(clone,arguments)}},this)},Node.prototype._init=function(body){var state=this._baseState;assert(null===state.parent),body.call(this),state.children=state.children.filter(function(child){return child._baseState.parent===this},this),assert.equal(state.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function(args){var state=this._baseState,children=args.filter(function(arg){return arg instanceof this.constructor},this);args=args.filter(function(arg){return!(arg instanceof this.constructor)},this),0!==children.length&&(assert(null===state.children),state.children=children,children.forEach(function(child){child._baseState.parent=this},this)),0!==args.length&&(assert(null===state.args),state.args=args,state.reverseArgs=args.map(function(arg){if("object"!=typeof arg||arg.constructor!==Object)return arg;var res={};return Object.keys(arg).forEach(function(key){key==(0|key)&&(key|=0);var value=arg[key];res[value]=key}),res}))},overrided.forEach(function(method){Node.prototype[method]=function(){var state=this._baseState;throw new Error(method+" not implemented for encoding: "+state.enc)}}),tags.forEach(function(tag){Node.prototype[tag]=function(){var state=this._baseState,args=Array.prototype.slice.call(arguments);return assert(null===state.tag),state.tag=tag,this._useArgs(args),this}}),Node.prototype.use=function(item){var state=this._baseState;return assert(null===state.use),state.use=item,this},Node.prototype.optional=function(){var state=this._baseState;return state.optional=!0,this},Node.prototype.def=function(val){var state=this._baseState;return assert(null===state.default),state.default=val,state.optional=!0,this},Node.prototype.explicit=function(num){var state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.explicit=num,this},Node.prototype.implicit=function(num){var state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.implicit=num,this},Node.prototype.obj=function(){var state=this._baseState,args=Array.prototype.slice.call(arguments);return state.obj=!0,0!==args.length&&this._useArgs(args),this},Node.prototype.key=function(newKey){var state=this._baseState;return assert(null===state.key),state.key=newKey,this},Node.prototype.any=function(){var state=this._baseState;return state.any=!0,this},Node.prototype.choice=function(obj){var state=this._baseState;return assert(null===state.choice),state.choice=obj,this._useArgs(Object.keys(obj).map(function(key){return obj[key]})),this},Node.prototype._decode=function(input){var state=this._baseState;if(null===state.parent)return input.wrapResult(state.children[0]._decode(input));var prevKey,result=state.default,present=!0;if(null!==state.key&&(prevKey=input.enterKey(state.key)),state.optional&&(present=this._peekTag(input,null!==state.explicit?state.explicit:null!==state.implicit?state.implicit:state.tag||0),input.isError(present)))return present;var prevObj;if(state.obj&&present&&(prevObj=input.enterObject()),present){if(null!==state.explicit){var explicit=this._decodeTag(input,state.explicit);if(input.isError(explicit))return explicit;input=explicit}if(null===state.use&&null===state.choice){if(state.any)var save=input.save();var body=this._decodeTag(input,null!==state.implicit?state.implicit:state.tag,state.any);if(input.isError(body))return body;state.any?result=input.raw(save):input=body}if(result=state.any?result:null===state.choice?this._decodeGeneric(state.tag,input):this._decodeChoice(input),input.isError(result))return result;if(!state.any&&null===state.choice&&null!==state.children){var fail=state.children.some(function(child){child._decode(input)});if(fail)return err}}return state.obj&&present&&(result=input.leaveObject(prevObj)),null===state.key||null===result&&present!==!0||input.leaveKey(prevKey,state.key,result),result},Node.prototype._decodeGeneric=function(tag,input){var state=this._baseState;return"seq"===tag||"set"===tag?null:"seqof"===tag||"setof"===tag?this._decodeList(input,tag,state.args[0]):"octstr"===tag||"bitstr"===tag||"ia5str"===tag?this._decodeStr(input,tag):"objid"===tag&&state.args?this._decodeObjid(input,state.args[0],state.args[1]):"objid"===tag?this._decodeObjid(input,null,null):"gentime"===tag||"utctime"===tag?this._decodeTime(input,tag):"null_"===tag?this._decodeNull(input):"bool"===tag?this._decodeBool(input):"int"===tag||"enum"===tag?this._decodeInt(input,state.args&&state.args[0]):null!==state.use?this._getUse(state.use,input._reporterState.obj)._decode(input):input.error("unknown tag: "+tag)},Node.prototype._getUse=function(entity,obj){var state=this._baseState;return state.useDecoder=this._use(entity,obj),assert(null===state.useDecoder._baseState.parent),state.useDecoder=state.useDecoder._baseState.children[0],state.implicit!==state.useDecoder._baseState.implicit&&(state.useDecoder=state.useDecoder.clone(),state.useDecoder._baseState.implicit=state.implicit),state.useDecoder},Node.prototype._decodeChoice=function(input){var state=this._baseState,result=null,match=!1;return Object.keys(state.choice).some(function(key){var save=input.save(),node=state.choice[key];try{var value=node._decode(input);if(input.isError(value))return!1;result={type:key,value:value},match=!0}catch(e){return input.restore(save),!1}return!0},this),match?result:input.error("Choice not matched")},Node.prototype._createEncoderBuffer=function(data){return new EncoderBuffer(data,this.reporter)},Node.prototype._encode=function(data,reporter,parent){var state=this._baseState;if(null===state.default||state.default!==data){var result=this._encodeValue(data,reporter,parent);if(void 0!==result&&!this._skipDefault(result,reporter,parent))return result}},Node.prototype._encodeValue=function(data,reporter,parent){var state=this._baseState;if(null===state.parent)return state.children[0]._encode(data,reporter||new Reporter);var result=null;if(this.reporter=reporter,state.optional&&void 0===data){if(null===state.default)return;data=state.default}var content=null,primitive=!1;if(state.any)result=this._createEncoderBuffer(data);else if(state.choice)result=this._encodeChoice(data,reporter);else if(state.children)content=state.children.map(function(child){if("null_"===child._baseState.tag)return child._encode(null,reporter,data);if(null===child._baseState.key)return reporter.error("Child should have a key");var prevKey=reporter.enterKey(child._baseState.key);if("object"!=typeof data)return reporter.error("Child expected, but input is not object");var res=child._encode(data[child._baseState.key],reporter,data);return reporter.leaveKey(prevKey),res},this).filter(function(child){return child}),content=this._createEncoderBuffer(content);else if("seqof"===state.tag||"setof"===state.tag){if(!state.args||1!==state.args.length)return reporter.error("Too many args for : "+state.tag);if(!Array.isArray(data))return reporter.error("seqof/setof, but data is not Array");var child=this.clone();child._baseState.implicit=null,content=this._createEncoderBuffer(data.map(function(item){var state=this._baseState;return this._getUse(state.args[0],data)._encode(item,reporter)},child))}else null!==state.use?result=this._getUse(state.use,parent)._encode(data,reporter):(content=this._encodePrimitive(state.tag,data),primitive=!0);var result;if(!state.any&&null===state.choice){var tag=null!==state.implicit?state.implicit:state.tag,cls=null===state.implicit?"universal":"context";null===tag?null===state.use&&reporter.error("Tag could be ommited only for .use()"):null===state.use&&(result=this._encodeComposite(tag,primitive,cls,content))}return null!==state.explicit&&(result=this._encodeComposite(state.explicit,!1,"context",result)),result},Node.prototype._encodeChoice=function(data,reporter){var state=this._baseState,node=state.choice[data.type];return node||assert(!1,data.type+" not found in "+JSON.stringify(Object.keys(state.choice))),node._encode(data.value,reporter)},Node.prototype._encodePrimitive=function(tag,data){var state=this._baseState;if("octstr"===tag||"bitstr"===tag||"ia5str"===tag)return this._encodeStr(data,tag);if("objid"===tag&&state.args)return this._encodeObjid(data,state.reverseArgs[0],state.args[1]);if("objid"===tag)return this._encodeObjid(data,null,null);if("gentime"===tag||"utctime"===tag)return this._encodeTime(data,tag);if("null_"===tag)return this._encodeNull();if("int"===tag||"enum"===tag)return this._encodeInt(data,state.args&&state.reverseArgs[0]);if("bool"===tag)return this._encodeBool(data);throw new Error("Unsupported tag: "+tag)}},{"../base":73,"minimalistic-assert":82}],75:[function(require,module,exports){function Reporter(options){this._reporterState={obj:null,path:[],options:options||{},errors:[]}}function ReporterError(path,msg){this.path=path,this.rethrow(msg)}var inherits=require("inherits");exports.Reporter=Reporter,Reporter.prototype.isError=function(obj){return obj instanceof ReporterError},Reporter.prototype.enterKey=function(key){return this._reporterState.path.push(key)},Reporter.prototype.leaveKey=function(index,key,value){var state=this._reporterState;state.path=state.path.slice(0,index-1),null!==state.obj&&(state.obj[key]=value)},Reporter.prototype.enterObject=function(){var state=this._reporterState,prev=state.obj;return state.obj={},prev},Reporter.prototype.leaveObject=function(prev){var state=this._reporterState,now=state.obj;return state.obj=prev,now},Reporter.prototype.error=function(msg){var err,state=this._reporterState,inherited=msg instanceof ReporterError;if(err=inherited?msg:new ReporterError(state.path.map(function(elem){return"["+JSON.stringify(elem)+"]"}).join(""),msg.message||msg,msg.stack),!state.options.partial)throw err;return inherited||state.errors.push(err),err},Reporter.prototype.wrapResult=function(result){var state=this._reporterState;return state.options.partial?{result:this.isError(result)?null:result,errors:state.errors}:result},inherits(ReporterError,Error),ReporterError.prototype.rethrow=function(msg){return this.message=msg+" at: "+(this.path||"(shallow)"),Error.captureStackTrace(this,ReporterError),this}},{inherits:164}],76:[function(require,module,exports){var constants=require("../constants");exports.tagClass={0:"universal",1:"application",2:"context",3:"private"},exports.tagClassByName=constants._reverse(exports.tagClass),exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},exports.tagByName=constants._reverse(exports.tag)},{"../constants":77}],77:[function(require,module,exports){var constants=exports;constants._reverse=function(map){var res={};return Object.keys(map).forEach(function(key){(0|key)==key&&(key=0|key);var value=map[key];res[value]=key}),res},constants.der=require("./der")},{"./der":76}],78:[function(require,module){function DERDecoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){base.Node.call(this,"der",parent)}function derDecodeTag(buf,fail){var tag=buf.readUInt8(fail);if(buf.isError(tag))return tag;var cls=der.tagClass[tag>>6],primitive=0===(32&tag);if(31===(31&tag)){var oct=tag;for(tag=0;128===(128&oct);){if(oct=buf.readUInt8(fail),buf.isError(oct))return oct;tag<<=7,tag|=127&oct}}else tag&=31;var tagStr=der.tag[tag];return{cls:cls,primitive:primitive,tag:tag,tagStr:tagStr}}function derDecodeLen(buf,primitive,fail){var len=buf.readUInt8(fail);if(buf.isError(len))return len;if(!primitive&&128===len)return null;if(0===(128&len))return len;var num=127&len;if(num>=4)return buf.error("length octect is too long");len=0;for(var i=0;num>i;i++){len<<=8;var j=buf.readUInt8(fail);if(buf.isError(j))return j;len|=j}return len}var inherits=require("inherits"),asn1=require("../../asn1"),base=asn1.base,bignum=asn1.bignum,der=asn1.constants.der;module.exports=DERDecoder,DERDecoder.prototype.decode=function(data,options){return data instanceof base.DecoderBuffer||(data=new base.DecoderBuffer(data,options)),this.tree._decode(data,options)},inherits(DERNode,base.Node),DERNode.prototype._peekTag=function(buffer,tag){if(buffer.isEmpty())return!1;var state=buffer.save(),decodedTag=derDecodeTag(buffer,'Failed to peek tag: "'+tag+'"');return buffer.isError(decodedTag)?decodedTag:(buffer.restore(state),decodedTag.tag===tag||decodedTag.tagStr===tag)},DERNode.prototype._decodeTag=function(buffer,tag,any){var decodedTag=derDecodeTag(buffer,'Failed to decode tag of "'+tag+'"');if(buffer.isError(decodedTag))return decodedTag;var len=derDecodeLen(buffer,decodedTag.primitive,'Failed to get length of "'+tag+'"');if(buffer.isError(len))return len;if(!any&&decodedTag.tag!==tag&&decodedTag.tagStr!==tag&&decodedTag.tagStr+"of"!==tag)return buffer.error('Failed to match tag: "'+tag+'"');if(decodedTag.primitive||null!==len)return buffer.skip(len,'Failed to match body of: "'+tag+'"');var state=buffer.start(),res=this._skipUntilEnd(buffer,'Failed to skip indefinite length body: "'+this.tag+'"');return buffer.isError(res)?res:buffer.cut(state)},DERNode.prototype._skipUntilEnd=function(buffer,fail){for(;;){var tag=derDecodeTag(buffer,fail);if(buffer.isError(tag))return tag;var len=derDecodeLen(buffer,tag.primitive,fail);if(buffer.isError(len))return len;var res;if(res=tag.primitive||null!==len?buffer.skip(len):this._skipUntilEnd(buffer,fail),buffer.isError(res))return res;if("end"===tag.tagStr)break}},DERNode.prototype._decodeList=function(buffer,tag,decoder){for(var result=[];!buffer.isEmpty();){var possibleEnd=this._peekTag(buffer,"end");if(buffer.isError(possibleEnd))return possibleEnd;var res=decoder.decode(buffer,"der");if(buffer.isError(res)&&possibleEnd)break;result.push(res)}return result},DERNode.prototype._decodeStr=function(buffer,tag){if("octstr"===tag)return buffer.raw();if("bitstr"===tag){var unused=buffer.readUInt8();return buffer.isError(unused)?unused:{unused:unused,data:buffer.raw()}}return"ia5str"===tag?buffer.raw().toString():this.error("Decoding of string type: "+tag+" unsupported")},DERNode.prototype._decodeObjid=function(buffer,values,relative){for(var identifiers=[],ident=0;!buffer.isEmpty();){var subident=buffer.readUInt8();ident<<=7,ident|=127&subident,0===(128&subident)&&(identifiers.push(ident),ident=0)}128&subident&&identifiers.push(ident);var first=identifiers[0]/40|0,second=identifiers[0]%40;return result=relative?identifiers:[first,second].concat(identifiers.slice(1)),values&&(result=values[result.join(" ")]),result},DERNode.prototype._decodeTime=function(buffer,tag){var str=buffer.raw().toString();if("gentime"===tag)var year=0|str.slice(0,4),mon=0|str.slice(4,6),day=0|str.slice(6,8),hour=0|str.slice(8,10),min=0|str.slice(10,12),sec=0|str.slice(12,14);else{if("utctime"!==tag)return this.error("Decoding "+tag+" time is not supported yet");var year=0|str.slice(0,2),mon=0|str.slice(2,4),day=0|str.slice(4,6),hour=0|str.slice(6,8),min=0|str.slice(8,10),sec=0|str.slice(10,12);year=70>year?2e3+year:1900+year}return Date.UTC(year,mon-1,day,hour,min,sec,0)},DERNode.prototype._decodeNull=function(){return null},DERNode.prototype._decodeBool=function(buffer){var res=buffer.readUInt8();return buffer.isError(res)?res:0!==res},DERNode.prototype._decodeInt=function(buffer,values){var res=0,raw=buffer.raw();if(raw.length>3)return new bignum(raw);for(;!buffer.isEmpty();){res<<=8;var i=buffer.readUInt8();if(buffer.isError(i))return i;res|=i}return values&&(res=values[res]||res),res},DERNode.prototype._use=function(entity,obj){return"function"==typeof entity&&(entity=entity(obj)),entity._getDecoder("der").tree}},{"../../asn1":70,inherits:164}],79:[function(require,module,exports){var decoders=exports;decoders.der=require("./der")},{"./der":78}],80:[function(require,module){function DEREncoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){base.Node.call(this,"der",parent)}function two(num){return 10>=num?"0"+num:num}function encodeTag(tag,primitive,cls,reporter){var res;if("seqof"===tag?tag="seq":"setof"===tag&&(tag="set"),der.tagByName.hasOwnProperty(tag))res=der.tagByName[tag];else{if("number"!=typeof tag||(0|tag)!==tag)return reporter.error("Unknown tag: "+tag);res=tag}return res>=31?reporter.error("Multi-octet tag encoding unsupported"):(primitive||(res|=32),res|=der.tagClassByName[cls||"universal"]<<6)}var inherits=require("inherits"),Buffer=require("buffer").Buffer,asn1=require("../../asn1"),base=asn1.base,bignum=asn1.bignum,der=asn1.constants.der;module.exports=DEREncoder,DEREncoder.prototype.encode=function(data,reporter){return this.tree._encode(data,reporter).join()},inherits(DERNode,base.Node),DERNode.prototype._encodeComposite=function(tag,primitive,cls,content){var encodedTag=encodeTag(tag,primitive,cls,this.reporter);if(content.length<128){var header=new Buffer(2);return header[0]=encodedTag,header[1]=content.length,this._createEncoderBuffer([header,content])}for(var lenOctets=1,i=content.length;i>=256;i>>=8)lenOctets++;var header=new Buffer(2+lenOctets);header[0]=encodedTag,header[1]=128|lenOctets;for(var i=1+lenOctets,j=content.length;j>0;i--,j>>=8)header[i]=255&j;return this._createEncoderBuffer([header,content])},DERNode.prototype._encodeStr=function(str,tag){return"octstr"===tag?this._createEncoderBuffer(str):"bitstr"===tag?this._createEncoderBuffer([0|str.unused,str.data]):"ia5str"===tag?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: "+tag+" unsupported")},DERNode.prototype._encodeObjid=function(id,values,relative){if("string"==typeof id){if(!values)return this.reporter.error("string objid given, but no values map found");if(!values.hasOwnProperty(id))return this.reporter.error("objid not found in values map");id=values[id].split(/\s+/g);for(var i=0;i<id.length;i++)id[i]|=0}else Array.isArray(id)&&(id=id.slice());if(!Array.isArray(id))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(id));if(!relative){if(id[1]>=40)return this.reporter.error("Second objid identifier OOB");id.splice(0,2,40*id[0]+id[1])}for(var size=0,i=0;i<id.length;i++){var ident=id[i];for(size++;ident>=128;ident>>=7)size++}for(var objid=new Buffer(size),offset=objid.length-1,i=id.length-1;i>=0;i--){var ident=id[i];for(objid[offset--]=127&ident;(ident>>=7)>0;)objid[offset--]=128|127&ident}return this._createEncoderBuffer(objid)},DERNode.prototype._encodeTime=function(time,tag){var str,date=new Date(time);return"gentime"===tag?str=[date.getFullYear(),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):"utctime"===tag?str=[date.getFullYear()%100,two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+tag+" time is not supported yet"),this._encodeStr(str,"octstr")},DERNode.prototype._encodeNull=function(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function(num,values){
if("string"==typeof num){if(!values)return this.reporter.error("String int or enum given, but no values map");if(!values.hasOwnProperty(num))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(num));num=values[num]}if(null!==bignum&&num instanceof bignum){var numArray=num.toArray();num.sign===!1&&128&numArray[0]&&numArray.unshift(0),num=new Buffer(numArray)}if(Buffer.isBuffer(num)){var size=num.length;0===num.length&&size++;var out=new Buffer(size);return num.copy(out),0===num.length&&(out[0]=0),this._createEncoderBuffer(out)}if(128>num)return this._createEncoderBuffer(num);if(256>num)return this._createEncoderBuffer([0,num]);for(var size=1,i=num;i>=256;i>>=8)size++;for(var out=new Array(size),i=out.length-1;i>=0;i--)out[i]=255&num,num>>=8;return 128&out[0]&&out.unshift(0),this._createEncoderBuffer(new Buffer(out))},DERNode.prototype._encodeBool=function(value){return this._createEncoderBuffer(value?255:0)},DERNode.prototype._use=function(entity,obj){return"function"==typeof entity&&(entity=entity(obj)),entity._getEncoder("der").tree},DERNode.prototype._skipDefault=function(dataBuffer,reporter,parent){var i,state=this._baseState;if(null===state.default)return!1;var data=dataBuffer.join();if(void 0===state.defaultBuffer&&(state.defaultBuffer=this._encodeValue(state.default,reporter,parent).join()),data.length!==state.defaultBuffer.length)return!1;for(i=0;i<data.length;i++)if(data[i]!==state.defaultBuffer[i])return!1;return!0}},{"../../asn1":70,buffer:17,inherits:164}],81:[function(require,module,exports){var encoders=exports;encoders.der=require("./der")},{"./der":80}],82:[function(require,module){function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}module.exports=assert,assert.equal=function(l,r,msg){if(l!=r)throw new Error(msg||"Assertion failed: "+l+" != "+r)}},{}],83:[function(require,module,exports){(function(Buffer){function pbkdf2(password,salt,iterations,keylen,digest,callback){if("function"==typeof digest&&(callback=digest,digest=void 0),"function"!=typeof callback)throw new Error("No callback provided to pbkdf2");var result=pbkdf2Sync(password,salt,iterations,keylen,digest);setTimeout(function(){callback(void 0,result)})}function pbkdf2Sync(password,salt,iterations,keylen,digest){if("number"!=typeof iterations)throw new TypeError("Iterations not a number");if(0>iterations)throw new TypeError("Bad iterations");if("number"!=typeof keylen)throw new TypeError("Key length not a number");if(0>keylen)throw new TypeError("Bad key length");digest=digest||"sha1",Buffer.isBuffer(password)||(password=new Buffer(password)),Buffer.isBuffer(salt)||(salt=new Buffer(salt));var hLen,l=1,DK=new Buffer(keylen),block1=new Buffer(salt.length+4);salt.copy(block1,0,0,salt.length);for(var r,T,i=1;l>=i;i++){block1.writeUInt32BE(i,salt.length);var U=createHmac(digest,password).update(block1).digest();if(!hLen&&(hLen=U.length,T=new Buffer(hLen),l=Math.ceil(keylen/hLen),r=keylen-(l-1)*hLen,keylen>(Math.pow(2,32)-1)*hLen))throw new TypeError("keylen exceeds maximum length");U.copy(T,0,0,hLen);for(var j=1;iterations>j;j++){U=createHmac(digest,password).update(U).digest();for(var k=0;hLen>k;k++)T[k]^=U[k]}var destPos=(i-1)*hLen,len=i===l?r:hLen;T.copy(DK,destPos,0,len)}return DK}var createHmac=require("create-hmac");exports.pbkdf2=pbkdf2,exports.pbkdf2Sync=pbkdf2Sync}).call(this,require("buffer").Buffer)},{buffer:17,"create-hmac":121}],84:[function(require,module){(function(Buffer){function sign(hash,key,hashType,signType){var priv=parseKeys(key);if(priv.curve){if("ecdsa"!==signType)throw new Error("wrong public key type");return ecSign(hash,priv)}if("dsa"===priv.type)return dsaSign(hash,priv,hashType);if("rsa"!==signType)throw new Error("wrong public key type");for(var len=priv.modulus.byteLength(),pad=[0,1];hash.length+pad.length+1<len;)pad.push(255);pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);var out=crt(pad,priv);return out}function ecSign(hash,priv){var curveId=curves[priv.curve.join(".")];if(!curveId)throw new Error("unknown curve "+priv.curve.join("."));var curve=new elliptic.ec(curveId),key=curve.genKeyPair();key._importPrivate(priv.privateKey);var out=key.sign(hash);return new Buffer(out.toDER())}function dsaSign(hash,priv,algo){for(var k,x=priv.params.priv_key,p=priv.params.p,q=priv.params.q,g=(BN.mont(q),priv.params.g),r=new BN(0),H=bits2int(hash,q).mod(q),s=!1,kv=getKey(x,q,hash,algo);s===!1;)k=makeKey(q,kv,algo),r=makeR(g,k,p,q),s=k.invm(q).imul(H.add(x.mul(r))).mod(q),s.cmpn(0)||(s=!1,r=new BN(0));return toDER(r,s)}function toDER(r,s){r=r.toArray(),s=s.toArray(),128&r[0]&&(r=[0].concat(r)),128&s[0]&&(s=[0].concat(s));var total=r.length+s.length+4,res=[48,total,2,r.length];return res=res.concat(r,[2,s.length],s),new Buffer(res)}function getKey(x,q,hash,algo){if(x=new Buffer(x.toArray()),x.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-x.length);zeros.fill(0),x=Buffer.concat([zeros,x])}var hlen=hash.length,hbits=bits2octets(hash,q),v=new Buffer(hlen);v.fill(1);var k=new Buffer(hlen);return k.fill(0),k=createHmac(algo,k).update(v).update(new Buffer([0])).update(x).update(hbits).digest(),v=createHmac(algo,k).update(v).digest(),k=createHmac(algo,k).update(v).update(new Buffer([1])).update(x).update(hbits).digest(),v=createHmac(algo,k).update(v).digest(),{k:k,v:v}}function bits2int(obits,q){var bits=new BN(obits),shift=(obits.length<<3)-q.bitLength();return shift>0&&bits.ishrn(shift),bits}function bits2octets(bits,q){bits=bits2int(bits,q),bits=bits.mod(q);var out=new Buffer(bits.toArray());if(out.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-out.length);zeros.fill(0),out=Buffer.concat([zeros,out])}return out}function makeKey(q,kv,algo){for(var t,k;;){for(t=new Buffer("");8*t.length<q.bitLength();)kv.v=createHmac(algo,kv.k).update(kv.v).digest(),t=Buffer.concat([t,kv.v]);if(k=bits2int(t,q),kv.k=createHmac(algo,kv.k).update(kv.v).update(new Buffer([0])).digest(),kv.v=createHmac(algo,kv.k).update(kv.v).digest(),-1===k.cmp(q))return k}}function makeR(g,k,p,q){return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q)}var parseKeys=require("parse-asn1"),BN=require("bn.js"),elliptic=require("elliptic"),crt=require("browserify-rsa"),createHmac=require("create-hmac"),curves=require("./curves");module.exports=sign,module.exports.getKey=getKey,module.exports.makeKey=makeKey}).call(this,require("buffer").Buffer)},{"./curves":42,"bn.js":43,"browserify-rsa":44,buffer:17,"create-hmac":121,elliptic:45,"parse-asn1":69}],85:[function(require,module){(function(Buffer){"use strict";function verify(sig,hash,key,signType){var pub=parseKeys(key);if("ec"===pub.type){if("ecdsa"!==signType)throw new Error("wrong public key type");return ecVerify(sig,hash,pub)}if("dsa"===pub.type){if("dsa"!==signType)throw new Error("wrong public key type");return dsaVerify(sig,hash,pub)}if("rsa"!==signType)throw new Error("wrong public key type");for(var len=pub.modulus.byteLength(),pad=[1],padNum=0;hash.length+pad.length+2<len;)pad.push(255),padNum++;pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);pad=new Buffer(pad);var red=BN.mont(pub.modulus);sig=new BN(sig).toRed(red),sig=sig.redPow(new BN(pub.publicExponent)),sig=new Buffer(sig.fromRed().toArray());var out=0;for(8>padNum&&(out=1),len=Math.min(sig.length,pad.length),sig.length!==pad.length&&(out=1),i=-1;++i<len;)out|=sig[i]^pad[i];return 0===out}function ecVerify(sig,hash,pub){var curveId=curves[pub.data.algorithm.curve.join(".")];if(!curveId)throw new Error("unknown curve "+pub.data.algorithm.curve.join("."));var curve=new elliptic.ec(curveId),pubkey=pub.data.subjectPrivateKey.data;return curve.verify(hash.toString("hex"),sig.toString("hex"),pubkey.toString("hex"))}function dsaVerify(sig,hash,pub){var p=pub.data.p,q=pub.data.q,g=pub.data.g,y=pub.data.pub_key,unpacked=parseKeys.signature.decode(sig,"der"),s=unpacked.s,r=unpacked.r;checkValue(s,q),checkValue(r,q);var montp=(BN.mont(q),BN.mont(p)),w=s.invm(q),v=g.toRed(montp).redPow(new BN(hash).mul(w).mod(q)).fromRed().mul(y.toRed(montp).redPow(r.mul(w).mod(q)).fromRed()).mod(p).mod(q);return!v.cmp(r)}function checkValue(b,q){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(q)>=q)throw new Error("invalid sig")}var parseKeys=require("parse-asn1"),elliptic=require("elliptic"),curves=require("./curves"),BN=require("bn.js");module.exports=verify}).call(this,require("buffer").Buffer)},{"./curves":42,"bn.js":43,buffer:17,elliptic:45,"parse-asn1":69}],86:[function(require,module){(function(Buffer){function ECDH(curve){this.curveType=aliases[curve],this.curveType||(this.curveType={name:curve}),this.curve=new elliptic.ec(this.curveType.name),this.keys=void 0}function formatReturnValue(bn,enc,len){Array.isArray(bn)||(bn=bn.toArray());var buf=new Buffer(bn);if(len&&buf.length<len){var zeros=new Buffer(len-buf.length);zeros.fill(0),buf=Buffer.concat([zeros,buf])}return enc?buf.toString(enc):buf}var elliptic=require("elliptic"),BN=require("bn.js");module.exports=function(curve){return new ECDH(curve)};var aliases={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32}};aliases.p224=aliases.secp224r1,aliases.p256=aliases.secp256r1=aliases.prime256v1,aliases.p192=aliases.secp192r1=aliases.prime192v1,ECDH.prototype.generateKeys=function(enc,format){return this.keys=this.curve.genKeyPair(),this.getPublicKey(enc,format)},ECDH.prototype.computeSecret=function(other,inenc,enc){inenc=inenc||"utf8",Buffer.isBuffer(other)||(other=new Buffer(other,inenc)),other=new BN(other),other=other.toString(16);var otherPub=this.curve.keyPair(other,"hex").getPublic(),out=otherPub.mul(this.keys.getPrivate()).getX();return formatReturnValue(out,enc,this.curveType.byteLength)},ECDH.prototype.getPublicKey=function(enc,format){var key=this.keys.getPublic("compressed"===format,!0);return"hybrid"===format&&(key[0]=key[key.length-1]%2?7:6),formatReturnValue(key,enc)},ECDH.prototype.getPrivateKey=function(enc){return formatReturnValue(this.keys.getPrivate(),enc)},ECDH.prototype.setPublicKey=function(pub,enc){enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc));var pkey=new BN(pub);return pkey=pkey.toArray(),this.keys._importPublicHex(pkey),this},ECDH.prototype.setPrivateKey=function(priv,enc){enc=enc||"utf8",Buffer.isBuffer(priv)||(priv=new Buffer(priv,enc));var _priv=new BN(priv);return _priv=_priv.toString(16),this.keys._importPrivate(_priv),this}}).call(this,require("buffer").Buffer)},{"bn.js":88,buffer:17,elliptic:89}],87:[function(require,module){var createECDH=require("crypto").createECDH;module.exports=createECDH||require("./browser")},{"./browser":86,crypto:21}],88:[function(require,module,exports){arguments[4][43][0].apply(exports,arguments)},{dup:43}],89:[function(require,module,exports){arguments[4][45][0].apply(exports,arguments)},{"../package.json":108,"./elliptic/curve":92,"./elliptic/curves":95,"./elliptic/ec":96,"./elliptic/hmac-drbg":99,"./elliptic/utils":100,brorand:101,dup:45}],90:[function(require,module,exports){arguments[4][46][0].apply(exports,arguments)},{"../../elliptic":89,"bn.js":88,dup:46}],91:[function(require,module,exports){arguments[4][47][0].apply(exports,arguments)},{"../../elliptic":89,"../curve":92,"bn.js":88,dup:47,inherits:164}],92:[function(require,module,exports){arguments[4][48][0].apply(exports,arguments)},{"./base":90,"./edwards":91,"./mont":93,"./short":94,dup:48}],93:[function(require,module,exports){arguments[4][49][0].apply(exports,arguments)},{"../../elliptic":89,"../curve":92,"bn.js":88,dup:49,inherits:164}],94:[function(require,module,exports){arguments[4][50][0].apply(exports,arguments)},{"../../elliptic":89,"../curve":92,"bn.js":88,dup:50,inherits:164}],95:[function(require,module,exports){arguments[4][51][0].apply(exports,arguments)},{"../elliptic":89,"bn.js":88,dup:51,"hash.js":102}],96:[function(require,module,exports){arguments[4][52][0].apply(exports,arguments)},{"../../elliptic":89,"./key":97,"./signature":98,"bn.js":88,dup:52}],97:[function(require,module,exports){arguments[4][53][0].apply(exports,arguments)},{"../../elliptic":89,"bn.js":88,dup:53}],98:[function(require,module,exports){arguments[4][54][0].apply(exports,arguments)},{"../../elliptic":89,"bn.js":88,dup:54}],99:[function(require,module,exports){arguments[4][55][0].apply(exports,arguments)},{"../elliptic":89,dup:55,"hash.js":102}],100:[function(require,module,exports){arguments[4][56][0].apply(exports,arguments)},{"bn.js":88,dup:56}],101:[function(require,module,exports){arguments[4][57][0].apply(exports,arguments)},{dup:57}],102:[function(require,module,exports){arguments[4][58][0].apply(exports,arguments)},{"./hash/common":103,"./hash/hmac":104,"./hash/ripemd":105,"./hash/sha":106,"./hash/utils":107,dup:58}],103:[function(require,module,exports){arguments[4][59][0].apply(exports,arguments)},{"../hash":102,dup:59}],104:[function(require,module,exports){arguments[4][60][0].apply(exports,arguments)},{"../hash":102,dup:60}],105:[function(require,module,exports){arguments[4][61][0].apply(exports,arguments)},{"../hash":102,dup:61}],106:[function(require,module,exports){arguments[4][62][0].apply(exports,arguments)},{"../hash":102,dup:62}],107:[function(require,module,exports){arguments[4][63][0].apply(exports,arguments)},{dup:63,inherits:164}],108:[function(require,module,exports){arguments[4][64][0].apply(exports,arguments)},{dup:64}],109:[function(require,module){(function(Buffer){"use strict";function HashNoConstructor(hash){Transform.call(this),this._hash=hash,this.buffers=[]}function Hash(hash){Transform.call(this),this._hash=hash}var inherits=require("inherits"),md5=require("./md5"),rmd160=require("ripemd160"),sha=require("sha.js"),Transform=require("stream").Transform;inherits(HashNoConstructor,Transform),HashNoConstructor.prototype._transform=function(data,_,next){this.buffers.push(data),next()},HashNoConstructor.prototype._flush=function(next){this.push(this.digest()),next()},HashNoConstructor.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this.buffers.push(data),this},HashNoConstructor.prototype.digest=function(enc){var buf=Buffer.concat(this.buffers),r=this._hash(buf);return this.buffers=null,enc?r.toString(enc):r},inherits(Hash,Transform),Hash.prototype._transform=function(data,enc,next){enc&&(data=new Buffer(data,enc)),this._hash.update(data),next()},Hash.prototype._flush=function(next){this.push(this._hash.digest()),this._hash=null,next()},Hash.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this._hash.update(data),this},Hash.prototype.digest=function(enc){var outData=this._hash.digest();return enc?outData.toString(enc):outData},module.exports=function(alg){return"md5"===alg?new HashNoConstructor(md5):"rmd160"===alg?new HashNoConstructor(rmd160):new Hash(sha(alg))}}).call(this,require("buffer").Buffer)},{"./md5":111,buffer:17,inherits:164,ripemd160:112,"sha.js":114,stream:183}],110:[function(require,module,exports){(function(Buffer){"use strict";function toArray(buf,bigEndian){if(buf.length%intSize!==0){var len=buf.length+(intSize-buf.length%intSize);buf=Buffer.concat([buf,zeroBuffer],len)}for(var arr=[],fn=bigEndian?buf.readInt32BE:buf.readInt32LE,i=0;i<buf.length;i+=intSize)arr.push(fn.call(buf,i));return arr}function toBuffer(arr,size,bigEndian){for(var buf=new Buffer(size),fn=bigEndian?buf.writeInt32BE:buf.writeInt32LE,i=0;i<arr.length;i++)fn.call(buf,arr[i],4*i,!0);return buf}function hash(buf,fn,hashSize,bigEndian){Buffer.isBuffer(buf)||(buf=new Buffer(buf));var arr=fn(toArray(buf,bigEndian),buf.length*chrsz);return toBuffer(arr,hashSize,bigEndian)}var intSize=4,zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;exports.hash=hash}).call(this,require("buffer").Buffer)},{buffer:17}],111:[function(require,module){"use strict";function core_md5(x,len){x[len>>5]|=128<<len%32,x[(len+64>>>9<<4)+14]=len;for(var a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16){var olda=a,oldb=b,oldc=c,oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936),d=md5_ff(d,a,b,c,x[i+1],12,-389564586),c=md5_ff(c,d,a,b,x[i+2],17,606105819),b=md5_ff(b,c,d,a,x[i+3],22,-1044525330),a=md5_ff(a,b,c,d,x[i+4],7,-176418897),d=md5_ff(d,a,b,c,x[i+5],12,1200080426),c=md5_ff(c,d,a,b,x[i+6],17,-1473231341),b=md5_ff(b,c,d,a,x[i+7],22,-45705983),a=md5_ff(a,b,c,d,x[i+8],7,1770035416),d=md5_ff(d,a,b,c,x[i+9],12,-1958414417),c=md5_ff(c,d,a,b,x[i+10],17,-42063),b=md5_ff(b,c,d,a,x[i+11],22,-1990404162),a=md5_ff(a,b,c,d,x[i+12],7,1804603682),d=md5_ff(d,a,b,c,x[i+13],12,-40341101),c=md5_ff(c,d,a,b,x[i+14],17,-1502002290),b=md5_ff(b,c,d,a,x[i+15],22,1236535329),a=md5_gg(a,b,c,d,x[i+1],5,-165796510),d=md5_gg(d,a,b,c,x[i+6],9,-1069501632),c=md5_gg(c,d,a,b,x[i+11],14,643717713),b=md5_gg(b,c,d,a,x[i+0],20,-373897302),a=md5_gg(a,b,c,d,x[i+5],5,-701558691),d=md5_gg(d,a,b,c,x[i+10],9,38016083),c=md5_gg(c,d,a,b,x[i+15],14,-660478335),b=md5_gg(b,c,d,a,x[i+4],20,-405537848),a=md5_gg(a,b,c,d,x[i+9],5,568446438),d=md5_gg(d,a,b,c,x[i+14],9,-1019803690),c=md5_gg(c,d,a,b,x[i+3],14,-187363961),b=md5_gg(b,c,d,a,x[i+8],20,1163531501),a=md5_gg(a,b,c,d,x[i+13],5,-1444681467),d=md5_gg(d,a,b,c,x[i+2],9,-51403784),c=md5_gg(c,d,a,b,x[i+7],14,1735328473),b=md5_gg(b,c,d,a,x[i+12],20,-1926607734),a=md5_hh(a,b,c,d,x[i+5],4,-378558),d=md5_hh(d,a,b,c,x[i+8],11,-2022574463),c=md5_hh(c,d,a,b,x[i+11],16,1839030562),b=md5_hh(b,c,d,a,x[i+14],23,-35309556),a=md5_hh(a,b,c,d,x[i+1],4,-1530992060),d=md5_hh(d,a,b,c,x[i+4],11,1272893353),c=md5_hh(c,d,a,b,x[i+7],16,-155497632),b=md5_hh(b,c,d,a,x[i+10],23,-1094730640),a=md5_hh(a,b,c,d,x[i+13],4,681279174),d=md5_hh(d,a,b,c,x[i+0],11,-358537222),c=md5_hh(c,d,a,b,x[i+3],16,-722521979),b=md5_hh(b,c,d,a,x[i+6],23,76029189),a=md5_hh(a,b,c,d,x[i+9],4,-640364487),d=md5_hh(d,a,b,c,x[i+12],11,-421815835),c=md5_hh(c,d,a,b,x[i+15],16,530742520),b=md5_hh(b,c,d,a,x[i+2],23,-995338651),a=md5_ii(a,b,c,d,x[i+0],6,-198630844),d=md5_ii(d,a,b,c,x[i+7],10,1126891415),c=md5_ii(c,d,a,b,x[i+14],15,-1416354905),b=md5_ii(b,c,d,a,x[i+5],21,-57434055),a=md5_ii(a,b,c,d,x[i+12],6,1700485571),d=md5_ii(d,a,b,c,x[i+3],10,-1894986606),c=md5_ii(c,d,a,b,x[i+10],15,-1051523),b=md5_ii(b,c,d,a,x[i+1],21,-2054922799),a=md5_ii(a,b,c,d,x[i+8],6,1873313359),d=md5_ii(d,a,b,c,x[i+15],10,-30611744),c=md5_ii(c,d,a,b,x[i+6],15,-1560198380),b=md5_ii(b,c,d,a,x[i+13],21,1309151649),a=md5_ii(a,b,c,d,x[i+4],6,-145523070),d=md5_ii(d,a,b,c,x[i+11],10,-1120210379),c=md5_ii(c,d,a,b,x[i+2],15,718787259),b=md5_ii(b,c,d,a,x[i+9],21,-343485551),a=safe_add(a,olda),b=safe_add(b,oldb),c=safe_add(c,oldc),d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function safe_add(x,y){var lsw=(65535&x)+(65535&y),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|65535&lsw}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}var helpers=require("./helpers");module.exports=function(buf){return helpers.hash(buf,core_md5,16)}},{"./helpers":110}],112:[function(require,module){(function(Buffer){function bytesToWords(bytes){for(var words=[],i=0,b=0;i<bytes.length;i++,b+=8)words[b>>>5]|=bytes[i]<<24-b%32;return words}function wordsToBytes(words){for(var bytes=[],b=0;b<32*words.length;b+=8)bytes.push(words[b>>>5]>>>24-b%32&255);return bytes}function processBlock(H,M,offset){for(var i=0;16>i;i++){var offset_i=offset+i,M_offset_i=M[offset_i];M[offset_i]=16711935&(M_offset_i<<8|M_offset_i>>>24)|4278255360&(M_offset_i<<24|M_offset_i>>>8)}var al,bl,cl,dl,el,ar,br,cr,dr,er;ar=al=H[0],br=bl=H[1],cr=cl=H[2],dr=dl=H[3],er=el=H[4];for(var t,i=0;80>i;i+=1)t=al+M[offset+zl[i]]|0,t+=16>i?f1(bl,cl,dl)+hl[0]:32>i?f2(bl,cl,dl)+hl[1]:48>i?f3(bl,cl,dl)+hl[2]:64>i?f4(bl,cl,dl)+hl[3]:f5(bl,cl,dl)+hl[4],t=0|t,t=rotl(t,sl[i]),t=t+el|0,al=el,el=dl,dl=rotl(cl,10),cl=bl,bl=t,t=ar+M[offset+zr[i]]|0,t+=16>i?f5(br,cr,dr)+hr[0]:32>i?f4(br,cr,dr)+hr[1]:48>i?f3(br,cr,dr)+hr[2]:64>i?f2(br,cr,dr)+hr[3]:f1(br,cr,dr)+hr[4],t=0|t,t=rotl(t,sr[i]),t=t+er|0,ar=er,er=dr,dr=rotl(cr,10),cr=br,br=t;t=H[1]+cl+dr|0,H[1]=H[2]+dl+er|0,H[2]=H[3]+el+ar|0,H[3]=H[4]+al+br|0,H[4]=H[0]+bl+cr|0,H[0]=t}function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}function ripemd160(message){var H=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof message&&(message=new Buffer(message,"utf8"));var m=bytesToWords(message),nBitsLeft=8*message.length,nBitsTotal=8*message.length;m[nBitsLeft>>>5]|=128<<24-nBitsLeft%32,m[(nBitsLeft+64>>>9<<4)+14]=16711935&(nBitsTotal<<8|nBitsTotal>>>24)|4278255360&(nBitsTotal<<24|nBitsTotal>>>8);for(var i=0;i<m.length;i+=16)processBlock(H,m,i);for(var i=0;5>i;i++){var H_i=H[i];H[i]=16711935&(H_i<<8|H_i>>>24)|4278255360&(H_i<<24|H_i>>>8)}var digestbytes=wordsToBytes(H);return new Buffer(digestbytes)}var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];module.exports=ripemd160}).call(this,require("buffer").Buffer)},{buffer:17}],113:[function(require,module){(function(Buffer){function Hash(blockSize,finalSize){this._block=new Buffer(blockSize),this._finalSize=finalSize,this._blockSize=blockSize,this._len=0,this._s=0}Hash.prototype.update=function(data,enc){"string"==typeof data&&(enc=enc||"utf8",data=new Buffer(data,enc));for(var l=this._len+=data.length,s=this._s||0,f=0,buffer=this._block;l>s;){for(var t=Math.min(data.length,f+this._blockSize-s%this._blockSize),ch=t-f,i=0;ch>i;i++)buffer[s%this._blockSize+i]=data[i+f];s+=ch,f+=ch,s%this._blockSize===0&&this._update(buffer)}return this._s=s,this},Hash.prototype.digest=function(enc){var l=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),l%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(l,this._blockSize-4);var hash=this._update(this._block)||this._hash();return enc?hash.toString(enc):hash},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=Hash}).call(this,require("buffer").Buffer)},{buffer:17}],114:[function(require,module,exports){var exports=module.exports=function(alg){var Alg=exports[alg.toLowerCase()];if(!Alg)throw new Error(alg+" is not supported (we accept pull requests)");return new Alg};exports.sha=require("./sha"),exports.sha1=require("./sha1"),exports.sha224=require("./sha224"),exports.sha256=require("./sha256"),exports.sha384=require("./sha384"),exports.sha512=require("./sha512")},{"./sha":115,"./sha1":116,"./sha224":117,"./sha256":118,"./sha384":119,"./sha512":120}],115:[function(require,module){(function(Buffer){function Sha(){this.init(),this._w=W,Hash.call(this,64,56)}function rol(num,cnt){return num<<cnt|num>>>32-cnt}var inherits=require("inherits"),Hash=require("./hash"),W=new Array(80);inherits(Sha,Hash),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(M){function calcW(){return W[j-3]^W[j-8]^W[j-14]^W[j-16]}function loop(w,f){W[j]=w;var t=rol(a,5)+f+e+w+k;e=d,d=c,c=rol(b,30),b=a,a=t,j++}var k,W=this._w,a=this._a,b=this._b,c=this._c,d=this._d,e=this._e,j=0;for(k=1518500249;16>j;)loop(M.readInt32BE(4*j),b&c|~b&d);for(;20>j;)loop(calcW(),b&c|~b&d);for(k=1859775393;40>j;)loop(calcW(),b^c^d);for(k=-1894007588;60>j;)loop(calcW(),b&c|b&d|c&d);for(k=-899497514;80>j;)loop(calcW(),b^c^d);this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha.prototype._hash=function(){var H=new Buffer(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha}).call(this,require("buffer").Buffer)},{"./hash":113,buffer:17,inherits:164}],116:[function(require,module){(function(Buffer){function Sha1(){this.init(),this._w=W,Hash.call(this,64,56)}function rol(num,cnt){return num<<cnt|num>>>32-cnt}var inherits=require("inherits"),Hash=require("./hash"),W=new Array(80);inherits(Sha1,Hash),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(M){function calcW(){return rol(W[j-3]^W[j-8]^W[j-14]^W[j-16],1)}function loop(w,f){W[j]=w;var t=rol(a,5)+f+e+w+k;e=d,d=c,c=rol(b,30),b=a,a=t,j++}var k,W=this._w,a=this._a,b=this._b,c=this._c,d=this._d,e=this._e,j=0;for(k=1518500249;16>j;)loop(M.readInt32BE(4*j),b&c|~b&d);for(;20>j;)loop(calcW(),b&c|~b&d);for(k=1859775393;40>j;)loop(calcW(),b^c^d);for(k=-1894007588;60>j;)loop(calcW(),b&c|b&d|c&d);for(k=-899497514;80>j;)loop(calcW(),b^c^d);this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha1.prototype._hash=function(){var H=new Buffer(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha1}).call(this,require("buffer").Buffer)},{"./hash":113,buffer:17,inherits:164}],117:[function(require,module){(function(Buffer){function Sha224(){this.init(),this._w=W,Hash.call(this,64,56)}var inherits=require("inherits"),SHA256=require("./sha256"),Hash=require("./hash"),W=new Array(64);inherits(Sha224,SHA256),Sha224.prototype.init=function(){return this._a=-1056596264,this._b=914150663,this._c=812702999,this._d=-150054599,this._e=-4191439,this._f=1750603025,this._g=1694076839,this._h=-1090891868,this},Sha224.prototype._hash=function(){var H=new Buffer(28);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H},module.exports=Sha224}).call(this,require("buffer").Buffer)},{"./hash":113,"./sha256":118,buffer:17,inherits:164}],118:[function(require,module){(function(Buffer){function Sha256(){this.init(),this._w=W,Hash.call(this,64,56)}function S(X,n){return X>>>n|X<<32-n}function R(X,n){return X>>>n}function Ch(x,y,z){return x&y^~x&z}function Maj(x,y,z){return x&y^x&z^y&z}function Sigma0256(x){return S(x,2)^S(x,13)^S(x,22)}function Sigma1256(x){return S(x,6)^S(x,11)^S(x,25)}function Gamma0256(x){return S(x,7)^S(x,18)^R(x,3)}function Gamma1256(x){return S(x,17)^S(x,19)^R(x,10)}var inherits=require("inherits"),Hash=require("./hash"),K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);inherits(Sha256,Hash),Sha256.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(M){function calcW(){return Gamma1256(W[j-2])+W[j-7]+Gamma0256(W[j-15])+W[j-16]}function loop(w){W[j]=w;var T1=h+Sigma1256(e)+Ch(e,f,g)+K[j]+w,T2=Sigma0256(a)+Maj(a,b,c);h=g,g=f,f=e,e=d+T1,d=c,c=b,b=a,a=T1+T2,j++}for(var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,g=0|this._g,h=0|this._h,j=0;16>j;)loop(M.readInt32BE(4*j));for(;64>j;)loop(calcW());this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0,this._f=f+this._f|0,this._g=g+this._g|0,this._h=h+this._h|0},Sha256.prototype._hash=function(){var H=new Buffer(32);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H.writeInt32BE(this._h,28),H},module.exports=Sha256}).call(this,require("buffer").Buffer)},{"./hash":113,buffer:17,inherits:164}],119:[function(require,module){(function(Buffer){function Sha384(){this.init(),this._w=W,Hash.call(this,128,112)}var inherits=require("inherits"),SHA512=require("./sha512"),Hash=require("./hash"),W=new Array(160);inherits(Sha384,SHA512),Sha384.prototype.init=function(){return this._a=-876896931,this._b=1654270250,this._c=-1856437926,this._d=355462360,this._e=1731405415,this._f=-1900787065,this._g=-619958771,this._h=1203062813,this._al=-1056596264,this._bl=914150663,this._cl=812702999,this._dl=-150054599,this._el=-4191439,this._fl=1750603025,this._gl=1694076839,this._hl=-1090891868,this},Sha384.prototype._hash=function(){function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}var H=new Buffer(48);return writeInt64BE(this._a,this._al,0),writeInt64BE(this._b,this._bl,8),writeInt64BE(this._c,this._cl,16),writeInt64BE(this._d,this._dl,24),writeInt64BE(this._e,this._el,32),writeInt64BE(this._f,this._fl,40),H},module.exports=Sha384}).call(this,require("buffer").Buffer)},{"./hash":113,"./sha512":120,buffer:17,inherits:164}],120:[function(require,module){(function(Buffer){function Sha512(){this.init(),this._w=W,Hash.call(this,128,112)}function S(X,Xl,n){return X>>>n|Xl<<32-n}function Ch(x,y,z){return x&y^~x&z}function Maj(x,y,z){return x&y^x&z^y&z}var inherits=require("inherits"),Hash=require("./hash"),K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=new Array(160);

inherits(Sha512,Hash),Sha512.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this},Sha512.prototype._update=function(M){function calcW(){var x=W[j-30],xl=W[j-30+1],gamma0=S(x,xl,1)^S(x,xl,8)^x>>>7,gamma0l=S(xl,x,1)^S(xl,x,8)^S(xl,x,7);x=W[j-4],xl=W[j-4+1];var gamma1=S(x,xl,19)^S(xl,x,29)^x>>>6,gamma1l=S(xl,x,19)^S(x,xl,29)^S(xl,x,6),Wi7=W[j-14],Wi7l=W[j-14+1],Wi16=W[j-32],Wi16l=W[j-32+1];Wil=gamma0l+Wi7l,Wi=gamma0+Wi7+(gamma0l>>>0>Wil>>>0?1:0),Wil+=gamma1l,Wi=Wi+gamma1+(gamma1l>>>0>Wil>>>0?1:0),Wil+=Wi16l,Wi=Wi+Wi16+(Wi16l>>>0>Wil>>>0?1:0)}function loop(){W[j]=Wi,W[j+1]=Wil;var maj=Maj(a,b,c),majl=Maj(al,bl,cl),sigma0h=S(a,al,28)^S(al,a,2)^S(al,a,7),sigma0l=S(al,a,28)^S(a,al,2)^S(a,al,7),sigma1h=S(e,el,14)^S(e,el,18)^S(el,e,9),sigma1l=S(el,e,14)^S(el,e,18)^S(e,el,9),Ki=K[j],Kil=K[j+1],ch=Ch(e,f,g),chl=Ch(el,fl,gl),t1l=hl+sigma1l,t1=h+sigma1h+(hl>>>0>t1l>>>0?1:0);t1l+=chl,t1=t1+ch+(chl>>>0>t1l>>>0?1:0),t1l+=Kil,t1=t1+Ki+(Kil>>>0>t1l>>>0?1:0),t1l+=Wil,t1=t1+Wi+(Wil>>>0>t1l>>>0?1:0);var t2l=sigma0l+majl,t2=sigma0h+maj+(sigma0l>>>0>t2l>>>0?1:0);h=g,hl=gl,g=f,gl=fl,f=e,fl=el,el=dl+t1l|0,e=d+t1+(dl>>>0>el>>>0?1:0)|0,d=c,dl=cl,c=b,cl=bl,b=a,bl=al,al=t1l+t2l|0,a=t1+t2+(t1l>>>0>al>>>0?1:0)|0,i++,j+=2}for(var Wi,Wil,W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,g=0|this._g,h=0|this._h,al=0|this._al,bl=0|this._bl,cl=0|this._cl,dl=0|this._dl,el=0|this._el,fl=0|this._fl,gl=0|this._gl,hl=0|this._hl,i=0,j=0;16>i;)Wi=M.readInt32BE(4*j),Wil=M.readInt32BE(4*j+4),loop();for(;80>i;)calcW(),loop();this._al=this._al+al|0,this._bl=this._bl+bl|0,this._cl=this._cl+cl|0,this._dl=this._dl+dl|0,this._el=this._el+el|0,this._fl=this._fl+fl|0,this._gl=this._gl+gl|0,this._hl=this._hl+hl|0,this._a=this._a+a+(this._al>>>0<al>>>0?1:0)|0,this._b=this._b+b+(this._bl>>>0<bl>>>0?1:0)|0,this._c=this._c+c+(this._cl>>>0<cl>>>0?1:0)|0,this._d=this._d+d+(this._dl>>>0<dl>>>0?1:0)|0,this._e=this._e+e+(this._el>>>0<el>>>0?1:0)|0,this._f=this._f+f+(this._fl>>>0<fl>>>0?1:0)|0,this._g=this._g+g+(this._gl>>>0<gl>>>0?1:0)|0,this._h=this._h+h+(this._hl>>>0<hl>>>0?1:0)|0},Sha512.prototype._hash=function(){function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}var H=new Buffer(64);return writeInt64BE(this._a,this._al,0),writeInt64BE(this._b,this._bl,8),writeInt64BE(this._c,this._cl,16),writeInt64BE(this._d,this._dl,24),writeInt64BE(this._e,this._el,32),writeInt64BE(this._f,this._fl,40),writeInt64BE(this._g,this._gl,48),writeInt64BE(this._h,this._hl,56),H},module.exports=Sha512}).call(this,require("buffer").Buffer)},{"./hash":113,buffer:17,inherits:164}],121:[function(require,module){(function(Buffer){"use strict";function Hmac(alg,key){Transform.call(this),"string"==typeof key&&(key=new Buffer(key));var blocksize="sha512"===alg||"sha384"===alg?128:64;this._alg=alg,this._key=key,key.length>blocksize?key=createHash(alg).update(key).digest():key.length<blocksize&&(key=Buffer.concat([key,ZEROS],blocksize));for(var ipad=this._ipad=new Buffer(blocksize),opad=this._opad=new Buffer(blocksize),i=0;blocksize>i;i++)ipad[i]=54^key[i],opad[i]=92^key[i];this._hash=createHash(alg).update(ipad)}var createHash=require("create-hash/browser"),inherits=require("inherits"),Transform=require("stream").Transform,ZEROS=new Buffer(128);ZEROS.fill(0),inherits(Hmac,Transform),Hmac.prototype.update=function(data,enc){return this._hash.update(data,enc),this},Hmac.prototype._transform=function(data,_,next){this._hash.update(data),next()},Hmac.prototype._flush=function(next){this.push(this.digest()),next()},Hmac.prototype.digest=function(enc){var h=this._hash.digest();return createHash(this._alg).update(this._opad).update(h).digest(enc)},module.exports=function(alg,key){return new Hmac(alg,key)}}).call(this,require("buffer").Buffer)},{buffer:17,"create-hash/browser":109,inherits:164,stream:183}],122:[function(require,module,exports){(function(Buffer){function getDiffieHellman(mod){var prime=new Buffer(primes[mod].prime,"hex"),gen=new Buffer(primes[mod].gen,"hex");return new DH(prime,gen)}function createDiffieHellman(prime,enc,generator,genc){return(Buffer.isBuffer(enc)||"string"==typeof enc&&-1===["hex","binary","base64"].indexOf(enc))&&(genc=generator,generator=enc,enc=void 0),enc=enc||"binary",genc=genc||"binary",generator=generator||new Buffer([2]),Buffer.isBuffer(generator)||(generator=new Buffer(generator,genc)),"number"==typeof prime?new DH(generatePrime(prime,generator),generator,!0):(Buffer.isBuffer(prime)||(prime=new Buffer(prime,enc)),new DH(prime,generator,!0))}var generatePrime=require("./lib/generatePrime"),primes=require("./lib/primes"),DH=require("./lib/dh");exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=getDiffieHellman,exports.createDiffieHellman=exports.DiffieHellman=createDiffieHellman}).call(this,require("buffer").Buffer)},{"./lib/dh":123,"./lib/generatePrime":124,"./lib/primes":125,buffer:17}],123:[function(require,module){(function(Buffer){function setPublicKey(pub,enc){return enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc)),this._pub=new BN(pub),this}function setPrivateKey(priv,enc){return enc=enc||"utf8",Buffer.isBuffer(priv)||(priv=new Buffer(priv,enc)),this._priv=new BN(priv),this}function checkPrime(prime,generator){var gen=generator.toString("hex"),hex=[gen,prime.toString(16)].join("_");if(hex in primeCache)return primeCache[hex];var error=0;if(prime.isEven()||!primes.simpleSieve||!primes.fermatTest(prime)||!millerRabin.test(prime))return error+=1,error+="02"===gen||"05"===gen?8:4,primeCache[hex]=error,error;millerRabin.test(prime.shrn(1))||(error+=2);var rem;switch(gen){case"02":prime.mod(TWENTYFOUR).cmp(ELEVEN)&&(error+=8);break;case"05":rem=prime.mod(TEN),rem.cmp(THREE)&&rem.cmp(SEVEN)&&(error+=8);break;default:error+=4}return primeCache[hex]=error,error}function defineError(self,error){try{Object.defineProperty(self,"verifyError",{enumerable:!0,value:error,writable:!1})}catch(e){self.verifyError=error}}function DH(prime,generator,malleable){this.setGenerator(generator),this.__prime=new BN(prime),this._prime=BN.mont(this.__prime),this._primeLen=prime.length,this._pub=void 0,this._priv=void 0,malleable?(this.setPublicKey=setPublicKey,this.setPrivateKey=setPrivateKey,defineError(this,checkPrime(this.__prime,generator))):defineError(this,8)}function formatReturnValue(bn,enc){var buf=new Buffer(bn.toArray());return enc?buf.toString(enc):buf}var BN=require("bn.js"),MillerRabin=require("miller-rabin"),millerRabin=new MillerRabin,TWENTYFOUR=new BN(24),ELEVEN=new BN(11),TEN=new BN(10),THREE=new BN(3),SEVEN=new BN(7),primes=require("./generatePrime"),randomBytes=require("randombytes");module.exports=DH;var primeCache={};DH.prototype.generateKeys=function(){return this._priv||(this._priv=new BN(randomBytes(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},DH.prototype.computeSecret=function(other){other=new BN(other),other=other.toRed(this._prime);var secret=other.redPow(this._priv).fromRed(),out=new Buffer(secret.toArray()),prime=this.getPrime();if(out.length<prime.length){var front=new Buffer(prime.length-out.length);front.fill(0),out=Buffer.concat([front,out])}return out},DH.prototype.getPublicKey=function(enc){return formatReturnValue(this._pub,enc)},DH.prototype.getPrivateKey=function(enc){return formatReturnValue(this._priv,enc)},DH.prototype.getPrime=function(enc){return formatReturnValue(this.__prime,enc)},DH.prototype.getGenerator=function(enc){return formatReturnValue(this._gen,enc)},DH.prototype.setGenerator=function(gen,enc){return enc=enc||"utf8",Buffer.isBuffer(gen)||(gen=new Buffer(gen,enc)),this._gen=new BN(gen),this}}).call(this,require("buffer").Buffer)},{"./generatePrime":124,"bn.js":126,buffer:17,"miller-rabin":127,randombytes:157}],124:[function(require,module){function _getPrimes(){if(null!==primes)return primes;var limit=1048576,res=[];res[0]=2;for(var i=1,k=3;limit>k;k+=2){for(var sqrt=Math.ceil(Math.sqrt(k)),j=0;i>j&&res[j]<=sqrt&&k%res[j]!==0;j++);i!==j&&res[j]<=sqrt||(res[i++]=k)}return primes=res,res}function simpleSieve(p){for(var primes=_getPrimes(),i=0;i<primes.length;i++)if(0===p.modn(primes[i]))return 0===p.cmpn(primes[i])?!0:!1;return!0}function fermatTest(p){var red=BN.mont(p);return 0===TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1)}function findPrime(bits,gen){function generateRandom(bits){runs=-1;for(var out=new BN(randomBytes(Math.ceil(bits/8)));out.bitLength()>bits;)out.ishrn(1);if(out.isEven()&&out.iadd(ONE),out.testn(1)||out.iadd(TWO),gen.cmp(TWO))if(gen.cmp(FIVE))comp={major:[FOUR],minor:[TWO]};else{for(rem=out.mod(TEN);rem.cmp(THREE);)out.iadd(FOUR),rem=out.mod(TEN);comp={major:[FOUR,SIXTEEN],minor:[TWO,EIGHT]}}else{for(;out.mod(TWENTYFOUR).cmp(ELEVEN);)out.iadd(FOUR);comp={major:[TWENTYFOUR],minor:[TWELVE]}}return out}if(16>bits)return new BN(2===gen||5===gen?[140,123]:[140,39]);gen=new BN(gen);for(var runs,comp,num=generateRandom(bits),n2=num.shrn(1);;){for(;num.bitLength()>bits;)num=generateRandom(bits),n2=num.shrn(1);if(runs++,simpleSieve(n2)&&simpleSieve(num)&&fermatTest(n2)&&fermatTest(num)&&millerRabin.test(n2)&&millerRabin.test(num))return num;num.iadd(comp.major[runs%comp.major.length]),n2.iadd(comp.minor[runs%comp.minor.length])}}var randomBytes=require("randombytes");module.exports=findPrime,findPrime.simpleSieve=simpleSieve,findPrime.fermatTest=fermatTest;var BN=require("bn.js"),TWENTYFOUR=new BN(24),MillerRabin=require("miller-rabin"),millerRabin=new MillerRabin,ONE=new BN(1),TWO=new BN(2),FIVE=new BN(5),SIXTEEN=new BN(16),EIGHT=new BN(8),TEN=new BN(10),THREE=new BN(3),ELEVEN=(new BN(7),new BN(11)),FOUR=new BN(4),TWELVE=new BN(12),primes=null},{"bn.js":126,"miller-rabin":127,randombytes:157}],125:[function(require,module){module.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],126:[function(require,module,exports){arguments[4][43][0].apply(exports,arguments)},{dup:43}],127:[function(require,module){function MillerRabin(rand){this.rand=rand||new brorand.Rand}var bn=require("bn.js"),brorand=require("brorand");module.exports=MillerRabin,MillerRabin.create=function(rand){return new MillerRabin(rand)},MillerRabin.prototype._rand=function(n){var len=n.bitLength(),buf=this.rand.generate(Math.ceil(len/8));buf[0]|=3;var mask=7&len;return 0!==mask&&(buf[buf.length-1]>>=7-mask),new bn(buf)},MillerRabin.prototype.test=function(n,k,cb){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k||(k=Math.max(1,len/48|0));for(var n1=n.subn(1),n2=n1.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red),prime=!0;k>0;k--){var a=this._rand(n2);cb&&cb(a);var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;s>i;i++){if(x=x.redSqr(),0===x.cmp(rone))return!1;if(0===x.cmp(rn1))break}if(i===s)return!1}}return prime},MillerRabin.prototype.getDivisor=function(n,k){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k||(k=Math.max(1,len/48|0));for(var n1=n.subn(1),n2=n1.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red),prime=!0;k>0;k--){var a=this._rand(n2),g=n.gcd(a);if(0!==g.cmpn(1))return g;var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;s>i;i++){if(x=x.redSqr(),0===x.cmp(rone))return x.fromRed().subn(1).gcd(n);if(0===x.cmp(rn1))break}if(i===s)return x=x.redSqr(),x.fromRed().subn(1).gcd(n)}}return prime}},{"bn.js":126,brorand:128}],128:[function(require,module,exports){arguments[4][57][0].apply(exports,arguments)},{dup:57}],129:[function(require,module,exports){(function(Buffer){function pbkdf2(password,salt,iterations,keylen,digest,callback){if("function"==typeof digest&&(callback=digest,digest=void 0),"function"!=typeof callback)throw new Error("No callback provided to pbkdf2");var result=pbkdf2Sync(password,salt,iterations,keylen,digest);setTimeout(function(){callback(void 0,result)})}function pbkdf2Sync(password,salt,iterations,keylen,digest){if("number"!=typeof iterations)throw new TypeError("Iterations not a number");if(0>iterations)throw new TypeError("Bad iterations");if("number"!=typeof keylen)throw new TypeError("Key length not a number");if(0>keylen||keylen>MAX_ALLOC)throw new TypeError("Bad key length");digest=digest||"sha1",Buffer.isBuffer(password)||(password=new Buffer(password,"binary")),Buffer.isBuffer(salt)||(salt=new Buffer(salt,"binary"));var hLen,l=1,DK=new Buffer(keylen),block1=new Buffer(salt.length+4);salt.copy(block1,0,0,salt.length);for(var r,T,i=1;l>=i;i++){block1.writeUInt32BE(i,salt.length);var U=createHmac(digest,password).update(block1).digest();hLen||(hLen=U.length,T=new Buffer(hLen),l=Math.ceil(keylen/hLen),r=keylen-(l-1)*hLen),U.copy(T,0,0,hLen);for(var j=1;iterations>j;j++){U=createHmac(digest,password).update(U).digest();for(var k=0;hLen>k;k++)T[k]^=U[k]}var destPos=(i-1)*hLen,len=i===l?r:hLen;T.copy(DK,destPos,0,len)}return DK}var createHmac=require("create-hmac"),MAX_ALLOC=Math.pow(2,30)-1;exports.pbkdf2=pbkdf2,exports.pbkdf2Sync=pbkdf2Sync}).call(this,require("buffer").Buffer)},{buffer:17,"create-hmac":121}],130:[function(require,module,exports){exports.publicEncrypt=require("./publicEncrypt"),exports.privateDecrypt=require("./privateDecrypt"),exports.privateEncrypt=function(key,buf){return exports.publicEncrypt(key,buf,!0)},exports.publicDecrypt=function(key,buf){return exports.privateDecrypt(key,buf,!0)}},{"./privateDecrypt":153,"./publicEncrypt":154}],131:[function(require,module){(function(Buffer){function i2ops(c){var out=new Buffer(4);return out.writeUInt32BE(c,0),out}var createHash=require("create-hash");module.exports=function(seed,len){for(var c,t=new Buffer(""),i=0;t.length<len;)c=i2ops(i++),t=Buffer.concat([t,createHash("sha1").update(seed).update(c).digest()]);return t.slice(0,len)}}).call(this,require("buffer").Buffer)},{buffer:17,"create-hash":109}],132:[function(require,module,exports){arguments[4][43][0].apply(exports,arguments)},{dup:43}],133:[function(require,module,exports){arguments[4][44][0].apply(exports,arguments)},{"bn.js":132,buffer:17,dup:44,randombytes:157}],134:[function(require,module,exports){arguments[4][65][0].apply(exports,arguments)},{buffer:17,"create-hash":109,dup:65}],135:[function(require,module,exports){arguments[4][66][0].apply(exports,arguments)},{dup:66}],136:[function(require,module,exports){arguments[4][67][0].apply(exports,arguments)},{"asn1.js":139,dup:67}],137:[function(require,module,exports){arguments[4][68][0].apply(exports,arguments)},{"./EVP_BytesToKey":134,"browserify-aes":25,buffer:17,dup:68}],138:[function(require,module,exports){arguments[4][69][0].apply(exports,arguments)},{"./aesid.json":135,"./asn1":136,"./fixProc":137,"browserify-aes":25,buffer:17,dup:69,"pbkdf2-compat":152}],139:[function(require,module,exports){arguments[4][70][0].apply(exports,arguments)},{"./asn1/api":140,"./asn1/base":142,"./asn1/constants":146,"./asn1/decoders":148,"./asn1/encoders":150,"bn.js":132,dup:70}],140:[function(require,module,exports){arguments[4][71][0].apply(exports,arguments)},{"../asn1":139,dup:71,inherits:164,vm:188}],141:[function(require,module,exports){arguments[4][72][0].apply(exports,arguments)},{"../base":142,buffer:17,dup:72,inherits:164}],142:[function(require,module,exports){arguments[4][73][0].apply(exports,arguments)},{"./buffer":141,"./node":143,"./reporter":144,dup:73}],143:[function(require,module,exports){arguments[4][74][0].apply(exports,arguments)},{"../base":142,dup:74,"minimalistic-assert":151}],144:[function(require,module,exports){arguments[4][75][0].apply(exports,arguments)},{dup:75,inherits:164}],145:[function(require,module,exports){arguments[4][76][0].apply(exports,arguments)},{"../constants":146,dup:76}],146:[function(require,module,exports){arguments[4][77][0].apply(exports,arguments)},{"./der":145,dup:77}],147:[function(require,module,exports){arguments[4][78][0].apply(exports,arguments)},{"../../asn1":139,dup:78,inherits:164}],148:[function(require,module,exports){arguments[4][79][0].apply(exports,arguments)},{"./der":147,dup:79}],149:[function(require,module,exports){arguments[4][80][0].apply(exports,arguments)},{"../../asn1":139,buffer:17,dup:80,inherits:164}],150:[function(require,module,exports){arguments[4][81][0].apply(exports,arguments)},{"./der":149,dup:81}],151:[function(require,module,exports){arguments[4][82][0].apply(exports,arguments)},{dup:82}],152:[function(require,module,exports){arguments[4][83][0].apply(exports,arguments)},{buffer:17,"create-hmac":121,dup:83}],153:[function(require,module){(function(Buffer){function oaep(key,msg){var k=(key.modulus,key.modulus.byteLength()),iHash=(msg.length,createHash("sha1").update(new Buffer("")).digest()),hLen=iHash.length;if(0!==msg[0])throw new Error("decryption error");var maskedSeed=msg.slice(1,hLen+1),maskedDb=msg.slice(hLen+1),seed=xor(maskedSeed,mgf(maskedDb,hLen)),db=xor(maskedDb,mgf(seed,k-hLen-1));if(compare(iHash,db.slice(0,hLen)))throw new Error("decryption error");for(var i=hLen;0===db[i];)i++;if(1!==db[i++])throw new Error("decryption error");return db.slice(i)}function pkcs1(key,msg,reverse){for(var p1=msg.slice(0,2),i=2,status=0;0!==msg[i++];)if(i>=msg.length){status++;break}{var ps=msg.slice(2,i-1);msg.slice(i-1,i)}if(("0002"!==p1.toString("hex")&&!reverse||"0001"!==p1.toString("hex")&&reverse)&&status++,ps.length<8&&status++,status)throw new Error("decryption error");return msg.slice(i)}function compare(a,b){a=new Buffer(a),b=new Buffer(b);var dif=0,len=a.length;a.length!==b.length&&(dif++,len=Math.min(a.length,b.length));for(var i=-1;++i<len;)dif+=a[i]^b[i];return dif}var parseKeys=require("parse-asn1"),mgf=require("./mgf"),xor=require("./xor"),bn=require("bn.js"),crt=require("browserify-rsa"),createHash=require("create-hash"),withPublic=require("./withPublic");module.exports=function(private_key,enc,reverse){var padding;padding=private_key.padding?private_key.padding:reverse?1:4;var key=parseKeys(private_key),k=key.modulus.byteLength();if(enc.length>k||new bn(enc).cmp(key.modulus)>=0)throw new Error("decryption error");var msg;msg=reverse?withPublic(new bn(enc),key):crt(enc,key);var zBuffer=new Buffer(k-msg.length);if(zBuffer.fill(0),msg=Buffer.concat([zBuffer,msg],k),4===padding)return oaep(key,msg);if(1===padding)return pkcs1(key,msg,reverse);if(3===padding)return msg;throw new Error("unknown padding")}}).call(this,require("buffer").Buffer)},{"./mgf":131,"./withPublic":155,"./xor":156,"bn.js":132,"browserify-rsa":133,buffer:17,"create-hash":109,"parse-asn1":138}],154:[function(require,module){(function(Buffer){function oaep(key,msg){var k=key.modulus.byteLength(),mLen=msg.length,iHash=createHash("sha1").update(new Buffer("")).digest(),hLen=iHash.length,hLen2=2*hLen;if(mLen>k-hLen2-2)throw new Error("message too long");var ps=new Buffer(k-mLen-hLen2-2);ps.fill(0);var dblen=k-hLen-1,seed=randomBytes(hLen),maskedDb=xor(Buffer.concat([iHash,ps,new Buffer([1]),msg],dblen),mgf(seed,dblen)),maskedSeed=xor(seed,mgf(maskedDb,hLen));return new bn(Buffer.concat([new Buffer([0]),maskedSeed,maskedDb],k))}function pkcs1(key,msg,reverse){var mLen=msg.length,k=key.modulus.byteLength();if(mLen>k-11)throw new Error("message too long");var ps;return reverse?(ps=new Buffer(k-mLen-3),ps.fill(255)):ps=nonZero(k-mLen-3),new bn(Buffer.concat([new Buffer([0,reverse?1:2]),ps,new Buffer([0]),msg],k))}function nonZero(len){for(var num,out=new Buffer(len),i=0,cache=randomBytes(2*len),cur=0;len>i;)cur===cache.length&&(cache=randomBytes(2*len),cur=0),num=cache[cur++],num&&(out[i++]=num);return out}var parseKeys=require("parse-asn1"),randomBytes=require("randombytes"),createHash=require("create-hash"),mgf=require("./mgf"),xor=require("./xor"),bn=require("bn.js"),withPublic=require("./withPublic"),crt=require("browserify-rsa");module.exports=function(public_key,msg,reverse){var padding;padding=public_key.padding?public_key.padding:reverse?1:4;var paddedMsg,key=parseKeys(public_key);if(4===padding)paddedMsg=oaep(key,msg);else if(1===padding)paddedMsg=pkcs1(key,msg,reverse);else{if(3!==padding)throw new Error("unknown padding");if(paddedMsg=new bn(msg),paddedMsg.cmp(key.modulus)>=0)throw new Error("data too long for modulus")}return reverse?crt(paddedMsg,key):withPublic(paddedMsg,key)}}).call(this,require("buffer").Buffer)},{"./mgf":131,"./withPublic":155,"./xor":156,"bn.js":132,"browserify-rsa":133,buffer:17,"create-hash":109,"parse-asn1":138,randombytes:157}],155:[function(require,module){(function(Buffer){function withPublic(paddedMsg,key){return new Buffer(paddedMsg.toRed(bn.mont(key.modulus)).redPow(new bn(key.publicExponent)).fromRed().toArray())}var bn=require("bn.js");module.exports=withPublic}).call(this,require("buffer").Buffer)},{"bn.js":132,buffer:17}],156:[function(require,module){module.exports=function(a,b){for(var len=a.length,i=-1;++i<len;)a[i]^=b[i];return a}},{}],157:[function(require,module){(function(process,global,Buffer){"use strict";function randomBytes(size,cb){var bytes=new Buffer(size);return crypto.getRandomValues(bytes),"function"==typeof cb?process.nextTick(function(){cb(null,bytes)}):bytes}function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var crypto=global.crypto||global.msCrypto;module.exports=crypto&&crypto.getRandomValues?randomBytes:oldBrowser}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer)},{_process:167,buffer:17}],158:[function(require,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError('Uncaught, unspecified "error" event.')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){
position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],159:[function(require,module){var http=module.exports,Request=(require("events").EventEmitter,require("./lib/request")),url=require("url");http.request=function(params,cb){"string"==typeof params&&(params=url.parse(params)),params||(params={}),params.host||params.port||(params.port=parseInt(window.location.port,10)),!params.host&&params.hostname&&(params.host=params.hostname),params.protocol||(params.protocol=params.scheme?params.scheme+":":window.location.protocol),params.host||(params.host=window.location.hostname||window.location.host),/:/.test(params.host)&&(params.port||(params.port=params.host.split(":")[1]),params.host=params.host.split(":")[0]),params.port||(params.port="https:"==params.protocol?443:80);var req=new Request(new xhrHttp,params);return cb&&req.on("response",cb),req},http.get=function(params,cb){params.method="GET";var req=http.request(params,cb);return req.end(),req},http.Agent=function(){},http.Agent.defaultMaxSockets=4;var xhrHttp=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var axs=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],i=0;i<axs.length;i++)try{var ax=new window.ActiveXObject(axs[i]);return function(){if(ax){var ax_=ax;return ax=null,ax_}return new window.ActiveXObject(axs[i])}}catch(e){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();http.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":160,events:158,url:185}],160:[function(require,module){var Stream=require("stream"),Response=require("./response"),Base64=require("Base64"),inherits=require("inherits"),Request=module.exports=function(xhr,params){var self=this;self.writable=!0,self.xhr=xhr,self.body=[],self.uri=(params.protocol||"http:")+"//"+params.host+(params.port?":"+params.port:"")+(params.path||"/"),"undefined"==typeof params.withCredentials&&(params.withCredentials=!0);try{xhr.withCredentials=params.withCredentials}catch(e){}if(params.responseType)try{xhr.responseType=params.responseType}catch(e){}if(xhr.open(params.method||"GET",self.uri,!0),xhr.onerror=function(){self.emit("error",new Error("Network error"))},self._headers={},params.headers)for(var keys=objectKeys(params.headers),i=0;i<keys.length;i++){var key=keys[i];if(self.isSafeRequestHeader(key)){var value=params.headers[key];self.setHeader(key,value)}}params.auth&&this.setHeader("Authorization","Basic "+Base64.btoa(params.auth));var res=new Response;res.on("close",function(){self.emit("close")}),res.on("ready",function(){self.emit("response",res)}),res.on("error",function(err){self.emit("error",err)}),xhr.onreadystatechange=function(){xhr.__aborted||res.handle(xhr)}};inherits(Request,Stream),Request.prototype.setHeader=function(key,value){this._headers[key.toLowerCase()]=value},Request.prototype.getHeader=function(key){return this._headers[key.toLowerCase()]},Request.prototype.removeHeader=function(key){delete this._headers[key.toLowerCase()]},Request.prototype.write=function(s){this.body.push(s)},Request.prototype.destroy=function(){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},Request.prototype.end=function(s){void 0!==s&&this.body.push(s);for(var keys=objectKeys(this._headers),i=0;i<keys.length;i++){var key=keys[i],value=this._headers[key];if(isArray(value))for(var j=0;j<value.length;j++)this.xhr.setRequestHeader(key,value[j]);else this.xhr.setRequestHeader(key,value)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(isArray(this.body[0])){for(var body=[],i=0;i<this.body.length;i++)body.push.apply(body,this.body[i]);this.xhr.send(body)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var len=0,i=0;i<this.body.length;i++)len+=this.body[i].length;for(var body=new this.body[0].constructor(len),k=0,i=0;i<this.body.length;i++)for(var b=this.body[i],j=0;j<b.length;j++)body[k++]=b[j];this.xhr.send(body)}else if(isXHR2Compatible(this.body[0]))this.xhr.send(this.body[0]);else{for(var body="",i=0;i<this.body.length;i++)body+=this.body[i].toString();this.xhr.send(body)}},Request.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],Request.prototype.isSafeRequestHeader=function(headerName){return headerName?-1===indexOf(Request.unsafeHeaders,headerName.toLowerCase()):!1};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys},isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},indexOf=function(xs,x){if(xs.indexOf)return xs.indexOf(x);for(var i=0;i<xs.length;i++)if(xs[i]===x)return i;return-1},isXHR2Compatible=function(obj){return"undefined"!=typeof Blob&&obj instanceof Blob?!0:"undefined"!=typeof ArrayBuffer&&obj instanceof ArrayBuffer?!0:"undefined"!=typeof FormData&&obj instanceof FormData?!0:void 0}},{"./response":161,Base64:162,inherits:164,stream:183}],161:[function(require,module){function parseHeaders(res){for(var lines=res.getAllResponseHeaders().split(/\r?\n/),headers={},i=0;i<lines.length;i++){var line=lines[i];if(""!==line){var m=line.match(/^([^:]+):\s*(.*)/);if(m){var key=m[1].toLowerCase(),value=m[2];void 0!==headers[key]?isArray(headers[key])?headers[key].push(value):headers[key]=[headers[key],value]:headers[key]=value}else headers[line]=!0}}return headers}var Stream=require("stream"),util=require("util"),Response=module.exports=function(){this.offset=0,this.readable=!0};util.inherits(Response,Stream);var capable={streaming:!0,status2:!0};Response.prototype.getResponse=function(xhr){var respType=String(xhr.responseType).toLowerCase();return"blob"===respType?xhr.responseBlob||xhr.response:"arraybuffer"===respType?xhr.response:xhr.responseText},Response.prototype.getHeader=function(key){return this.headers[key.toLowerCase()]},Response.prototype.handle=function(res){if(2===res.readyState&&capable.status2){try{this.statusCode=res.status,this.headers=parseHeaders(res)}catch(err){capable.status2=!1}capable.status2&&this.emit("ready")}else if(capable.streaming&&3===res.readyState){try{this.statusCode||(this.statusCode=res.status,this.headers=parseHeaders(res),this.emit("ready"))}catch(err){}try{this._emitData(res)}catch(err){capable.streaming=!1}}else 4===res.readyState&&(this.statusCode||(this.statusCode=res.status,this.emit("ready")),this._emitData(res),res.error?this.emit("error",this.getResponse(res)):this.emit("end"),this.emit("close"))},Response.prototype._emitData=function(res){var respBody=this.getResponse(res);return respBody.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(respBody,this.offset)),void(this.offset=respBody.byteLength)):void(respBody.length>this.offset&&(this.emit("data",respBody.slice(this.offset)),this.offset=respBody.length))};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},{stream:183,util:187}],162:[function(require,module,exports){!function(){function InvalidCharacterError(message){this.message=message}var object="undefined"!=typeof exports?exports:this,chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";InvalidCharacterError.prototype=new Error,InvalidCharacterError.prototype.name="InvalidCharacterError",object.btoa||(object.btoa=function(input){for(var block,charCode,idx=0,map=chars,output="";input.charAt(0|idx)||(map="=",idx%1);output+=map.charAt(63&block>>8-idx%1*8)){if(charCode=input.charCodeAt(idx+=.75),charCode>255)throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");block=block<<8|charCode}return output}),object.atob||(object.atob=function(input){if(input=input.replace(/=+$/,""),input.length%4==1)throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");for(var bs,buffer,bc=0,idx=0,output="";buffer=input.charAt(idx++);~buffer&&(bs=bc%4?64*bs+buffer:buffer,bc++%4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0)buffer=chars.indexOf(buffer);return output})}()},{}],163:[function(require,module){var http=require("http"),https=module.exports;for(var key in http)http.hasOwnProperty(key)&&(https[key]=http[key]);https.request=function(params,cb){return params||(params={}),params.scheme="https",http.request.call(this,params,cb)}},{http:159}],164:[function(require,module){module.exports="function"==typeof Object.create?function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],165:[function(require,module){module.exports=Array.isArray||function(arr){return"[object Array]"==Object.prototype.toString.call(arr)}},{}],166:[function(require,module,exports){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:require("my-process").cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;length>i;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},exports.basename=function(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPath(path)[3]};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return 0>start&&(start=str.length+start),str.substr(start,len)}},{"my-process":196}],167:[function(require,module){function drainQueue(){if(!draining){draining=!0;for(var currentQueue,len=queue.length;len;){currentQueue=queue,queue=[];for(var i=-1;++i<len;)currentQueue[i]();len=queue.length}draining=!1}}function noop(){}var process=module.exports={},queue=[],draining=!1;process.nextTick=function(fun){queue.push(fun),draining||setTimeout(drainQueue,0)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],168:[function(require,module,exports){(function(global){!function(root){function error(type){throw RangeError(errors[type])}function map(array,fn){for(var length=array.length;length--;)array[length]=fn(array[length]);return array}function mapDomain(string,fn){return map(string.split(regexSeparators),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;length>counter;)value=string.charCodeAt(counter++),value>=55296&&56319>=value&&length>counter?(extra=string.charCodeAt(counter++),56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return value>65535&&(value-=65536,output+=stringFromCharCode(value>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function basicToDigit(codePoint){return 10>codePoint-48?codePoint-22:26>codePoint-65?codePoint-65:26>codePoint-97?codePoint-97:base}function digitToBasic(digit,flag){return digit+22+75*(26>digit)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for(basic=input.lastIndexOf(delimiter),0>basic&&(basic=0),j=0;basic>j;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;inputLength>index;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),digit=basicToDigit(input.charCodeAt(index++)),(digit>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,t=bias>=k?tMin:k>=bias+tMax?tMax:k-bias,!(t>digit);k+=base)baseMinusT=base-t,w>floor(maxInt/baseMinusT)&&error("overflow"),w*=baseMinusT;out=output.length+1,bias=adapt(i-oldi,out,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(input=ucs2decode(input),inputLength=input.length,n=initialN,delta=0,bias=initialBias,j=0;inputLength>j;++j)currentValue=input[j],128>currentValue&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);inputLength>handledCPCount;){for(m=maxInt,j=0;inputLength>j;++j)currentValue=input[j],currentValue>=n&&m>currentValue&&(m=currentValue);for(handledCPCountPlusOne=handledCPCount+1,m-n>floor((maxInt-delta)/handledCPCountPlusOne)&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;inputLength>j;++j)if(currentValue=input[j],n>currentValue&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;t=bias>=k?tMin:k>=bias+tMax?tMax:k-bias,!(t>q);k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}function toUnicode(domain){return mapDomain(domain,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(domain){return mapDomain(domain,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}var freeExports="object"==typeof exports&&exports,freeModule="object"==typeof module&&module&&module.exports==freeExports&&module,freeGlobal="object"==typeof global&&global;(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal)&&(root=freeGlobal);var punycode,key,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^ -~]/,regexSeparators=/\x2E|\u3002|\uFF0E|\uFF61/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;if(punycode={version:"1.2.4",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return punycode});else if(freeExports&&!freeExports.nodeType)if(freeModule)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],169:[function(require,module){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;len>i;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},{}],170:[function(require,module){"use strict";function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res}},{}],171:[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode")},{"./decode":169,"./encode":170}],172:[function(require,module){module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":173}],173:[function(require,module){(function(process){function Duplex(options){return this instanceof Duplex?(Readable.call(this,options),Writable.call(this,options),options&&options.readable===!1&&(this.readable=!1),options&&options.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,options&&options.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(options)}function onend(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}function forEach(xs,f){for(var i=0,l=xs.length;l>i;i++)f(xs[i],i)}module.exports=Duplex;var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys},util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable),forEach(objectKeys(Writable.prototype),function(method){Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])})}).call(this,require("_process"))},{"./_stream_readable":175,"./_stream_writable":177,_process:167,"core-util-is":178,inherits:164}],174:[function(require,module){function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=require("./_stream_transform"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":176,"core-util-is":178,inherits:164}],175:[function(require,module){(function(process){function ReadableState(options,stream){var Duplex=require("./_stream_duplex");options=options||{};var hwm=options.highWaterMark,defaultHwm=options.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode),this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){require("./_stream_duplex");return this instanceof Readable?(this._readableState=new ReadableState(options,this),this.readable=!0,void Stream.call(this)):new Readable(options)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er)stream.emit("error",er);else if(util.isNullOrUndefined(chunk))state.reading=!1,state.ended||onEofChunk(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var e=new Error("stream.unshift() after end event");stream.emit("error",e)}else!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk)),addToFront||(state.reading=!1),state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state);else addToFront||(state.reading=!1);return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function roundUpToNextPowerOf2(n){if(n>=MAX_HWM)n=MAX_HWM;else{n--;for(var p=1;32>p;p<<=1)n|=n>>p;n++}return n}function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:isNaN(n)||util.isNull(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:0>=n?0:(n>state.highWaterMark&&(state.highWaterMark=roundUpToNextPowerOf2(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function chunkInvalid(state,chunk){var er=null;return util.isBuffer(chunk)||util.isString(chunk)||util.isNullOrUndefined(chunk)||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function onEofChunk(stream,state){if(state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?process.nextTick(function(){emitReadable_(stream)}):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,process.nextTick(function(){maybeReadMore_(stream,state)}))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EE.listenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,process.nextTick(function(){resume_(stream,state)}))}function resume_(stream,state){state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do var chunk=stream.read();while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):Buffer.concat(list,length),list.length=0;else if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n),list[0]=buf.slice(n)}else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":new Buffer(n);for(var c=0,i=0,l=list.length;l>i&&n>c;i++){var buf=list[0],cpy=Math.min(n-c,buf.length);stringMode?ret+=buf.slice(0,cpy):buf.copy(ret,c,0,cpy),cpy<buf.length?list[0]=buf.slice(cpy):list.shift(),c+=cpy}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error("endReadable called on non-empty stream");state.endEmitted||(state.ended=!0,process.nextTick(function(){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}))}function forEach(xs,f){for(var i=0,l=xs.length;l>i;i++)f(xs[i],i)}function indexOf(xs,x){for(var i=0,l=xs.length;l>i;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var isArray=require("isarray"),Buffer=require("buffer").Buffer;Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter;EE.listenerCount||(EE.listenerCount=function(emitter,type){return emitter.listeners(type).length});var Stream=require("stream"),util=require("core-util-is");util.inherits=require("inherits");var StringDecoder,debug=require("util");debug=debug&&debug.debuglog?debug.debuglog("stream"):function(){},util.inherits(Readable,Stream),Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return util.isString(chunk)&&!state.objectMode&&(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=new Buffer(chunk,encoding),encoding="")),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",!0)},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if((!util.isNumber(n)||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),(state.ended||state.reading)&&(doRead=!1,debug("reading or ended",doRead)),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state));var ret;return ret=n>0?fromList(n,state):null,util.isNull(ret)&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),
nOrig!==n&&state.ended&&0===state.length&&endReadable(this),util.isNull(ret)||this.emit("data",ret),ret},Readable.prototype._read=function(){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);!1===ret&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++,src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EE.listenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==!1)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:cleanup;state.endEmitted?process.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);return dest.on("drain",ondrain),src.on("data",ondata),dest._events&&dest._events.error?isArray(dest._events.error)?dest._events.error.unshift(onerror):dest._events.error=[onerror,dest._events.error]:dest.on("error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;len>i;i++)dests[i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);return-1===i?this:(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&this.readable){var state=this._readableState;if(!state.readableListening)if(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading)state.length&&emitReadable(this,state);else{var self=this;process.nextTick(function(){debug("readable nexttick read 0"),self.read(0)})}}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,state.reading||(debug("resume read 0"),this.read(0)),resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),chunk&&(state.objectMode||chunk.length)){var ret=self.push(chunk);ret||(paused=!0,stream.pause())}});for(var i in stream)util.isFunction(stream[i])&&util.isUndefined(this[i])&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));var events=["error","close","destroy","pause","resume"];return forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))}),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(this,require("_process"))},{"./_stream_duplex":173,_process:167,buffer:17,"core-util-is":178,events:158,inherits:164,isarray:165,stream:183,"string_decoder/":184,util:3}],176:[function(require,module){function TransformState(options,stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,util.isNullOrUndefined(data)||stream.push(data),cb&&cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(options,this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){util.isFunction(this._flush)?this._flush(function(er){done(stream,er)}):done(stream)})}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("calling transform done when ws.length != 0");if(ts.transforming)throw new Error("calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=require("./_stream_duplex"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(){throw new Error("not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(){var ts=this._transformState;util.isNull(ts.writechunk)||!ts.writecb||ts.transforming?ts.needTransform=!0:(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform))}},{"./_stream_duplex":173,"core-util-is":178,inherits:164}],177:[function(require,module){(function(process){function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb}function WritableState(options,stream){var Duplex=require("./_stream_duplex");options=options||{};var hwm=options.highWaterMark,defaultHwm=options.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=options.decodeStrings===!1;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function Writable(options){var Duplex=require("./_stream_duplex");return this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(options,this),this.writable=!0,void Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,state,cb){var er=new Error("write after end");stream.emit("error",er),process.nextTick(function(){cb(er)})}function validChunk(stream,state,chunk,cb){var valid=!0;if(!(util.isBuffer(chunk)||util.isString(chunk)||util.isNullOrUndefined(chunk)||state.objectMode)){var er=new TypeError("Invalid non-string/buffer chunk");stream.emit("error",er),process.nextTick(function(){cb(er)}),valid=!1}return valid}function decodeChunk(state,chunk,encoding){return!state.objectMode&&state.decodeStrings!==!1&&util.isString(chunk)&&(chunk=new Buffer(chunk,encoding)),chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding),util.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;return ret||(state.needDrain=!0),state.writing||state.corked?state.buffer.push(new WriteReq(chunk,encoding,cb)):doWrite(stream,state,!1,len,chunk,encoding,cb),ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){sync?process.nextTick(function(){state.pendingcb--,cb(er)}):(state.pendingcb--,cb(er)),stream._writableState.errorEmitted=!0,stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(stream,state);finished||state.corked||state.bufferProcessing||!state.buffer.length||clearBuffer(stream,state),sync?process.nextTick(function(){afterWrite(stream,state,finished,cb)}):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){if(state.bufferProcessing=!0,stream._writev&&state.buffer.length>1){for(var cbs=[],c=0;c<state.buffer.length;c++)cbs.push(state.buffer[c].callback);state.pendingcb++,doWrite(stream,state,!0,state.length,state.buffer,"",function(err){for(var i=0;i<cbs.length;i++)state.pendingcb--,cbs[i](err)}),state.buffer=[]}else{for(var c=0;c<state.buffer.length;c++){var entry=state.buffer[c],chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),state.writing){c++;break}}c<state.buffer.length?state.buffer=state.buffer.slice(c):state.buffer.length=0}state.bufferProcessing=!1}function needFinish(stream,state){return state.ending&&0===state.length&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(stream,state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?process.nextTick(cb):stream.once("finish",cb)),state.ended=!0}module.exports=Writable;var Buffer=require("buffer").Buffer;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var Stream=require("stream");util.inherits(Writable,Stream),Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return util.isFunction(encoding)&&(cb=encoding,encoding=null),util.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),util.isFunction(cb)||(cb=function(){}),state.ended?writeAfterEnd(this,state,cb):validChunk(this,state,chunk,cb)&&(state.pendingcb++,ret=writeOrBuffer(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){var state=this._writableState;state.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.buffer.length||clearBuffer(this,state))},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;util.isFunction(chunk)?(cb=chunk,chunk=null,encoding=null):util.isFunction(encoding)&&(cb=encoding,encoding=null),util.isNullOrUndefined(chunk)||this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)}}).call(this,require("_process"))},{"./_stream_duplex":173,_process:167,buffer:17,"core-util-is":178,inherits:164,stream:183}],178:[function(require,module,exports){(function(Buffer){function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function isBuffer(arg){return Buffer.isBuffer(arg)}function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=isBuffer}).call(this,require("buffer").Buffer)},{buffer:17}],179:[function(require,module){module.exports=require("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":174}],180:[function(require,module,exports){exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=require("stream"),exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":173,"./lib/_stream_passthrough.js":174,"./lib/_stream_readable.js":175,"./lib/_stream_transform.js":176,"./lib/_stream_writable.js":177,stream:183}],181:[function(require,module){module.exports=require("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":176}],182:[function(require,module){module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":177}],183:[function(require,module){function Stream(){EE.call(this)}module.exports=Stream;var EE=require("events").EventEmitter,inherits=require("inherits");inherits(Stream,EE),Stream.Readable=require("readable-stream/readable.js"),Stream.Writable=require("readable-stream/writable.js"),Stream.Duplex=require("readable-stream/duplex.js"),Stream.Transform=require("readable-stream/transform.js"),Stream.PassThrough=require("readable-stream/passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,"function"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,"error"))throw er}function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("close",cleanup)}var source=this;source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&options.end===!1||(source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest}},{events:158,inherits:164,"readable-stream/duplex.js":172,"readable-stream/passthrough.js":179,"readable-stream/readable.js":180,"readable-stream/transform.js":181,"readable-stream/writable.js":182}],184:[function(require,module,exports){function assertEncoding(encoding){if(encoding&&!isBufferEncoding(encoding))throw new Error("Unknown encoding: "+encoding)}function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3,this.charLength=this.charReceived?3:0}var Buffer=require("buffer").Buffer,isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},StringDecoder=exports.StringDecoder=function(encoding){switch(this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(encoding),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};StringDecoder.prototype.write=function(buffer){for(var charStr="";this.charLength;){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;if(buffer.copy(this.charBuffer,this.charReceived,0,available),this.charReceived+=available,this.charReceived<this.charLength)return"";buffer=buffer.slice(available,buffer.length),charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var charCode=charStr.charCodeAt(charStr.length-1);if(!(charCode>=55296&&56319>=charCode)){if(this.charReceived=this.charLength=0,0===buffer.length)return charStr;break}this.charLength+=this.surrogateSize,charStr=""}this.detectIncompleteChar(buffer);var end=buffer.length;this.charLength&&(buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end),end-=this.charReceived),charStr+=buffer.toString(this.encoding,0,end);var end=charStr.length-1,charCode=charStr.charCodeAt(end);if(charCode>=55296&&56319>=charCode){var size=this.surrogateSize;return this.charLength+=size,this.charReceived+=size,this.charBuffer.copy(this.charBuffer,size,0,size),buffer.copy(this.charBuffer,0,0,size),charStr.substring(0,end)}return charStr},StringDecoder.prototype.detectIncompleteChar=function(buffer){for(var i=buffer.length>=3?3:buffer.length;i>0;i--){var c=buffer[buffer.length-i];if(1==i&&c>>5==6){this.charLength=2;break}if(2>=i&&c>>4==14){this.charLength=3;break}if(3>=i&&c>>3==30){this.charLength=4;break}}this.charReceived=i},StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length&&(res=this.write(buffer)),this.charReceived){var cr=this.charReceived,buf=this.charBuffer,enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res}},{buffer:17}],185:[function(require,module,exports){function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&isObject(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}function urlFormat(obj){return isString(obj)&&(obj=urlParse(obj)),obj instanceof Url?obj.format():Url.prototype.format.call(obj)}function urlResolve(source,relative){return urlParse(source,!1,!0).resolve(relative)}function urlResolveObject(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative}function isString(arg){return"string"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}var punycode=require("punycode");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,delims=["<",">",'"',"`"," ","\r","\n","	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var rest=url;rest=rest.trim();var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var hostEnd=-1,i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);-1!==hec&&(-1===hostEnd||hostEnd>hec)&&(hostEnd=hec)}var auth,atSign;atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd),-1!==atSign&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);-1!==hec&&(-1===hostEnd||hostEnd>hec)&&(hostEnd=hec)}-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),i=0,l=hostparts.length;l>i;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;k>j;j++)newpart+=part.charCodeAt(j)>127?"x":part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}if(this.hostname=this.hostname.length>hostnameMaxLen?"":this.hostname.toLowerCase(),!ipv6Hostname){for(var domainArray=this.hostname.split("."),newOut=[],i=0;i<domainArray.length;++i){var s=domainArray[i];newOut.push(s.match(/[^A-Za-z0-9_-]/)?"xn--"+punycode.encode(s):s)}this.hostname=newOut.join(".")}var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(var i=0,l=autoEscape.length;l>i;i++){var ae=autoEscape[i],esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(-1!==qm?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var p=this.pathname||"",s=this.search||"";this.path=p+s}return this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=encodeURIComponent(auth),auth=auth.replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&host!==!1?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}),search=search.replace("#","%23"),protocol+host+pathname+search+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(isString(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}var result=new Url;if(Object.keys(this).forEach(function(k){result[k]=this[k]},this),result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol)return Object.keys(relative).forEach(function(k){"protocol"!==k&&(result[k]=relative[k])}),slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result;if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol])return Object.keys(relative).forEach(function(k){result[k]=relative[k]}),result.href=result.format(),result;if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):!1;authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return result.search=relative.search,result.query=relative.query,isNull(result.pathname)&&isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result}if(!srcPath.length)return result.pathname=null,result.path=result.search?"/"+result.search:null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)last=srcPath[i],"."==last?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):!1;authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return mustEndAbs=mustEndAbs||result.host&&srcPath.length,mustEndAbs&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),isNull(result.pathname)&&isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(port=port[0],":"!==port&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},{punycode:168,querystring:171}],186:[function(require,module){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],187:[function(require,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),
isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str){return str}function arrayToHash(array){var hash={};return array.forEach(function(val){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)output.push(hasOwnProperty(value,String(i))?formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0):"");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":186,_process:167,inherits:164}],188:[function(require,module,exports){function Context(){}var indexOf=require("indexof"),Object_keys=function(obj){if(Object.keys)return Object.keys(obj);var res=[];for(var key in obj)res.push(key);return res},forEach=function(xs,fn){if(xs.forEach)return xs.forEach(fn);for(var i=0;i<xs.length;i++)fn(xs[i],i,xs)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(obj,name,value){Object.defineProperty(obj,name,{writable:!0,enumerable:!1,configurable:!0,value:value})}}catch(e){return function(obj,name,value){obj[name]=value}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(code){return this instanceof Script?void(this.code=code):new Script(code)};Script.prototype.runInContext=function(context){if(!(context instanceof Context))throw new TypeError("needs a 'context' argument.");var iframe=document.createElement("iframe");iframe.style||(iframe.style={}),iframe.style.display="none",document.body.appendChild(iframe);var win=iframe.contentWindow,wEval=win.eval,wExecScript=win.execScript;!wEval&&wExecScript&&(wExecScript.call(win,"null"),wEval=win.eval),forEach(Object_keys(context),function(key){win[key]=context[key]}),forEach(globals,function(key){context[key]&&(win[key]=context[key])});var winKeys=Object_keys(win),res=wEval.call(win,this.code);return forEach(Object_keys(win),function(key){(key in context||-1===indexOf(winKeys,key))&&(context[key]=win[key])}),forEach(globals,function(key){key in context||defineProp(context,key,win[key])}),document.body.removeChild(iframe),res},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(context){var ctx=Script.createContext(context),res=this.runInContext(ctx);return forEach(Object_keys(ctx),function(key){context[key]=ctx[key]}),res},forEach(Object_keys(Script.prototype),function(name){exports[name]=Script[name]=function(code){var s=Script(code);return s[name].apply(s,[].slice.call(arguments,1))}}),exports.createScript=function(code){return exports.Script(code)},exports.createContext=Script.createContext=function(context){var copy=new Context;return"object"==typeof context&&forEach(Object_keys(context),function(key){copy[key]=context[key]}),copy}},{indexof:189}],189:[function(require,module){var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i)if(arr[i]===obj)return i;return-1}},{}],190:[function(require,module,exports){(function(process,Buffer){function onAccept(info){info.socketId in servers?servers[info.socketId]._onAccept(info.clientSocketId):console.error("Unknown server socket id: "+info.socketId)}function onAcceptError(info){info.socketId in servers?servers[info.socketId]._onAcceptError(info.resultCode):console.error("Unknown server socket id: "+info.socketId)}function onReceive(info){info.socketId in sockets?sockets[info.socketId]._onReceive(info.data):console.error("Unknown socket id: "+info.socketId)}function onReceiveError(info){if(info.socketId in sockets)sockets[info.socketId]._onReceiveError(info.resultCode);else{if(-100===info.resultCode)return;console.error("Unknown socket id: "+info.socketId)}}function Server(){var self=this;if(!(self instanceof Server))return new Server(arguments[0],arguments[1]);EventEmitter.call(self);var options;is.isFunction(arguments[0])?(options={},self.on("connection",arguments[0])):(options=arguments[0]||{},is.isFunction(arguments[1])&&self.on("connection",arguments[1])),self._destroyed=!1,self._connections=0}function Socket(options){var self=this;return self instanceof Socket?(is.isUndefined(options)&&(options={}),stream.Duplex.call(self,options),self.destroyed=!1,self.errorEmitted=!1,self.readable=self.writable=!1,self.bytesRead=0,self._bytesDispatched=0,self._connecting=!1,self.ondata=null,self.onend=null,void(options.server&&(self.server=options.server,self.id=options.id,self._connecting=!0,self._onConnect()))):new Socket(options)}function normalizeConnectArgs(args){var options={};is.isObject(args[0])?options=args[0]:(options.port=args[0],options.host=is.isString(args[1])?args[1]:"127.0.0.1");var cb=args[args.length-1];return is.isFunction(cb)?[options,cb]:[options]}function toNumber(x){return(x=Number(x))>=0?x:!1}var EventEmitter=require("events").EventEmitter,inherits=require("inherits"),ipaddr=require("ipaddr.js"),is=require("core-util-is"),stream=require("stream"),servers={},sockets={};"undefined"!=typeof chrome&&(chrome.sockets.tcpServer.onAccept.addListener(onAccept),chrome.sockets.tcpServer.onAcceptError.addListener(onAcceptError),chrome.sockets.tcp.onReceive.addListener(onReceive),chrome.sockets.tcp.onReceiveError.addListener(onReceiveError)),exports.createServer=function(options,listener){return new Server(options,listener)},exports.connect=exports.createConnection=function(){var args=normalizeConnectArgs(arguments),s=new Socket(args[0]);return Socket.prototype.connect.apply(s,args)},inherits(Server,EventEmitter),exports.Server=Server,Server.prototype.listen=function(){var self=this,lastArg=arguments[arguments.length-1];is.isFunction(lastArg)&&self.once("listening",lastArg);var address,port=toNumber(arguments[0])||0;address=null==arguments[1]||is.isFunction(arguments[1])||is.isNumber(arguments[1])?"0.0.0.0":arguments[1];var backlog=toNumber(arguments[1])||toNumber(arguments[2])||void 0;return chrome.sockets.tcpServer.create(function(createInfo){self.id=createInfo.socketId,chrome.sockets.tcpServer.listen(self.id,address,port,backlog,function(result){return 0>result?(self.emit("error",new Error("Socket "+self.id+" failed to listen. "+chrome.runtime.lastError.message)),void self._destroy()):(servers[self.id]=self,void chrome.sockets.tcpServer.getInfo(self.id,function(socketInfo){self._address=socketInfo.localAddress,self._port=socketInfo.localPort,self.emit("listening")}))})}),self},Server.prototype._onAccept=function(clientSocketId){var self=this;if(self.maxConnections&&self._connections>=self.maxConnections)return chrome.sockets.tcpServer.disconnect(clientSocketId),chrome.sockets.tcpServer.close(clientSocketId),void console.warn("Rejected connection - hit `maxConnections` limit");self._connections+=1;var acceptedSocket=new Socket({server:self,id:clientSocketId});acceptedSocket.on("connect",function(){self.emit("connection",acceptedSocket)}),chrome.sockets.tcp.setPaused(clientSocketId,!1)},Server.prototype._onAcceptError=function(resultCode){var self=this;self.emit("error",new Error("Socket "+self.id+" failed to accept ("+resultCode+")")),self._destroy()},Server.prototype.close=function(callback){var self=this;self._destroy(callback)},Server.prototype._destroy=function(exception,cb){var self=this;self._destroyed||(cb&&this.once("close",cb),this._destroyed=!0,this._connections=0,delete servers[self.id],chrome.sockets.tcpServer.disconnect(self.id,function(){chrome.sockets.tcpServer.close(self.id,function(){self.emit("close")})}))},Server.prototype.address=function(){var self=this;return{address:self._address,port:self._port,family:"IPv4"}},Server.prototype.unref=function(){},Server.prototype.ref=function(){},Server.prototype.getConnections=function(callback){var self=this;process.nextTick(function(){callback(null,self._connections)})},inherits(Socket,stream.Duplex),exports.Socket=Socket,Socket.prototype.connect=function(){var self=this,args=normalizeConnectArgs(arguments),options=args[0],cb=args[1];if(!self._connecting){self._connecting=!0;var port=Number(options.port);return is.isFunction(cb)&&self.once("connect",cb),chrome.sockets.tcp.create(function(createInfo){return self.destroyed?void chrome.sockets.tcp.close(createInfo.socketId):(self.id=createInfo.socketId,void chrome.sockets.tcp.connect(self.id,options.host,port,function(result){return 0>result?void self.destroy(new Error("Socket "+self.id+" connect error "+result+": "+chrome.runtime.lastError.message)):void self._onConnect()}))}),self}},Socket.prototype._onConnect=function(){var self=this;sockets[self.id]=self,chrome.sockets.tcp.getInfo(self.id,function(result){self.remoteAddress=result.peerAddress,self.remotePort=result.peerPort,self.localAddress=result.localAddress,self.localPort=result.localPort,self._connecting=!1,self.readable=self.writable=!0,self.emit("connect"),self.read(0)})},Object.defineProperty(Socket.prototype,"bufferSize",{get:function(){var self=this;return self._pendingData?self._pendingData.length:0}}),Socket.prototype.write=function(chunk,encoding,callback){var self=this;return Buffer.isBuffer(chunk)||(chunk=new Buffer(chunk,encoding)),stream.Duplex.prototype.write.call(self,chunk,encoding,callback)},Socket.prototype._write=function(buffer,encoding,callback){var self=this;if(callback||(callback=function(){}),!self.writable)return self._pendingData=buffer,self._pendingEncoding=encoding,void self.once("connect",function(){self._write(buffer,encoding,callback)});self._pendingData=null,self._pendingEncoding=null;var buf=buffer.buffer;(buffer.byteOffset||buffer.byteLength!==buf.byteLength)&&(buf=buf.slice(buffer.byteOffset,buffer.byteOffset+buffer.byteLength)),chrome.sockets.tcp.send(self.id,buf,function(sendInfo){if(sendInfo.resultCode<0){var err=new Error("Socket "+self.id+" write error: "+sendInfo.resultCode);callback(err),self.destroy(err)}else self._resetTimeout(),callback(null)}),self._bytesDispatched+=buffer.length},Socket.prototype._read=function(bufferSize){var self=this;return self._connecting||!self.id?void self.once("connect",self._read.bind(self,bufferSize)):void chrome.sockets.tcp.setPaused(self.id,!1)},Socket.prototype._onReceive=function(data){var self=this,buffer=new Buffer(new Uint8Array(data)),offset=self.bytesRead;self.bytesRead+=buffer.length,self._resetTimeout(),self.ondata&&self.ondata(buffer,offset,self.bytesRead),self.push(buffer)||chrome.sockets.tcp.setPaused(self.id,!0)},Socket.prototype._onReceiveError=function(resultCode){var self=this;-100===resultCode?(self.onend&&self.once("end",self.onend),self.push(null),self.destroy()):0>resultCode&&self.destroy(new Error("Socket "+self.id+" receive error "+resultCode))},Object.defineProperty(Socket.prototype,"bytesWritten",{get:function(){var self=this,bytes=self._bytesDispatched;return self._writableState.toArrayBuffer().forEach(function(el){bytes+=Buffer.isBuffer(el.chunk)?el.chunk.length:new Buffer(el.chunk,el.encoding).length}),self._pendingData&&(bytes+=Buffer.isBuffer(self._pendingData)?self._pendingData.length:Buffer.byteLength(self._pendingData,self._pendingEncoding)),bytes}}),Socket.prototype.destroy=function(exception){var self=this;self._destroy(exception)},Socket.prototype._destroy=function(exception,cb){function fireErrorCallbacks(){cb&&cb(exception),exception&&!self.errorEmitted&&(process.nextTick(function(){self.emit("error",exception)}),self.errorEmitted=!0)}var self=this;return self.destroyed?void fireErrorCallbacks():(this.server&&(this.server._connections-=1),self._connecting=!1,this.readable=this.writable=!1,self.destroyed=!0,delete sockets[self.id],void(self.id&&chrome.sockets.tcp.disconnect(self.id,function(){chrome.sockets.tcp.close(self.id,function(){self.emit("close",!!exception),fireErrorCallbacks()})})))},Socket.prototype.destroySoon=function(){var self=this;self.writable&&self.end(),self._writableState.finished?self.destroy():self.once("finish",self._destroy.bind(self))},Socket.prototype.setTimeout=function(timeout,callback){var self=this;callback&&self.once("timeout",callback),self._timeoutMs=timeout,self._resetTimeout()},Socket.prototype._onTimeout=function(){var self=this;self._timeout=null,self._timeoutMs=0,self.emit("timeout")},Socket.prototype._resetTimeout=function(){var self=this;self._timeout&&clearTimeout(self._timeout),self._timeoutMs&&(self._timeout=setTimeout(self._onTimeout.bind(self),self._timeoutMs))},Socket.prototype.setNoDelay=function(noDelay,callback){var self=this;noDelay=is.isUndefined(noDelay)?!0:!!noDelay,callback||(callback=function(){}),chrome.sockets.tcp.setNoDelay(self.id,noDelay,callback)},Socket.prototype.setKeepAlive=function(enable,initialDelay,callback){var self=this;callback||(callback=function(){}),chrome.sockets.tcp.setKeepAlive(self.id,!!enable,~~(initialDelay/1e3),callback)},Socket.prototype.address=function(){var self=this;return{address:self.localAddress,port:self.localPort,family:"IPv4"}},Object.defineProperty(Socket.prototype,"readyState",{get:function(){var self=this;return self._connecting?"opening":self.readable&&self.writable?"open":"closed"}}),Socket.prototype.unref=function(){},Socket.prototype.ref=function(){},exports.isIP=function(input){try{ipaddr.parse(input)}catch(e){return!1}return!0},exports.isIPv4=function(input){try{var parsed=ipaddr.parse(input);return"ipv4"===parsed.kind()}catch(e){return!1}},exports.isIPv6=function(input){try{var parsed=ipaddr.parse(input);return"ipv6"===parsed.kind()}catch(e){return!1}}}).call(this,require("_process"),require("buffer").Buffer)},{_process:167,buffer:17,"core-util-is":191,events:158,inherits:192,"ipaddr.js":193,stream:183}],191:[function(require,module,exports){arguments[4][178][0].apply(exports,arguments)},{buffer:17,dup:178}],192:[function(require,module,exports){arguments[4][164][0].apply(exports,arguments)},{dup:164}],193:[function(require,module){(function(){var expandIPv6,ipaddr,ipv4Part,ipv4Regexes,ipv6Part,ipv6Regexes,matchCIDR,root;ipaddr={},root=this,"undefined"!=typeof module&&null!==module&&module.exports?module.exports=ipaddr:root.ipaddr=ipaddr,matchCIDR=function(first,second,partSize,cidrBits){var part,shift;if(first.length!==second.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(part=0;cidrBits>0;){if(shift=partSize-cidrBits,0>shift&&(shift=0),first[part]>>shift!==second[part]>>shift)return!1;cidrBits-=partSize,part+=1}return!0},ipaddr.subnetMatch=function(address,rangeList,defaultName){var rangeName,rangeSubnets,subnet,_i,_len;null==defaultName&&(defaultName="unicast");for(rangeName in rangeList)for(rangeSubnets=rangeList[rangeName],"[object Array]"!==toString.call(rangeSubnets[0])&&(rangeSubnets=[rangeSubnets]),_i=0,_len=rangeSubnets.length;_len>_i;_i++)if(subnet=rangeSubnets[_i],address.match.apply(address,subnet))return rangeName;return defaultName},ipaddr.IPv4=function(){function IPv4(octets){var octet,_i,_len;if(4!==octets.length)throw new Error("ipaddr: ipv4 octet count should be 4");for(_i=0,_len=octets.length;_len>_i;_i++)if(octet=octets[_i],!(octet>=0&&255>=octet))throw new Error("ipaddr: ipv4 octet is a byte");this.octets=octets}return IPv4.prototype.kind=function(){return"ipv4"},IPv4.prototype.toString=function(){return this.octets.join(".")},IPv4.prototype.toByteArray=function(){return this.octets.slice(0)},IPv4.prototype.match=function(other,cidrRange){if("ipv4"!==other.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return matchCIDR(this.octets,other.octets,8,cidrRange)},IPv4.prototype.SpecialRanges={unspecified:[[new IPv4([0,0,0,0]),8]],broadcast:[[new IPv4([255,255,255,255]),32]],multicast:[[new IPv4([224,0,0,0]),4]],linkLocal:[[new IPv4([169,254,0,0]),16]],loopback:[[new IPv4([127,0,0,0]),8]],private:[[new IPv4([10,0,0,0]),8],[new IPv4([172,16,0,0]),12],[new IPv4([192,168,0,0]),16]],reserved:[[new IPv4([192,0,0,0]),24],[new IPv4([192,0,2,0]),24],[new IPv4([192,88,99,0]),24],[new IPv4([198,51,100,0]),24],[new IPv4([203,0,113,0]),24],[new IPv4([240,0,0,0]),4]]},IPv4.prototype.range=function(){return ipaddr.subnetMatch(this,this.SpecialRanges)},IPv4.prototype.toIPv4MappedAddress=function(){return ipaddr.IPv6.parse("::ffff:"+this.toString())},IPv4}(),ipv4Part="(0?\\d+|0x[a-f0-9]+)",ipv4Regexes={fourOctet:new RegExp("^"+ipv4Part+"\\."+ipv4Part+"\\."+ipv4Part+"\\."+ipv4Part+"$","i"),longValue:new RegExp("^"+ipv4Part+"$","i")},ipaddr.IPv4.parser=function(string){var match,parseIntAuto,part,shift,value;if(parseIntAuto=function(string){return"0"===string[0]&&"x"!==string[1]?parseInt(string,8):parseInt(string)},match=string.match(ipv4Regexes.fourOctet))return function(){var _i,_len,_ref,_results;for(_ref=match.slice(1,6),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)part=_ref[_i],_results.push(parseIntAuto(part));return _results}();if(match=string.match(ipv4Regexes.longValue)){if(value=parseIntAuto(match[1]),value>4294967295||0>value)throw new Error("ipaddr: address outside defined range");return function(){var _i,_results;for(_results=[],shift=_i=0;24>=_i;shift=_i+=8)_results.push(value>>shift&255);return _results}().reverse()}return null},ipaddr.IPv6=function(){function IPv6(parts){var part,_i,_len;if(8!==parts.length)throw new Error("ipaddr: ipv6 part count should be 8");for(_i=0,_len=parts.length;_len>_i;_i++)if(part=parts[_i],!(part>=0&&65535>=part))throw new Error("ipaddr: ipv6 part should fit to two octets");this.parts=parts}return IPv6.prototype.kind=function(){return"ipv6"},IPv6.prototype.toString=function(){var compactStringParts,part,pushPart,state,stringParts,_i,_len;for(stringParts=function(){var _i,_len,_ref,_results;for(_ref=this.parts,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)part=_ref[_i],_results.push(part.toString(16));return _results}.call(this),compactStringParts=[],pushPart=function(part){return compactStringParts.push(part)},state=0,_i=0,_len=stringParts.length;_len>_i;_i++)switch(part=stringParts[_i],state){case 0:pushPart("0"===part?"":part),state=1;break;case 1:"0"===part?state=2:pushPart(part);break;case 2:"0"!==part&&(pushPart(""),pushPart(part),state=3);break;case 3:pushPart(part)}return 2===state&&(pushPart(""),pushPart("")),compactStringParts.join(":")},IPv6.prototype.toByteArray=function(){var bytes,part,_i,_len,_ref;for(bytes=[],_ref=this.parts,_i=0,_len=_ref.length;_len>_i;_i++)part=_ref[_i],bytes.push(part>>8),bytes.push(255&part);return bytes},IPv6.prototype.toNormalizedString=function(){var part;return function(){var _i,_len,_ref,_results;for(_ref=this.parts,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)part=_ref[_i],_results.push(part.toString(16));return _results}.call(this).join(":")},IPv6.prototype.match=function(other,cidrRange){if("ipv6"!==other.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return matchCIDR(this.parts,other.parts,16,cidrRange)},IPv6.prototype.SpecialRanges={unspecified:[new IPv6([0,0,0,0,0,0,0,0]),128],linkLocal:[new IPv6([65152,0,0,0,0,0,0,0]),10],multicast:[new IPv6([65280,0,0,0,0,0,0,0]),8],loopback:[new IPv6([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new IPv6([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new IPv6([0,0,0,0,0,65535,0,0]),96],rfc6145:[new IPv6([0,0,0,0,65535,0,0,0]),96],rfc6052:[new IPv6([100,65435,0,0,0,0,0,0]),96],"6to4":[new IPv6([8194,0,0,0,0,0,0,0]),16],teredo:[new IPv6([8193,0,0,0,0,0,0,0]),32],reserved:[[new IPv6([8193,3512,0,0,0,0,0,0]),32]]},IPv6.prototype.range=function(){return ipaddr.subnetMatch(this,this.SpecialRanges)},IPv6.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},IPv6.prototype.toIPv4Address=function(){var high,low,_ref;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return _ref=this.parts.slice(-2),high=_ref[0],low=_ref[1],new ipaddr.IPv4([high>>8,255&high,low>>8,255&low])},IPv6}(),ipv6Part="(?:[0-9a-f]+::?)+",ipv6Regexes={native:new RegExp("^(::)?("+ipv6Part+")?([0-9a-f]+)?(::)?$","i"),transitional:new RegExp("^((?:"+ipv6Part+")|(?:::)(?:"+ipv6Part+")?)"+(""+ipv4Part+"\\."+ipv4Part+"\\."+ipv4Part+"\\."+ipv4Part+"$"),"i")},expandIPv6=function(string,parts){var colonCount,lastColon,part,replacement,replacementCount;if(string.indexOf("::")!==string.lastIndexOf("::"))return null;for(colonCount=0,lastColon=-1;(lastColon=string.indexOf(":",lastColon+1))>=0;)colonCount++;if(":"===string[0]&&colonCount--,":"===string[string.length-1]&&colonCount--,colonCount>parts)return null;for(replacementCount=parts-colonCount,replacement=":";replacementCount--;)replacement+="0:";return string=string.replace("::",replacement),":"===string[0]&&(string=string.slice(1)),":"===string[string.length-1]&&(string=string.slice(0,-1)),function(){var _i,_len,_ref,_results;for(_ref=string.split(":"),_results=[],_i=0,_len=_ref.length;_len>_i;_i++)part=_ref[_i],_results.push(parseInt(part,16));return _results}()},ipaddr.IPv6.parser=function(string){var match,parts;return string.match(ipv6Regexes.native)?expandIPv6(string,8):(match=string.match(ipv6Regexes.transitional))&&(parts=expandIPv6(match[1].slice(0,-1),6))?(parts.push(parseInt(match[2])<<8|parseInt(match[3])),parts.push(parseInt(match[4])<<8|parseInt(match[5])),parts):null},ipaddr.IPv4.isIPv4=ipaddr.IPv6.isIPv6=function(string){return null!==this.parser(string)},ipaddr.IPv4.isValid=ipaddr.IPv6.isValid=function(string){var e;try{return new this(this.parser(string)),!0}catch(_error){return e=_error,!1}},ipaddr.IPv4.parse=ipaddr.IPv6.parse=function(string){var parts;if(parts=this.parser(string),null===parts)throw new Error("ipaddr: string is not formatted like ip address");return new this(parts)},ipaddr.isValid=function(string){return ipaddr.IPv6.isValid(string)||ipaddr.IPv4.isValid(string)},ipaddr.parse=function(string){if(ipaddr.IPv6.isValid(string))return ipaddr.IPv6.parse(string);if(ipaddr.IPv4.isValid(string))return ipaddr.IPv4.parse(string);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},ipaddr.process=function(string){var addr;return addr=this.parse(string),"ipv6"===addr.kind()&&addr.isIPv4MappedAddress()?addr.toIPv4Address():addr}}).call(this)},{}],194:[function(require,module){module.exports={"/node_modules/steam/resources/protobufs/steamclient/steammessages_clientserver.proto":'import "steammessages_base.proto";\r\nimport "encrypted_app_ticket.proto";\r\n\r\noption optimize_for = SPEED;\r\noption cc_generic_services = false;\r\n\r\nmessage CMsgClientHeartBeat {\r\n}\r\n\r\nmessage CMsgClientUDSP2PSessionStarted {\r\n	optional fixed64 steamid_remote = 1;\r\n	optional int32 appid = 2;\r\n}\r\n\r\nmessage CMsgClientUDSP2PSessionEnded {\r\n	optional fixed64 steamid_remote = 1;\r\n	optional int32 appid = 2;\r\n	optional int32 session_length_sec = 3;\r\n	optional int32 session_error = 4;\r\n	optional int32 nattype = 5;\r\n	optional int32 bytes_recv = 6;\r\n	optional int32 bytes_sent = 7;\r\n	optional int32 bytes_sent_relay = 8;\r\n	optional int32 bytes_recv_relay = 9;\r\n	optional int32 time_to_connect_ms = 10;\r\n}\r\n\r\nmessage CMsgClientRegisterAuthTicketWithCM {\r\n	optional uint32 protocol_version = 1;\r\n	optional bytes ticket = 3;\r\n	optional uint64 client_instance_id = 4;\r\n}\r\n\r\nmessage CMsgClientTicketAuthComplete {\r\n	optional fixed64 steam_id = 1;\r\n	optional fixed64 game_id = 2;\r\n	optional uint32 estate = 3;\r\n	optional uint32 eauth_session_response = 4;\r\n	optional bytes DEPRECATED_ticket = 5;\r\n	optional uint32 ticket_crc = 6;\r\n	optional uint32 ticket_sequence = 7;\r\n	optional fixed64 owner_steam_id = 8;\r\n}\r\n\r\nmessage CMsgClientLogon {\r\n	optional uint32 protocol_version = 1;\r\n	optional uint32 obfustucated_private_ip = 2;\r\n	optional uint32 cell_id = 3;\r\n	optional uint32 last_session_id = 4;\r\n	optional uint32 client_package_version = 5;\r\n	optional string client_language = 6;\r\n	optional uint32 client_os_type = 7;\r\n	optional bool should_remember_password = 8 [default = false];\r\n	optional string wine_version = 9;\r\n	optional uint32 ping_ms_from_cell_search = 10;\r\n	optional uint32 public_ip = 20;\r\n	optional uint32 qos_level = 21;\r\n	optional fixed64 client_supplied_steam_id = 22;\r\n	optional bytes machine_id = 30;\r\n	optional uint32 launcher_type = 31 [default = 0];\r\n	optional uint32 ui_mode = 32 [default = 0];\r\n	optional bytes steam2_auth_ticket = 41;\r\n	optional string email_address = 42;\r\n	optional fixed32 rtime32_account_creation = 43;\r\n	optional string account_name = 50;\r\n	optional string password = 51;\r\n	optional string game_server_token = 52;\r\n	optional string login_key = 60;\r\n	optional bool was_converted_deprecated_msg = 70 [default = false];\r\n	optional string anon_user_target_account_name = 80;\r\n	optional fixed64 resolved_user_steam_id = 81;\r\n	optional int32 eresult_sentryfile = 82;\r\n	optional bytes sha_sentryfile = 83;\r\n	optional string auth_code = 84;\r\n	optional int32 otp_type = 85;\r\n	optional uint32 otp_value = 86;\r\n	optional string otp_identifier = 87;\r\n	optional bool steam2_ticket_request = 88;\r\n	optional bytes sony_psn_ticket = 90;\r\n	optional string sony_psn_service_id = 91;\r\n	optional bool create_new_psn_linked_account_if_needed = 92 [default = false];\r\n	optional string sony_psn_name = 93;\r\n	optional int32 game_server_app_id = 94;\r\n	optional bool steamguard_dont_remember_computer = 95;\r\n	optional string machine_name = 96;\r\n	optional string machine_name_userchosen = 97;\r\n	optional string country_override = 98;\r\n	optional bool is_steam_box = 99;\r\n	optional uint64 client_instance_id = 100;\r\n	optional string two_factor_code = 101;\r\n}\r\n\r\nmessage CMsgClientLogonResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional int32 out_of_game_heartbeat_seconds = 2;\r\n	optional int32 in_game_heartbeat_seconds = 3;\r\n	optional uint32 public_ip = 4;\r\n	optional fixed32 rtime32_server_time = 5;\r\n	optional uint32 account_flags = 6;\r\n	optional uint32 cell_id = 7;\r\n	optional string email_domain = 8;\r\n	optional bytes steam2_ticket = 9;\r\n	optional int32 eresult_extended = 10;\r\n	optional string webapi_authenticate_user_nonce = 11;\r\n	optional uint32 cell_id_ping_threshold = 12;\r\n	optional bool use_pics = 13;\r\n	optional string vanity_url = 14;\r\n	optional fixed64 client_supplied_steamid = 20;\r\n	optional string ip_country_code = 21;\r\n	optional bytes parental_settings = 22;\r\n	optional bytes parental_setting_signature = 23;\r\n	optional int32 count_loginfailures_to_migrate = 24;\r\n	optional int32 count_disconnects_to_migrate = 25;\r\n	optional int32 ogs_data_report_time_window = 26;\r\n	optional uint64 client_instance_id = 27;\r\n}\r\n\r\nmessage CMsgClientRequestWebAPIAuthenticateUserNonce {\r\n}\r\n\r\nmessage CMsgClientRequestWebAPIAuthenticateUserNonceResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional string webapi_authenticate_user_nonce = 11;\r\n}\r\n\r\nmessage CMsgClientLogOff {\r\n}\r\n\r\nmessage CMsgClientLoggedOff {\r\n	optional int32 eresult = 1 [default = 2];\r\n}\r\n\r\nmessage CMsgClientCMList {\r\n	repeated uint32 cm_addresses = 1;\r\n	repeated uint32 cm_ports = 2;\r\n}\r\n\r\nmessage CMsgClientP2PConnectionInfo {\r\n	optional fixed64 steam_id_dest = 1;\r\n	optional fixed64 steam_id_src = 2;\r\n	optional uint32 app_id = 3;\r\n	optional bytes candidate = 4;\r\n}\r\n\r\nmessage CMsgClientP2PConnectionFailInfo {\r\n	optional fixed64 steam_id_dest = 1;\r\n	optional fixed64 steam_id_src = 2;\r\n	optional uint32 app_id = 3;\r\n	optional uint32 ep2p_session_error = 4;\r\n}\r\n\r\nmessage CMsgClientGetAppOwnershipTicket {\r\n	optional uint32 app_id = 1;\r\n}\r\n\r\nmessage CMsgClientGetAppOwnershipTicketResponse {\r\n	optional uint32 eresult = 1 [default = 2];\r\n	optional uint32 app_id = 2;\r\n	optional bytes ticket = 3;\r\n}\r\n\r\nmessage CMsgClientSessionToken {\r\n	optional uint64 token = 1;\r\n}\r\n\r\nmessage CMsgClientGameConnectTokens {\r\n	optional uint32 max_tokens_to_keep = 1 [default = 10];\r\n	repeated bytes tokens = 2;\r\n}\r\n\r\nmessage CMsgGSServerType {\r\n	optional uint32 app_id_served = 1;\r\n	optional uint32 flags = 2;\r\n	optional uint32 game_ip_address = 3;\r\n	optional uint32 game_port = 4;\r\n	optional string game_dir = 5;\r\n	optional string game_version = 6;\r\n	optional uint32 game_query_port = 7;\r\n}\r\n\r\nmessage CMsgGSStatusReply {\r\n	optional bool is_secure = 1;\r\n}\r\n\r\nmessage CMsgGSPlayerList {\r\n	message Player {\r\n		optional uint64 steam_id = 1;\r\n		optional uint32 public_ip = 2;\r\n		optional bytes token = 3;\r\n	}\r\n\r\n	repeated .CMsgGSPlayerList.Player players = 1;\r\n}\r\n\r\nmessage CMsgGSUserPlaying {\r\n	optional fixed64 steam_id = 1;\r\n	optional uint32 public_ip = 2;\r\n	optional bytes token = 3;\r\n}\r\n\r\nmessage CMsgGSDisconnectNotice {\r\n	optional fixed64 steam_id = 1;\r\n}\r\n\r\nmessage CMsgClientGamesPlayed {\r\n	message GamePlayed {\r\n		optional uint64 steam_id_gs = 1;\r\n		optional fixed64 game_id = 2;\r\n		optional uint32 game_ip_address = 3;\r\n		optional uint32 game_port = 4;\r\n		optional bool is_secure = 5;\r\n		optional bytes token = 6;\r\n		optional string game_extra_info = 7;\r\n		optional bytes game_data_blob = 8;\r\n		optional uint32 process_id = 9;\r\n		optional uint32 streaming_provider_id = 10;\r\n		optional uint32 game_flags = 11;\r\n		optional uint32 owner_id = 12;\r\n	}\r\n\r\n	repeated .CMsgClientGamesPlayed.GamePlayed games_played = 1;\r\n	optional uint32 client_os_type = 2;\r\n}\r\n\r\nmessage CMsgGSApprove {\r\n	optional fixed64 steam_id = 1;\r\n	optional fixed64 owner_steam_id = 2;\r\n}\r\n\r\nmessage CMsgGSDeny {\r\n	optional fixed64 steam_id = 1;\r\n	optional int32 edeny_reason = 2;\r\n	optional string deny_string = 3;\r\n}\r\n\r\nmessage CMsgGSKick {\r\n	optional fixed64 steam_id = 1;\r\n	optional int32 edeny_reason = 2;\r\n}\r\n\r\nmessage CMsgClientAuthList {\r\n	optional uint32 tokens_left = 1;\r\n	optional uint32 last_request_seq = 2;\r\n	optional uint32 last_request_seq_from_server = 3;\r\n	repeated .CMsgAuthTicket tickets = 4;\r\n	repeated uint32 app_ids = 5;\r\n	optional uint32 message_sequence = 6;\r\n}\r\n\r\nmessage CMsgClientAuthListAck {\r\n	repeated uint32 ticket_crc = 1;\r\n	repeated uint32 app_ids = 2;\r\n	optional uint32 message_sequence = 3;\r\n}\r\n\r\nmessage CMsgClientFriendsList {\r\n	message Friend {\r\n		optional fixed64 ulfriendid = 1;\r\n		optional uint32 efriendrelationship = 2;\r\n	}\r\n\r\n	optional bool bincremental = 1;\r\n	repeated .CMsgClientFriendsList.Friend friends = 2;\r\n	optional uint32 max_friend_count = 3;\r\n	optional uint32 active_friend_count = 4;\r\n	optional bool friends_limit_hit = 5;\r\n}\r\n\r\nmessage CMsgClientFriendsGroupsList {\r\n	message FriendGroup {\r\n		optional int32 nGroupID = 1;\r\n		optional string strGroupName = 2;\r\n	}\r\n\r\n	message FriendGroupsMembership {\r\n		optional fixed64 ulSteamID = 1;\r\n		optional int32 nGroupID = 2;\r\n	}\r\n\r\n	optional bool bremoval = 1;\r\n	optional bool bincremental = 2;\r\n	repeated .CMsgClientFriendsGroupsList.FriendGroup friendGroups = 3;\r\n	repeated .CMsgClientFriendsGroupsList.FriendGroupsMembership memberships = 4;\r\n}\r\n\r\nmessage CMsgClientPlayerNicknameList {\r\n	message PlayerNickname {\r\n		optional fixed64 steamid = 1;\r\n		optional string nickname = 3;\r\n	}\r\n\r\n	optional bool removal = 1;\r\n	optional bool incremental = 2;\r\n	repeated .CMsgClientPlayerNicknameList.PlayerNickname nicknames = 3;\r\n}\r\n\r\nmessage CMsgClientSetPlayerNickname {\r\n	optional fixed64 steamid = 1;\r\n	optional string nickname = 2;\r\n}\r\n\r\nmessage CMsgClientSetPlayerNicknameResponse {\r\n	optional uint32 eresult = 1;\r\n}\r\n\r\nmessage CMsgClientLicenseList {\r\n	message License {\r\n		optional uint32 package_id = 1;\r\n		optional fixed32 time_created = 2;\r\n		optional fixed32 time_next_process = 3;\r\n		optional int32 minute_limit = 4;\r\n		optional int32 minutes_used = 5;\r\n		optional uint32 payment_method = 6;\r\n		optional uint32 flags = 7;\r\n		optional string purchase_country_code = 8;\r\n		optional uint32 license_type = 9;\r\n		optional int32 territory_code = 10;\r\n		optional int32 change_number = 11;\r\n		optional uint32 owner_id = 12;\r\n	}\r\n\r\n	optional int32 eresult = 1 [default = 2];\r\n	repeated .CMsgClientLicenseList.License licenses = 2;\r\n}\r\n\r\nmessage CMsgClientLBSSetScore {\r\n	optional uint32 app_id = 1;\r\n	optional int32 leaderboard_id = 2;\r\n	optional int32 score = 3;\r\n	optional bytes details = 4;\r\n	optional int32 upload_score_method = 5;\r\n}\r\n\r\nmessage CMsgClientLBSSetScoreResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional int32 leaderboard_entry_count = 2;\r\n	optional bool score_changed = 3;\r\n	optional int32 global_rank_previous = 4;\r\n	optional int32 global_rank_new = 5;\r\n}\r\n\r\nmessage CMsgClientLBSSetUGC {\r\n	optional uint32 app_id = 1;\r\n	optional int32 leaderboard_id = 2;\r\n	optional fixed64 ugc_id = 3;\r\n}\r\n\r\nmessage CMsgClientLBSSetUGCResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n}\r\n\r\nmessage CMsgClientLBSFindOrCreateLB {\r\n	optional uint32 app_id = 1;\r\n	optional int32 leaderboard_sort_method = 2;\r\n	optional int32 leaderboard_display_type = 3;\r\n	optional bool create_if_not_found = 4;\r\n	optional string leaderboard_name = 5;\r\n}\r\n\r\nmessage CMsgClientLBSFindOrCreateLBResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional int32 leaderboard_id = 2;\r\n	optional int32 leaderboard_entry_count = 3;\r\n	optional int32 leaderboard_sort_method = 4 [default = 0];\r\n	optional int32 leaderboard_display_type = 5 [default = 0];\r\n	optional string leaderboard_name = 6;\r\n}\r\n\r\nmessage CMsgClientLBSGetLBEntries {\r\n	optional int32 app_id = 1;\r\n	optional int32 leaderboard_id = 2;\r\n	optional int32 range_start = 3;\r\n	optional int32 range_end = 4;\r\n	optional int32 leaderboard_data_request = 5;\r\n	repeated fixed64 steamids = 6;\r\n}\r\n\r\nmessage CMsgClientLBSGetLBEntriesResponse {\r\n	message Entry {\r\n		optional fixed64 steam_id_user = 1;\r\n		optional int32 global_rank = 2;\r\n		optional int32 score = 3;\r\n		optional bytes details = 4;\r\n		optional fixed64 ugc_id = 5;\r\n	}\r\n\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional int32 leaderboard_entry_count = 2;\r\n	repeated .CMsgClientLBSGetLBEntriesResponse.Entry entries = 3;\r\n}\r\n\r\nmessage CMsgClientAccountInfo {\r\n	optional string persona_name = 1;\r\n	optional string ip_country = 2;\r\n	optional bytes salt_password = 3;\r\n	optional bytes sha_digest_Password = 4;\r\n	optional int32 count_authed_computers = 5;\r\n	optional bool locked_with_ipt = 6;\r\n	optional uint32 account_flags = 7;\r\n	optional uint64 facebook_id = 8;\r\n	optional string facebook_name = 9;\r\n	optional int32 steam_guard_provider = 10;\r\n	optional bool steamguard_require_code_default = 11;\r\n	optional bool steamguard_show_providers = 12;\r\n	optional bool steamguard_can_use_mobile_provider = 13;\r\n	optional bool steamguard_notify_newmachines = 14;\r\n	optional string steamguard_machine_name_user_chosen = 15;\r\n}\r\n\r\nmessage CMsgClientAppMinutesPlayedData {\r\n	message AppMinutesPlayedData {\r\n		optional uint32 app_id = 1;\r\n		optional int32 forever = 2;\r\n		optional int32 last_two_weeks = 3;\r\n	}\r\n\r\n	repeated .CMsgClientAppMinutesPlayedData.AppMinutesPlayedData minutes_played = 1;\r\n}\r\n\r\nmessage CMsgClientIsLimitedAccount {\r\n	optional bool bis_limited_account = 1;\r\n	optional bool bis_community_banned = 2;\r\n	optional bool bis_locked_account = 3;\r\n	optional bool bis_limited_account_allowed_to_invite_friends = 4;\r\n}\r\n\r\nmessage CMsgClientRequestFriendData {\r\n	optional uint32 persona_state_requested = 1;\r\n	repeated fixed64 friends = 2;\r\n}\r\n\r\nmessage CMsgClientChangeStatus {\r\n	optional uint32 persona_state = 1;\r\n	optional string player_name = 2;\r\n	optional bool is_auto_generated_name = 3;\r\n	optional bool high_priority = 4;\r\n	optional bool persona_set_by_user = 5;\r\n}\r\n\r\nmessage CMsgPersonaChangeResponse {\r\n	optional uint32 result = 1;\r\n	optional string player_name = 2;\r\n}\r\n\r\nmessage CMsgClientPersonaState {\r\n	message Friend {\r\n		optional fixed64 friendid = 1;\r\n		optional uint32 persona_state = 2;\r\n		optional uint32 game_played_app_id = 3;\r\n		optional uint32 game_server_ip = 4;\r\n		optional uint32 game_server_port = 5;\r\n		optional uint32 persona_state_flags = 6;\r\n		optional uint32 online_session_instances = 7;\r\n		optional uint32 published_instance_id = 8;\r\n		optional bool persona_set_by_user = 10;\r\n		optional string player_name = 15;\r\n		optional uint32 query_port = 20;\r\n		optional fixed64 steamid_source = 25;\r\n		optional bytes avatar_hash = 31;\r\n		optional uint32 last_logoff = 45;\r\n		optional uint32 last_logon = 46;\r\n		optional uint32 clan_rank = 50;\r\n		optional string game_name = 55;\r\n		optional fixed64 gameid = 56;\r\n		optional bytes game_data_blob = 60;\r\n		optional string clan_tag = 65;\r\n		optional string facebook_name = 66;\r\n		optional uint64 facebook_id = 67;\r\n	}\r\n\r\n	optional uint32 status_flags = 1;\r\n	repeated .CMsgClientPersonaState.Friend friends = 2;\r\n}\r\n\r\nmessage CMsgClientFriendProfileInfo {\r\n	optional fixed64 steamid_friend = 1;\r\n}\r\n\r\nmessage CMsgClientFriendProfileInfoResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional fixed64 steamid_friend = 2;\r\n	optional uint32 time_created = 3;\r\n	optional string real_name = 4;\r\n	optional string city_name = 5;\r\n	optional string state_name = 6;\r\n	optional string country_name = 7;\r\n	optional string headline = 8;\r\n	optional string summary = 9;\r\n}\r\n\r\nmessage CMsgClientServerList {\r\n	message Server {\r\n		optional uint32 server_type = 1;\r\n		optional uint32 server_ip = 2;\r\n		optional uint32 server_port = 3;\r\n	}\r\n\r\n	repeated .CMsgClientServerList.Server servers = 1;\r\n}\r\n\r\nmessage CMsgClientRequestedClientStats {\r\n	message StatsToSend {\r\n		optional uint32 client_stat = 1;\r\n		optional uint32 stat_aggregate_method = 2;\r\n	}\r\n\r\n	repeated .CMsgClientRequestedClientStats.StatsToSend stats_to_send = 1;\r\n}\r\n\r\nmessage CMsgClientStat2 {\r\n	message StatDetail {\r\n		optional uint32 client_stat = 1;\r\n		optional int64 ll_value = 2;\r\n		optional uint32 time_of_day = 3;\r\n		optional uint32 cell_id = 4;\r\n		optional uint32 depot_id = 5;\r\n		optional uint32 app_id = 6;\r\n	}\r\n\r\n	repeated .CMsgClientStat2.StatDetail stat_detail = 1;\r\n}\r\n\r\nmessage CMsgClientMMSCreateLobby {\r\n	optional uint32 app_id = 1;\r\n	optional int32 max_members = 2;\r\n	optional int32 lobby_type = 3;\r\n	optional int32 lobby_flags = 4;\r\n	optional uint32 cell_id = 5;\r\n	optional uint32 public_ip = 6;\r\n	optional bytes metadata = 7;\r\n	optional string persona_name_owner = 8;\r\n}\r\n\r\nmessage CMsgClientMMSCreateLobbyResponse {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional int32 eresult = 3 [default = 2];\r\n}\r\n\r\nmessage CMsgClientMMSJoinLobby {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional string persona_name = 3;\r\n}\r\n\r\nmessage CMsgClientMMSJoinLobbyResponse {\r\n	message Member {\r\n		optional fixed64 steam_id = 1;\r\n		optional string persona_name = 2;\r\n		optional bytes metadata = 3;\r\n	}\r\n\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional int32 chat_room_enter_response = 3;\r\n	optional int32 max_members = 4;\r\n	optional int32 lobby_type = 5;\r\n	optional int32 lobby_flags = 6;\r\n	optional fixed64 steam_id_owner = 7;\r\n	optional bytes metadata = 8;\r\n	repeated .CMsgClientMMSJoinLobbyResponse.Member members = 9;\r\n}\r\n\r\nmessage CMsgClientMMSLeaveLobby {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n}\r\n\r\nmessage CMsgClientMMSLeaveLobbyResponse {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional int32 eresult = 3 [default = 2];\r\n}\r\n\r\nmessage CMsgClientMMSGetLobbyList {\r\n	message Filter {\r\n		optional string key = 1;\r\n		optional string value = 2;\r\n		optional int32 comparision = 3;\r\n		optional int32 filter_type = 4;\r\n	}\r\n\r\n	optional uint32 app_id = 1;\r\n	optional int32 num_lobbies_requested = 3;\r\n	optional uint32 cell_id = 4;\r\n	optional uint32 public_ip = 5;\r\n	repeated .CMsgClientMMSGetLobbyList.Filter filters = 6;\r\n}\r\n\r\nmessage CMsgClientMMSGetLobbyListResponse {\r\n	message Lobby {\r\n		optional fixed64 steam_id = 1;\r\n		optional int32 max_members = 2;\r\n		optional int32 lobby_type = 3;\r\n		optional int32 lobby_flags = 4;\r\n		optional bytes metadata = 5;\r\n		optional int32 num_members = 6;\r\n		optional float distance = 7;\r\n		optional int64 weight = 8;\r\n	}\r\n\r\n	optional uint32 app_id = 1;\r\n	optional int32 eresult = 3 [default = 2];\r\n	repeated .CMsgClientMMSGetLobbyListResponse.Lobby lobbies = 4;\r\n}\r\n\r\nmessage CMsgClientMMSSetLobbyData {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional fixed64 steam_id_member = 3;\r\n	optional int32 max_members = 4;\r\n	optional int32 lobby_type = 5;\r\n	optional int32 lobby_flags = 6;\r\n	optional bytes metadata = 7;\r\n}\r\n\r\nmessage CMsgClientMMSSetLobbyDataResponse {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional int32 eresult = 3 [default = 2];\r\n}\r\n\r\nmessage CMsgClientMMSGetLobbyData {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n}\r\n\r\nmessage CMsgClientMMSLobbyData {\r\n	message Member {\r\n		optional fixed64 steam_id = 1;\r\n		optional string persona_name = 2;\r\n		optional bytes metadata = 3;\r\n	}\r\n\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional int32 num_members = 3;\r\n	optional int32 max_members = 4;\r\n	optional int32 lobby_type = 5;\r\n	optional int32 lobby_flags = 6;\r\n	optional fixed64 steam_id_owner = 7;\r\n	optional bytes metadata = 8;\r\n	repeated .CMsgClientMMSLobbyData.Member members = 9;\r\n	optional uint32 lobby_cellid = 10;\r\n}\r\n\r\nmessage CMsgClientMMSSendLobbyChatMsg {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional fixed64 steam_id_target = 3;\r\n	optional bytes lobby_message = 4;\r\n}\r\n\r\nmessage CMsgClientMMSLobbyChatMsg {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional fixed64 steam_id_sender = 3;\r\n	optional bytes lobby_message = 4;\r\n}\r\n\r\nmessage CMsgClientMMSSetLobbyOwner {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional fixed64 steam_id_new_owner = 3;\r\n}\r\n\r\nmessage CMsgClientMMSSetLobbyOwnerResponse {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional int32 eresult = 3 [default = 2];\r\n}\r\n\r\nmessage CMsgClientMMSSetLobbyLinked {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional fixed64 steam_id_lobby2 = 3;\r\n}\r\n\r\nmessage CMsgClientMMSSetLobbyGameServer {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional uint32 game_server_ip = 3;\r\n	optional uint32 game_server_port = 4;\r\n	optional fixed64 game_server_steam_id = 5;\r\n}\r\n\r\nmessage CMsgClientMMSLobbyGameServerSet {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional uint32 game_server_ip = 3;\r\n	optional uint32 game_server_port = 4;\r\n	optional fixed64 game_server_steam_id = 5;\r\n}\r\n\r\nmessage CMsgClientMMSUserJoinedLobby {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional fixed64 steam_id_user = 3;\r\n	optional string persona_name = 4;\r\n}\r\n\r\nmessage CMsgClientMMSUserLeftLobby {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional fixed64 steam_id_user = 3;\r\n	optional string persona_name = 4;\r\n}\r\n\r\nmessage CMsgClientMMSInviteToLobby {\r\n	optional uint32 app_id = 1;\r\n	optional fixed64 steam_id_lobby = 2;\r\n	optional fixed64 steam_id_user_invited = 3;\r\n}\r\n\r\nmessage CMsgClientUDSInviteToGame {\r\n	optional fixed64 steam_id_dest = 1;\r\n	optional fixed64 steam_id_src = 2;\r\n	optional string connect_string = 3;\r\n}\r\n\r\nmessage CMsgClientChatInvite {\r\n	optional fixed64 steam_id_invited = 1;\r\n	optional fixed64 steam_id_chat = 2;\r\n	optional fixed64 steam_id_patron = 3;\r\n	optional int32 chatroom_type = 4;\r\n	optional fixed64 steam_id_friend_chat = 5;\r\n	optional string chat_name = 6;\r\n	optional fixed64 game_id = 7;\r\n}\r\n\r\nmessage CMsgClientConnectionStats {\r\n	message Stats_Logon {\r\n		optional int32 connect_attempts = 1;\r\n		optional int32 connect_successes = 2;\r\n		optional int32 connect_failures = 3;\r\n		optional int32 connections_dropped = 4;\r\n		optional uint32 seconds_running = 5;\r\n		optional uint32 msec_tologonthistime = 6;\r\n		optional uint32 count_bad_cms = 7;\r\n	}\r\n\r\n	message Stats_UDP {\r\n		optional uint64 pkts_sent = 1;\r\n		optional uint64 bytes_sent = 2;\r\n		optional uint64 pkts_recv = 3;\r\n		optional uint64 pkts_processed = 4;\r\n		optional uint64 bytes_recv = 5;\r\n	}\r\n\r\n	message Stats_VConn {\r\n		optional uint32 connections_udp = 1;\r\n		optional uint32 connections_tcp = 2;\r\n		optional .CMsgClientConnectionStats.Stats_UDP stats_udp = 3;\r\n		optional uint64 pkts_abandoned = 4;\r\n		optional uint64 conn_req_received = 5;\r\n		optional uint64 pkts_resent = 6;\r\n		optional uint64 msgs_sent = 7;\r\n		optional uint64 msgs_sent_failed = 8;\r\n		optional uint64 msgs_recv = 9;\r\n		optional uint64 datagrams_sent = 10;\r\n		optional uint64 datagrams_recv = 11;\r\n		optional uint64 bad_pkts_recv = 12;\r\n		optional uint64 unknown_conn_pkts_recv = 13;\r\n		optional uint64 missed_pkts_recv = 14;\r\n		optional uint64 dup_pkts_recv = 15;\r\n		optional uint64 failed_connect_challenges = 16;\r\n		optional uint32 micro_sec_avg_latency = 17;\r\n		optional uint32 micro_sec_min_latency = 18;\r\n		optional uint32 micro_sec_max_latency = 19;\r\n		optional uint32 mem_pool_msg_in_use = 20;\r\n	}\r\n\r\n	optional .CMsgClientConnectionStats.Stats_Logon stats_logon = 1;\r\n	optional .CMsgClientConnectionStats.Stats_VConn stats_vconn = 2;\r\n}\r\n\r\nmessage CMsgClientServersAvailable {\r\n	message Server_Types_Available {\r\n		optional uint32 server = 1;\r\n		optional bool changed = 2;\r\n	}\r\n\r\n	repeated .CMsgClientServersAvailable.Server_Types_Available server_types_available = 1;\r\n	optional uint32 server_type_for_auth_services = 2;\r\n}\r\n\r\nmessage CMsgClientGetUserStats {\r\n	optional fixed64 game_id = 1;\r\n	optional uint32 crc_stats = 2;\r\n	optional int32 schema_local_version = 3;\r\n	optional fixed64 steam_id_for_user = 4;\r\n}\r\n\r\nmessage CMsgClientGetUserStatsResponse {\r\n	message Stats {\r\n		optional uint32 stat_id = 1;\r\n		optional uint32 stat_value = 2;\r\n	}\r\n\r\n	message Achievement_Blocks {\r\n		optional uint32 achievement_id = 1;\r\n		repeated fixed32 unlock_time = 2;\r\n	}\r\n\r\n	optional fixed64 game_id = 1;\r\n	optional int32 eresult = 2 [default = 2];\r\n	optional uint32 crc_stats = 3;\r\n	optional bytes schema = 4;\r\n	repeated .CMsgClientGetUserStatsResponse.Stats stats = 5;\r\n	repeated .CMsgClientGetUserStatsResponse.Achievement_Blocks achievement_blocks = 6;\r\n}\r\n\r\nmessage CMsgClientStoreUserStatsResponse {\r\n	message Stats_Failed_Validation {\r\n		optional uint32 stat_id = 1;\r\n		optional uint32 reverted_stat_value = 2;\r\n	}\r\n\r\n	optional fixed64 game_id = 1;\r\n	optional int32 eresult = 2 [default = 2];\r\n	optional uint32 crc_stats = 3;\r\n	repeated .CMsgClientStoreUserStatsResponse.Stats_Failed_Validation stats_failed_validation = 4;\r\n	optional bool stats_out_of_date = 5;\r\n}\r\n\r\nmessage CMsgClientStoreUserStats2 {\r\n	message Stats {\r\n		optional uint32 stat_id = 1;\r\n		optional uint32 stat_value = 2;\r\n	}\r\n\r\n	optional fixed64 game_id = 1;\r\n	optional fixed64 settor_steam_id = 2;\r\n	optional fixed64 settee_steam_id = 3;\r\n	optional uint32 crc_stats = 4;\r\n	optional bool explicit_reset = 5;\r\n	repeated .CMsgClientStoreUserStats2.Stats stats = 6;\r\n}\r\n\r\nmessage CMsgClientStatsUpdated {\r\n	message Updated_Stats {\r\n		optional uint32 stat_id = 1;\r\n		optional uint32 stat_value = 2;\r\n	}\r\n\r\n	optional fixed64 steam_id = 1;\r\n	optional fixed64 game_id = 2;\r\n	optional uint32 crc_stats = 3;\r\n	repeated .CMsgClientStatsUpdated.Updated_Stats updated_stats = 4;\r\n}\r\n\r\nmessage CMsgClientStoreUserStats {\r\n	message Stats_To_Store {\r\n		optional uint32 stat_id = 1;\r\n		optional uint32 stat_value = 2;\r\n	}\r\n\r\n	optional fixed64 game_id = 1;\r\n	optional bool explicit_reset = 2;\r\n	repeated .CMsgClientStoreUserStats.Stats_To_Store stats_to_store = 3;\r\n}\r\n\r\nmessage CMsgClientGetClientDetails {\r\n}\r\n\r\nmessage CMsgClientReportOverlayDetourFailure {\r\n	repeated string failure_strings = 1;\r\n}\r\n\r\nmessage CMsgClientGetClientDetailsResponse {\r\n	message Game {\r\n		optional uint32 appid = 1;\r\n		optional string extra_info = 2;\r\n		optional uint32 time_running_sec = 3;\r\n	}\r\n\r\n	optional uint32 package_version = 1;\r\n	optional uint32 protocol_version = 8;\r\n	optional string os = 2;\r\n	optional string machine_name = 3;\r\n	optional string ip_public = 4;\r\n	optional string ip_private = 5;\r\n	optional uint64 bytes_available = 7;\r\n	repeated .CMsgClientGetClientDetailsResponse.Game games_running = 6;\r\n}\r\n\r\nmessage CMsgClientGetClientAppList {\r\n	optional bool media = 1;\r\n	optional bool tools = 2;\r\n	optional bool games = 3;\r\n	optional bool only_installed = 4;\r\n	optional bool only_changing = 5;\r\n}\r\n\r\nmessage CMsgClientGetClientAppListResponse {\r\n	message App {\r\n		message DLC {\r\n			optional uint32 appid = 1;\r\n			optional bool installed = 2;\r\n		}\r\n\r\n		optional uint32 appid = 1;\r\n		optional string category = 2;\r\n		optional string app_type = 10;\r\n		optional bool favorite = 3;\r\n		optional bool installed = 4;\r\n		optional bool auto_update = 5;\r\n		optional uint64 bytes_downloaded = 6;\r\n		optional uint64 bytes_needed = 7;\r\n		optional uint32 bytes_download_rate = 8;\r\n		optional bool download_paused = 11;\r\n		optional uint32 num_downloading = 12;\r\n		optional uint32 num_paused = 13;\r\n		optional bool changing = 14;\r\n		optional bool available_on_platform = 15;\r\n		repeated .CMsgClientGetClientAppListResponse.App.DLC dlcs = 9;\r\n	}\r\n\r\n	repeated .CMsgClientGetClientAppListResponse.App apps = 1;\r\n	optional uint64 bytes_available = 2;\r\n}\r\n\r\nmessage CMsgClientInstallClientApp {\r\n	optional uint32 appid = 1;\r\n}\r\n\r\nmessage CMsgClientInstallClientAppResponse {\r\n	optional uint32 result = 1;\r\n}\r\n\r\nmessage CMsgClientUninstallClientApp {\r\n	optional uint32 appid = 1;\r\n}\r\n\r\nmessage CMsgClientUninstallClientAppResponse {\r\n	optional uint32 result = 1;\r\n}\r\n\r\nmessage CMsgClientSetClientAppUpdateState {\r\n	optional uint32 appid = 1;\r\n	optional bool update = 2;\r\n}\r\n\r\nmessage CMsgClientSetClientAppUpdateStateResponse {\r\n	optional uint32 result = 1;\r\n}\r\n\r\nmessage CMsgClientUFSUploadFileRequest {\r\n	optional uint32 app_id = 1;\r\n	optional uint32 file_size = 2;\r\n	optional uint32 raw_file_size = 3;\r\n	optional bytes sha_file = 4;\r\n	optional uint64 time_stamp = 5;\r\n	optional string file_name = 6;\r\n	optional uint32 platforms_to_sync_deprecated = 7;\r\n	optional uint32 platforms_to_sync = 8 [default = 4294967295];\r\n	optional uint32 cell_id = 9;\r\n	optional bool can_encrypt = 10;\r\n}\r\n\r\nmessage CMsgClientUFSUploadFileResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional bytes sha_file = 2;\r\n	optional bool use_http = 3;\r\n	optional string http_host = 4;\r\n	optional string http_url = 5;\r\n	optional bytes kv_headers = 6;\r\n	optional bool use_https = 7;\r\n	optional bool encrypt_file = 8;\r\n}\r\n\r\nmessage CMsgClientUFSUploadCommit {\r\n	message File {\r\n		optional int32 eresult = 1 [default = 2];\r\n		optional uint32 app_id = 2;\r\n		optional bytes sha_file = 3;\r\n		optional uint32 cub_file = 4;\r\n		optional string file_name = 5;\r\n	}\r\n\r\n	repeated .CMsgClientUFSUploadCommit.File files = 1;\r\n}\r\n\r\nmessage CMsgClientUFSUploadCommitResponse {\r\n	message File {\r\n		optional int32 eresult = 1 [default = 2];\r\n		optional uint32 app_id = 2;\r\n		optional bytes sha_file = 3;\r\n	}\r\n\r\n	repeated .CMsgClientUFSUploadCommitResponse.File files = 1;\r\n}\r\n\r\nmessage CMsgClientUFSFileChunk {\r\n	optional bytes sha_file = 1;\r\n	optional uint32 file_start = 2;\r\n	optional bytes data = 3;\r\n}\r\n\r\nmessage CMsgClientUFSTransferHeartbeat {\r\n}\r\n\r\nmessage CMsgClientUFSUploadFileFinished {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional bytes sha_file = 2;\r\n}\r\n\r\nmessage CMsgClientUFSDeleteFileRequest {\r\n	optional uint32 app_id = 1;\r\n	optional string file_name = 2;\r\n	optional bool is_explicit_delete = 3;\r\n}\r\n\r\nmessage CMsgClientUFSDeleteFileResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional string file_name = 2;\r\n}\r\n\r\nmessage CMsgClientUFSGetFileListForApp {\r\n	repeated uint32 apps_to_query = 1;\r\n	optional bool send_path_prefixes = 2;\r\n}\r\n\r\nmessage CMsgClientUFSGetFileListForAppResponse {\r\n	option (msgpool_soft_limit) = 8;\r\n	option (msgpool_hard_limit) = 16;\r\n	message File {\r\n		optional uint32 app_id = 1;\r\n		optional string file_name = 2;\r\n		optional bytes sha_file = 3;\r\n		optional uint64 time_stamp = 4;\r\n		optional uint32 raw_file_size = 5;\r\n		optional bool is_explicit_delete = 6;\r\n		optional uint32 platforms_to_sync = 7;\r\n		optional uint32 path_prefix_index = 8;\r\n	}\r\n\r\n	repeated .CMsgClientUFSGetFileListForAppResponse.File files = 1;\r\n	repeated string path_prefixes = 2;\r\n}\r\n\r\nmessage CMsgClientUFSDownloadRequest {\r\n	optional uint32 app_id = 1;\r\n	optional string file_name = 2;\r\n	optional bool can_handle_http = 3;\r\n}\r\n\r\nmessage CMsgClientUFSDownloadResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional uint32 app_id = 2;\r\n	optional uint32 file_size = 3;\r\n	optional uint32 raw_file_size = 4;\r\n	optional bytes sha_file = 5;\r\n	optional uint64 time_stamp = 6;\r\n	optional bool is_explicit_delete = 7;\r\n	optional bool use_http = 8;\r\n	optional string http_host = 9;\r\n	optional string http_url = 10;\r\n	optional bytes kv_headers = 11;\r\n	optional bool use_https = 12;\r\n	optional bool encrypted = 13;\r\n}\r\n\r\nmessage CMsgClientUFSLoginRequest {\r\n	optional uint32 protocol_version = 1;\r\n	optional uint64 am_session_token = 2;\r\n	repeated uint32 apps = 3;\r\n}\r\n\r\nmessage CMsgClientUFSLoginResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n}\r\n\r\nmessage CMsgClientRequestEncryptedAppTicket {\r\n	optional uint32 app_id = 1;\r\n	optional bytes userdata = 2;\r\n}\r\n\r\nmessage CMsgClientRequestEncryptedAppTicketResponse {\r\n	optional uint32 app_id = 1;\r\n	optional int32 eresult = 2 [default = 2];\r\n	optional .EncryptedAppTicket encrypted_app_ticket = 3;\r\n}\r\n\r\nmessage CMsgClientWalletInfoUpdate {\r\n	optional bool has_wallet = 1;\r\n	optional int32 balance = 2;\r\n	optional int32 currency = 3;\r\n}\r\n\r\nmessage CMsgClientAppInfoUpdate {\r\n	optional uint32 last_changenumber = 1;\r\n	optional bool send_changelist = 2;\r\n}\r\n\r\nmessage CMsgClientAppInfoChanges {\r\n	optional uint32 current_change_number = 1;\r\n	optional bool force_full_update = 2;\r\n	repeated uint32 appIDs = 3;\r\n}\r\n\r\nmessage CMsgClientAppInfoRequest {\r\n	message App {\r\n		optional uint32 app_id = 1;\r\n		optional uint32 section_flags = 2;\r\n		repeated uint32 section_CRC = 3;\r\n	}\r\n\r\n	repeated .CMsgClientAppInfoRequest.App apps = 1;\r\n	optional bool supports_batches = 2 [default = false];\r\n}\r\n\r\nmessage CMsgClientAppInfoResponse {\r\n	option (msgpool_soft_limit) = 0;\r\n	option (msgpool_hard_limit) = 0;\r\n	message App {\r\n		message Section {\r\n			optional uint32 section_id = 1;\r\n			optional bytes section_kv = 2;\r\n		}\r\n\r\n		optional uint32 app_id = 1;\r\n		optional uint32 change_number = 2;\r\n		repeated .CMsgClientAppInfoResponse.App.Section sections = 3;\r\n	}\r\n\r\n	repeated .CMsgClientAppInfoResponse.App apps = 1;\r\n	repeated uint32 apps_unknown = 2;\r\n	optional uint32 apps_pending = 3;\r\n}\r\n\r\nmessage CMsgClientPackageInfoRequest {\r\n	repeated uint32 package_ids = 1;\r\n	optional bool meta_data_only = 2;\r\n}\r\n\r\nmessage CMsgClientPackageInfoResponse {\r\n	message Package {\r\n		optional uint32 package_id = 1;\r\n		optional uint32 change_number = 2;\r\n		optional bytes sha = 3;\r\n		optional bytes buffer = 4;\r\n	}\r\n\r\n	repeated .CMsgClientPackageInfoResponse.Package packages = 1;\r\n	repeated uint32 packages_unknown = 2;\r\n	optional uint32 packages_pending = 3;\r\n}\r\n\r\nmessage CMsgClientPICSChangesSinceRequest {\r\n	optional uint32 since_change_number = 1;\r\n	optional bool send_app_info_changes = 2;\r\n	optional bool send_package_info_changes = 3;\r\n}\r\n\r\nmessage CMsgClientPICSChangesSinceResponse {\r\n	message PackageChange {\r\n		optional uint32 packageid = 1;\r\n		optional uint32 change_number = 2;\r\n		optional bool needs_token = 3;\r\n	}\r\n\r\n	message AppChange {\r\n		optional uint32 appid = 1;\r\n		optional uint32 change_number = 2;\r\n		optional bool needs_token = 3;\r\n	}\r\n\r\n	optional uint32 current_change_number = 1;\r\n	optional uint32 since_change_number = 2;\r\n	optional bool force_full_update = 3;\r\n	repeated .CMsgClientPICSChangesSinceResponse.PackageChange package_changes = 4;\r\n	repeated .CMsgClientPICSChangesSinceResponse.AppChange app_changes = 5;\r\n}\r\n\r\nmessage CMsgClientPICSProductInfoRequest {\r\n	message AppInfo {\r\n		optional uint32 appid = 1;\r\n		optional uint64 access_token = 2;\r\n		optional bool only_public = 3;\r\n	}\r\n\r\n	message PackageInfo {\r\n		optional uint32 packageid = 1;\r\n		optional uint64 access_token = 2;\r\n	}\r\n\r\n	repeated .CMsgClientPICSProductInfoRequest.PackageInfo packages = 1;\r\n	repeated .CMsgClientPICSProductInfoRequest.AppInfo apps = 2;\r\n	optional bool meta_data_only = 3;\r\n	optional uint32 num_prev_failed = 4;\r\n}\r\n\r\nmessage CMsgClientPICSProductInfoResponse {\r\n	option (msgpool_soft_limit) = 0;\r\n	option (msgpool_hard_limit) = 0;\r\n	message AppInfo {\r\n		optional uint32 appid = 1;\r\n		optional uint32 change_number = 2;\r\n		optional bool missing_token = 3;\r\n		optional bytes sha = 4;\r\n		optional bytes buffer = 5;\r\n		optional bool only_public = 6;\r\n		optional uint32 size = 7;\r\n	}\r\n\r\n	message PackageInfo {\r\n		optional uint32 packageid = 1;\r\n		optional uint32 change_number = 2;\r\n		optional bool missing_token = 3;\r\n		optional bytes sha = 4;\r\n		optional bytes buffer = 5;\r\n		optional uint32 size = 6;\r\n	}\r\n\r\n	repeated .CMsgClientPICSProductInfoResponse.AppInfo apps = 1;\r\n	repeated uint32 unknown_appids = 2;\r\n	repeated .CMsgClientPICSProductInfoResponse.PackageInfo packages = 3;\r\n	repeated uint32 unknown_packageids = 4;\r\n	optional bool meta_data_only = 5;\r\n	optional bool response_pending = 6;\r\n	optional uint32 http_min_size = 7;\r\n	optional string http_host = 8;\r\n}\r\n\r\nmessage CMsgClientPICSAccessTokenRequest {\r\n	repeated uint32 packageids = 1;\r\n	repeated uint32 appids = 2;\r\n}\r\n\r\nmessage CMsgClientPICSAccessTokenResponse {\r\n	message PackageToken {\r\n		optional uint32 packageid = 1;\r\n		optional uint64 access_token = 2;\r\n	}\r\n\r\n	message AppToken {\r\n		optional uint32 appid = 1;\r\n		optional uint64 access_token = 2;\r\n	}\r\n\r\n	repeated .CMsgClientPICSAccessTokenResponse.PackageToken package_access_tokens = 1;\r\n	repeated uint32 package_denied_tokens = 2;\r\n	repeated .CMsgClientPICSAccessTokenResponse.AppToken app_access_tokens = 3;\r\n	repeated uint32 app_denied_tokens = 4;\r\n}\r\n\r\nmessage CMsgClientUFSGetUGCDetails {\r\n	optional fixed64 hcontent = 1 [default = 18446744073709551615];\r\n}\r\n\r\nmessage CMsgClientUFSGetUGCDetailsResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional string url = 2;\r\n	optional uint32 app_id = 3;\r\n	optional string filename = 4;\r\n	optional fixed64 steamid_creator = 5;\r\n	optional uint32 file_size = 6;\r\n	optional uint32 compressed_file_size = 7;\r\n	optional string rangecheck_host = 8;\r\n	optional string file_encoded_sha1 = 9;\r\n}\r\n\r\nmessage CMsgClientUFSGetSingleFileInfo {\r\n	optional uint32 app_id = 1;\r\n	optional string file_name = 2;\r\n}\r\n\r\nmessage CMsgClientUFSGetSingleFileInfoResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional uint32 app_id = 2;\r\n	optional string file_name = 3;\r\n	optional bytes sha_file = 4;\r\n	optional uint64 time_stamp = 5;\r\n	optional uint32 raw_file_size = 6;\r\n	optional bool is_explicit_delete = 7;\r\n}\r\n\r\nmessage CMsgClientUFSShareFile {\r\n	optional uint32 app_id = 1;\r\n	optional string file_name = 2;\r\n}\r\n\r\nmessage CMsgClientUFSShareFileResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional fixed64 hcontent = 2 [default = 18446744073709551615];\r\n}\r\n\r\nmessage CMsgClientNewLoginKey {\r\n	optional uint32 unique_id = 1;\r\n	optional string login_key = 2;\r\n}\r\n\r\nmessage CMsgClientNewLoginKeyAccepted {\r\n	optional uint32 unique_id = 1;\r\n}\r\n\r\nmessage CMsgClientAMGetClanOfficers {\r\n	optional fixed64 steamid_clan = 1;\r\n}\r\n\r\nmessage CMsgClientAMGetClanOfficersResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional fixed64 steamid_clan = 2;\r\n	optional int32 officer_count = 3;\r\n}\r\n\r\nmessage CMsgClientAMGetPersonaNameHistory {\r\n	message IdInstance {\r\n		optional fixed64 steamid = 1;\r\n	}\r\n\r\n	optional int32 id_count = 1;\r\n	repeated .CMsgClientAMGetPersonaNameHistory.IdInstance Ids = 2;\r\n}\r\n\r\nmessage CMsgClientAMGetPersonaNameHistoryResponse {\r\n	message NameTableInstance {\r\n		message NameInstance {\r\n			optional fixed32 name_since = 1;\r\n			optional string name = 2;\r\n		}\r\n\r\n		optional int32 eresult = 1 [default = 2];\r\n		optional fixed64 steamid = 2;\r\n		repeated .CMsgClientAMGetPersonaNameHistoryResponse.NameTableInstance.NameInstance names = 3;\r\n	}\r\n\r\n	repeated .CMsgClientAMGetPersonaNameHistoryResponse.NameTableInstance responses = 2;\r\n}\r\n\r\nmessage CMsgClientDeregisterWithServer {\r\n	optional uint32 eservertype = 1;\r\n	optional uint32 app_id = 2;\r\n}\r\n\r\nmessage CMsgClientClanState {\r\n	message NameInfo {\r\n		optional string clan_name = 1;\r\n		optional bytes sha_avatar = 2;\r\n	}\r\n\r\n	message UserCounts {\r\n		optional uint32 members = 1;\r\n		optional uint32 online = 2;\r\n		optional uint32 chatting = 3;\r\n		optional uint32 in_game = 4;\r\n	}\r\n\r\n	message Event {\r\n		optional fixed64 gid = 1;\r\n		optional uint32 event_time = 2;\r\n		optional string headline = 3;\r\n		optional fixed64 game_id = 4;\r\n		optional bool just_posted = 5;\r\n	}\r\n\r\n	optional fixed64 steamid_clan = 1;\r\n	optional uint32 m_unStatusFlags = 2;\r\n	optional uint32 clan_account_flags = 3;\r\n	optional .CMsgClientClanState.NameInfo name_info = 4;\r\n	optional .CMsgClientClanState.UserCounts user_counts = 5;\r\n	repeated .CMsgClientClanState.Event events = 6;\r\n	repeated .CMsgClientClanState.Event announcements = 7;\r\n}\r\n\r\nmessage CMsgClientFriendMsg {\r\n	optional fixed64 steamid = 1;\r\n	optional int32 chat_entry_type = 2;\r\n	optional bytes message = 3;\r\n	optional fixed32 rtime32_server_timestamp = 4;\r\n}\r\n\r\nmessage CMsgClientFriendMsgIncoming {\r\n	optional fixed64 steamid_from = 1;\r\n	optional int32 chat_entry_type = 2;\r\n	optional bool from_limited_account = 3;\r\n	optional bytes message = 4;\r\n	optional fixed32 rtime32_server_timestamp = 5;\r\n}\r\n\r\nmessage CMsgClientAddFriend {\r\n	optional fixed64 steamid_to_add = 1;\r\n	optional string accountname_or_email_to_add = 2;\r\n}\r\n\r\nmessage CMsgClientAddFriendResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional fixed64 steam_id_added = 2;\r\n	optional string persona_name_added = 3;\r\n}\r\n\r\nmessage CMsgClientRemoveFriend {\r\n	optional fixed64 friendid = 1;\r\n}\r\n\r\nmessage CMsgClientHideFriend {\r\n	optional fixed64 friendid = 1;\r\n	optional bool hide = 2;\r\n}\r\n\r\n',
"/node_modules/steam/resources/protobufs/steamclient/steammessages_base.proto":'import "google/protobuf/descriptor.proto";\r\n\r\noption optimize_for = SPEED;\r\noption cc_generic_services = false;\r\n\r\nextend .google.protobuf.MessageOptions {\r\n	optional int32 msgpool_soft_limit = 50000 [default = 32];\r\n	optional int32 msgpool_hard_limit = 50001 [default = 384];\r\n}\r\n\r\nmessage CMsgProtoBufHeader {\r\n	optional fixed64 steamid = 1;\r\n	optional int32 client_sessionid = 2;\r\n	optional uint32 routing_appid = 3;\r\n	optional fixed64 jobid_source = 10 [default = 18446744073709551615];\r\n	optional fixed64 jobid_target = 11 [default = 18446744073709551615];\r\n	optional string target_job_name = 12;\r\n	optional int32 seq_num = 24;\r\n	optional int32 eresult = 13 [default = 2];\r\n	optional string error_message = 14;\r\n	optional uint32 ip = 15;\r\n	optional uint32 auth_account_flags = 16;\r\n	optional uint32 token_source = 22;\r\n	optional bool admin_spoofing_user = 23;\r\n	optional int32 transport_error = 17 [default = 1];\r\n	optional uint64 messageid = 18 [default = 18446744073709551615];\r\n	optional uint32 publisher_group_id = 19;\r\n	optional uint32 sysid = 20;\r\n	optional uint64 trace_tag = 21;\r\n}\r\n\r\nmessage CMsgMulti {\r\n	optional uint32 size_unzipped = 1;\r\n	optional bytes message_body = 2;\r\n}\r\n\r\nmessage CMsgProtobufWrapped {\r\n	optional bytes message_body = 1;\r\n}\r\n\r\nmessage CMsgAuthTicket {\r\n	optional uint32 estate = 1;\r\n	optional uint32 eresult = 2 [default = 2];\r\n	optional fixed64 steamid = 3;\r\n	optional fixed64 gameid = 4;\r\n	optional uint32 h_steam_pipe = 5;\r\n	optional uint32 ticket_crc = 6;\r\n	optional bytes ticket = 7;\r\n}\r\n\r\nmessage CCDDBAppDetailCommon {\r\n	optional uint32 appid = 1;\r\n	optional string name = 2;\r\n	optional string icon = 3;\r\n	optional string logo = 4;\r\n	optional string logo_small = 5;\r\n	optional bool tool = 6;\r\n	optional bool demo = 7;\r\n	optional bool media = 8;\r\n	optional bool community_visible_stats = 9;\r\n	optional string friendly_name = 10;\r\n	optional string propagation = 11;\r\n	optional bool has_adult_content = 12;\r\n}\r\n\r\nmessage CMsgAppRights {\r\n	optional bool edit_info = 1;\r\n	optional bool publish = 2;\r\n	optional bool view_error_data = 3;\r\n	optional bool download = 4;\r\n	optional bool upload_cdkeys = 5;\r\n	optional bool generate_cdkeys = 6;\r\n	optional bool view_financials = 7;\r\n	optional bool manage_ceg = 8;\r\n	optional bool manage_signing = 9;\r\n	optional bool manage_cdkeys = 10;\r\n	optional bool edit_marketing = 11;\r\n	optional bool economy_support = 12;\r\n	optional bool economy_support_supervisor = 13;\r\n}\r\n\r\n',"/node_modules/steam/resources/protobufs/steamclient/encrypted_app_ticket.proto":"option optimize_for = SPEED;\r\noption cc_generic_services = false;\r\n\r\nmessage EncryptedAppTicket {\r\n	optional uint32 ticket_version_no = 1;\r\n	optional uint32 crc_encryptedticket = 2;\r\n	optional uint32 cb_encrypteduserdata = 3;\r\n	optional uint32 cb_encrypted_appownershipticket = 4;\r\n	optional bytes encrypted_ticket = 5;\r\n}\r\n\r\n","/node_modules/steam/resources/protobufs/steamclient/steammessages_clientserver_2.proto":'import "steammessages_base.proto";\nimport "encrypted_app_ticket.proto";\n\noption optimize_for = SPEED;\noption cc_generic_services = false;\n\nmessage CMsgClientUCMAddScreenshot {\n	message Tag {\n		optional string tag_name = 1;\n		optional string tag_value = 2;\n	}\n\n	optional uint32 appid = 1;\n	optional string filename = 2;\n	optional string thumbname = 3;\n	optional fixed32 rtime32_created = 4;\n	optional uint32 width = 5;\n	optional uint32 height = 6;\n	optional uint32 permissions = 7;\n	optional string caption = 8;\n	optional string shortcut_name = 9;\n	repeated .CMsgClientUCMAddScreenshot.Tag tag = 10;\n	repeated fixed64 tagged_steamid = 11;\n	optional bool spoiler_tag = 12;\n	repeated uint64 tagged_publishedfileid = 13;\n}\n\nmessage CMsgClientUCMAddScreenshotResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional fixed64 screenshotid = 2 [default = 18446744073709551615];\n}\n\nmessage CMsgClientUCMDeleteScreenshot {\n	optional fixed64 screenshotid = 1 [default = 18446744073709551615];\n}\n\nmessage CMsgClientUCMDeleteScreenshotResponse {\n	optional int32 eresult = 1 [default = 2];\n}\n\nmessage CMsgClientUCMPublishFile {\n	optional uint32 app_id = 1;\n	optional string file_name = 2;\n	optional string preview_file_name = 3;\n	optional uint32 consumer_app_id = 4;\n	optional string title = 5;\n	optional string description = 6;\n	repeated string tags = 8;\n	optional bool workshop_file = 9;\n	optional int32 visibility = 10;\n	optional uint32 file_type = 11;\n	optional string url = 12;\n	optional uint32 video_provider = 13;\n	optional string video_account_name = 14;\n	optional string video_identifier = 15;\n	optional bool in_progress = 16;\n}\n\nmessage CMsgClientUCMPublishFileResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional fixed64 published_file_id = 2 [default = 18446744073709551615];\n	optional bool needs_workshop_legal_agreement_acceptance = 3 [default = false];\n}\n\nmessage CMsgClientUCMUpdatePublishedFile {\n	optional uint32 app_id = 1;\n	optional fixed64 published_file_id = 2;\n	optional string file_name = 3;\n	optional string preview_file_name = 4;\n	optional string title = 5;\n	optional string description = 6;\n	repeated string tags = 7;\n	optional int32 visibility = 8;\n	optional bool update_file = 9;\n	optional bool update_preview_file = 10;\n	optional bool update_title = 11;\n	optional bool update_description = 12;\n	optional bool update_tags = 13;\n	optional bool update_visibility = 14;\n	optional string change_description = 15;\n	optional bool update_url = 16;\n	optional string url = 17;\n	optional bool update_content_manifest = 18;\n	optional fixed64 content_manifest = 19;\n}\n\nmessage CMsgClientUCMUpdatePublishedFileResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional bool needs_workshop_legal_agreement_acceptance = 2 [default = false];\n}\n\nmessage CMsgClientUCMDeletePublishedFile {\n	optional fixed64 published_file_id = 1;\n}\n\nmessage CMsgClientUCMDeletePublishedFileResponse {\n	optional int32 eresult = 1 [default = 2];\n}\n\nmessage CMsgClientUCMEnumerateUserPublishedFiles {\n	optional uint32 app_id = 1;\n	optional uint32 start_index = 2;\n	optional uint32 sort_order = 3;\n}\n\nmessage CMsgClientUCMEnumerateUserPublishedFilesResponse {\n	message PublishedFileId {\n		optional fixed64 published_file_id = 1;\n	}\n\n	optional int32 eresult = 1 [default = 2];\n	repeated .CMsgClientUCMEnumerateUserPublishedFilesResponse.PublishedFileId published_files = 2;\n	optional uint32 total_results = 3;\n}\n\nmessage CMsgClientUCMSubscribePublishedFile {\n	optional uint32 app_id = 1;\n	optional fixed64 published_file_id = 2;\n}\n\nmessage CMsgClientUCMSubscribePublishedFileResponse {\n	optional int32 eresult = 1 [default = 2];\n}\n\nmessage CMsgClientUCMEnumerateUserSubscribedFiles {\n	optional uint32 app_id = 1;\n	optional uint32 start_index = 2;\n	optional uint32 list_type = 3 [default = 1];\n	optional uint32 matching_file_type = 4 [default = 0];\n	optional uint32 count = 5 [default = 50];\n}\n\nmessage CMsgClientUCMEnumerateUserSubscribedFilesResponse {\n	message PublishedFileId {\n		optional fixed64 published_file_id = 1;\n		optional fixed32 rtime32_subscribed = 2 [default = 0];\n	}\n\n	optional int32 eresult = 1 [default = 2];\n	repeated .CMsgClientUCMEnumerateUserSubscribedFilesResponse.PublishedFileId subscribed_files = 2;\n	optional uint32 total_results = 3;\n}\n\nmessage CMsgClientUCMEnumerateUserSubscribedFilesWithUpdates {\n	optional uint32 app_id = 1;\n	optional uint32 start_index = 2;\n	optional fixed32 start_time = 3;\n}\n\nmessage CMsgClientUCMEnumerateUserSubscribedFilesWithUpdatesResponse {\n	message PublishedFileId {\n		optional fixed64 published_file_id = 1;\n		optional fixed32 rtime32_subscribed = 2 [default = 0];\n		optional uint32 appid = 3;\n		optional fixed64 file_hcontent = 4;\n		optional uint32 file_size = 5;\n		optional fixed32 rtime32_last_updated = 6;\n		optional bool is_depot_content = 7;\n	}\n\n	optional int32 eresult = 1 [default = 2];\n	repeated .CMsgClientUCMEnumerateUserSubscribedFilesWithUpdatesResponse.PublishedFileId subscribed_files = 2;\n	optional uint32 total_results = 3;\n}\n\nmessage CMsgClientUCMUnsubscribePublishedFile {\n	optional uint32 app_id = 1;\n	optional fixed64 published_file_id = 2;\n}\n\nmessage CMsgClientUCMUnsubscribePublishedFileResponse {\n	optional int32 eresult = 1 [default = 2];\n}\n\nmessage CMsgClientUCMPublishedFileSubscribed {\n	optional fixed64 published_file_id = 1;\n	optional uint32 app_id = 2;\n	optional fixed64 file_hcontent = 3;\n	optional uint32 file_size = 4;\n	optional uint32 rtime_subscribed = 5;\n	optional bool is_depot_content = 6;\n	optional uint32 rtime_updated = 7;\n}\n\nmessage CMsgClientUCMPublishedFileUnsubscribed {\n	optional fixed64 published_file_id = 1;\n	optional uint32 app_id = 2;\n}\n\nmessage CMsgClientUCMPublishedFileDeleted {\n	optional fixed64 published_file_id = 1;\n	optional uint32 app_id = 2;\n}\n\nmessage CMsgClientUCMPublishedFileUpdated {\n	optional fixed64 published_file_id = 1;\n	optional uint32 app_id = 2;\n	optional uint32 time_updated = 3;\n	optional fixed64 hcontent = 4;\n	optional fixed32 file_size = 5;\n	optional bool is_depot_content = 6;\n}\n\nmessage CMsgClientWorkshopItemChangesRequest {\n	optional uint32 app_id = 1;\n	optional uint32 num_items_installed = 2;\n	optional fixed64 last_updated_item_id = 3;\n	optional uint32 time_updated_time = 4;\n}\n\nmessage CMsgClientWorkshopItemChangesResponse {\n	message WorkshopItem {\n		optional fixed64 published_file_id = 1;\n		optional uint32 time_updated = 2;\n	}\n\n	repeated .CMsgClientWorkshopItemChangesResponse.WorkshopItem workshop_items = 1;\n	optional bool request_full_update = 2;\n	optional fixed64 last_updated_item_id = 3;\n	optional uint32 time_updated_time = 4;\n}\n\nmessage CMsgClientWorkshopItemInfoRequest {\n	message WorkshopItem {\n		optional fixed64 published_file_id = 1;\n		optional uint32 time_updated = 2;\n	}\n\n	optional uint32 app_id = 1;\n	optional uint32 last_time_updated = 2;\n	repeated .CMsgClientWorkshopItemInfoRequest.WorkshopItem workshop_items = 3;\n}\n\nmessage CMsgClientWorkshopItemInfoResponse {\n	message WorkshopItemInfo {\n		optional fixed64 published_file_id = 1;\n		optional uint32 time_updated = 2;\n		optional fixed64 manifest_id = 3;\n	}\n\n	optional int32 eresult = 1 [default = 2];\n	optional uint32 update_time = 2;\n	repeated .CMsgClientWorkshopItemInfoResponse.WorkshopItemInfo workshop_items = 3;\n	repeated fixed64 failed_items = 4;\n}\n\nmessage CMsgClientUCMGetPublishedFilesForUser {\n	optional uint32 app_id = 1;\n	optional fixed64 creator_steam_id = 2;\n	repeated string required_tags = 3;\n	repeated string excluded_tags = 4;\n	optional uint32 start_index = 5;\n}\n\nmessage CMsgClientUCMGetPublishedFilesForUserResponse {\n	message PublishedFileId {\n		optional fixed64 published_file_id = 1;\n	}\n\n	optional int32 eresult = 1 [default = 2];\n	repeated .CMsgClientUCMGetPublishedFilesForUserResponse.PublishedFileId published_files = 2;\n	optional uint32 total_results = 3;\n}\n\nmessage CMsgClientUCMSetUserPublishedFileAction {\n	optional fixed64 published_file_id = 1;\n	optional uint32 app_id = 2;\n	optional int32 action = 3;\n}\n\nmessage CMsgClientUCMSetUserPublishedFileActionResponse {\n	optional int32 eresult = 1 [default = 2];\n}\n\nmessage CMsgClientUCMEnumeratePublishedFilesByUserAction {\n	optional uint32 app_id = 1;\n	optional uint32 start_index = 2;\n	optional int32 action = 3;\n}\n\nmessage CMsgClientUCMEnumeratePublishedFilesByUserActionResponse {\n	message PublishedFileId {\n		optional fixed64 published_file_id = 1;\n		optional fixed32 rtime_time_stamp = 2 [default = 0];\n	}\n\n	optional int32 eresult = 1 [default = 2];\n	repeated .CMsgClientUCMEnumeratePublishedFilesByUserActionResponse.PublishedFileId published_files = 2;\n	optional uint32 total_results = 3;\n}\n\nmessage CMsgClientScreenshotsChanged {\n}\n\nmessage CMsgClientUpdateUserGameInfo {\n	optional fixed64 steamid_idgs = 1;\n	optional fixed64 gameid = 2;\n	optional uint32 game_ip = 3;\n	optional uint32 game_port = 4;\n	optional bytes token = 5;\n}\n\nmessage CMsgClientRichPresenceUpload {\n	optional bytes rich_presence_kv = 1;\n	repeated fixed64 steamid_broadcast = 2;\n}\n\nmessage CMsgClientRichPresenceRequest {\n	repeated fixed64 steamid_request = 1;\n}\n\nmessage CMsgClientRichPresenceInfo {\n	message RichPresence {\n		optional fixed64 steamid_user = 1;\n		optional bytes rich_presence_kv = 2;\n	}\n\n	repeated .CMsgClientRichPresenceInfo.RichPresence rich_presence = 1;\n}\n\nmessage CMsgClientCheckFileSignature {\n	optional uint32 app_id = 1;\n}\n\nmessage CMsgClientCheckFileSignatureResponse {\n	optional uint32 app_id = 1;\n	optional uint32 pid = 2;\n	optional uint32 eresult = 3;\n	optional string filename = 4;\n	optional uint32 esignatureresult = 5;\n	optional bytes sha_file = 6;\n	optional bytes signatureheader = 7;\n	optional uint32 filesize = 8;\n	optional uint32 getlasterror = 9;\n	optional uint32 evalvesignaturecheckdetail = 10;\n}\n\nmessage CMsgClientReadMachineAuth {\n	optional string filename = 1;\n	optional uint32 offset = 2;\n	optional uint32 cubtoread = 3;\n}\n\nmessage CMsgClientReadMachineAuthResponse {\n	optional string filename = 1;\n	optional uint32 eresult = 2;\n	optional uint32 filesize = 3;\n	optional bytes sha_file = 4;\n	optional uint32 getlasterror = 5;\n	optional uint32 offset = 6;\n	optional uint32 cubread = 7;\n	optional bytes bytes_read = 8;\n	optional string filename_sentry = 9;\n}\n\nmessage CMsgClientUpdateMachineAuth {\n	optional string filename = 1;\n	optional uint32 offset = 2;\n	optional uint32 cubtowrite = 3;\n	optional bytes bytes = 4;\n	optional uint32 otp_type = 5;\n	optional string otp_identifier = 6;\n	optional bytes otp_sharedsecret = 7;\n	optional uint32 otp_timedrift = 8;\n}\n\nmessage CMsgClientUpdateMachineAuthResponse {\n	optional string filename = 1;\n	optional uint32 eresult = 2;\n	optional uint32 filesize = 3;\n	optional bytes sha_file = 4;\n	optional uint32 getlasterror = 5;\n	optional uint32 offset = 6;\n	optional uint32 cubwrote = 7;\n	optional int32 otp_type = 8;\n	optional uint32 otp_value = 9;\n	optional string otp_identifier = 10;\n}\n\nmessage CMsgClientRequestMachineAuth {\n	optional string filename = 1;\n	optional uint32 eresult_sentryfile = 2;\n	optional uint32 filesize = 3;\n	optional bytes sha_sentryfile = 4;\n	optional int32 lock_account_action = 6;\n	optional uint32 otp_type = 7;\n	optional string otp_identifier = 8;\n	optional bytes otp_sharedsecret = 9;\n	optional uint32 otp_value = 10;\n	optional string machine_name = 11;\n	optional string machine_name_userchosen = 12;\n}\n\nmessage CMsgClientRequestMachineAuthResponse {\n	optional uint32 eresult = 1;\n}\n\nmessage CMsgClientChangeSteamGuardOptions {\n	optional uint32 steamguard_provider = 1;\n	optional uint32 steamguard_require_code_default = 2;\n	optional string machine_name = 3;\n	optional string machine_name_userchosen = 4;\n}\n\nmessage CMsgClientChangeSteamGuardOptionsResponse {\n	optional uint32 eresult = 1;\n}\n\nmessage CMsgClientCreateFriendsGroup {\n	optional fixed64 steamid = 1;\n	optional string groupname = 2;\n}\n\nmessage CMsgClientCreateFriendsGroupResponse {\n	optional uint32 eresult = 1;\n	optional int32 groupid = 2;\n}\n\nmessage CMsgClientDeleteFriendsGroup {\n	optional fixed64 steamid = 1;\n	optional int32 groupid = 2;\n}\n\nmessage CMsgClientDeleteFriendsGroupResponse {\n	optional uint32 eresult = 1;\n}\n\nmessage CMsgClientRenameFriendsGroup {\n	optional int32 groupid = 1;\n	optional string groupname = 2;\n}\n\nmessage CMsgClientRenameFriendsGroupResponse {\n	optional uint32 eresult = 1;\n}\n\nmessage CMsgClientAddFriendToGroup {\n	optional int32 groupid = 1;\n	optional fixed64 steamiduser = 2;\n}\n\nmessage CMsgClientAddFriendToGroupResponse {\n	optional uint32 eresult = 1;\n}\n\nmessage CMsgClientRemoveFriendFromGroup {\n	optional int32 groupid = 1;\n	optional fixed64 steamiduser = 2;\n}\n\nmessage CMsgClientRemoveFriendFromGroupResponse {\n	optional uint32 eresult = 1;\n}\n\nmessage CMsgClientRegisterKey {\n	optional string key = 1;\n}\n\nmessage CMsgClientPurchaseResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional int32 purchase_result_details = 2;\n	optional bytes purchase_receipt_info = 3;\n}\n\nmessage CMsgClientActivateOEMLicense {\n	optional string bios_manufacturer = 1;\n	optional string bios_serialnumber = 2;\n	optional bytes license_file = 3;\n	optional string mainboard_manufacturer = 4;\n	optional string mainboard_product = 5;\n	optional string mainboard_serialnumber = 6;\n}\n\nmessage CMsgClientRegisterOEMMachine {\n	optional bytes oem_register_file = 1;\n}\n\nmessage CMsgClientRegisterOEMMachineResponse {\n	optional uint32 eresult = 1;\n}\n\nmessage CMsgClientPurchaseWithMachineID {\n	optional uint32 package_id = 1;\n	optional bytes machine_info = 2;\n}\n\nmessage CMsgTrading_InitiateTradeRequest {\n	optional uint32 trade_request_id = 1;\n	optional uint64 other_steamid = 2;\n	optional string other_name = 3;\n}\n\nmessage CMsgTrading_InitiateTradeResponse {\n	optional uint32 response = 1;\n	optional uint32 trade_request_id = 2;\n	optional uint64 other_steamid = 3;\n	optional uint32 steamguard_required_days = 4;\n	optional uint32 new_device_cooldown_days = 5;\n	optional uint32 default_password_reset_probation_days = 6;\n	optional uint32 password_reset_probation_days = 7;\n}\n\nmessage CMsgTrading_CancelTradeRequest {\n	optional uint64 other_steamid = 1;\n}\n\nmessage CMsgTrading_StartSession {\n	optional uint64 other_steamid = 1;\n}\n\nmessage CMsgClientMDSInitDepotBuildRequest {\n	optional uint32 depot_id = 1;\n	optional bytes encrypted_aes_key = 2;\n	optional uint32 build_id = 4;\n	optional bool for_local_cs = 5;\n	optional bool no_baseline = 6;\n}\n\nmessage CMsgClientMDSInitDepotBuildResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional uint32 default_chunk_size = 2;\n	optional fixed64 base_manifest = 3;\n	optional bytes encrypted_depot_key = 4;\n}\n\nmessage CMsgClientMDSInitWorkshopBuildRequest {\n	optional uint32 depot_id = 1;\n	optional uint32 app_id = 2;\n	optional uint64 workshop_item_id = 3;\n}\n\nmessage CMsgClientMDSInitWorkshopBuildResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional uint32 default_chunk_size = 2;\n	optional fixed64 base_manifest = 3;\n	optional bytes symmetric_depot_key = 4;\n}\n\nmessage CMsgClientMDSLoginRequest {\n	optional bytes encrypted_session_key = 1;\n}\n\nmessage CMsgClientMDSLoginResponse {\n	optional int32 eresult = 1 [default = 2];\n}\n\nmessage CMsgClientMDSUploadDepotChunks {\n	message ChunkUploadData {\n		optional bytes sha = 1;\n		optional uint32 rolling_crc = 2;\n		optional uint32 original_chunk_size = 3;\n		optional bytes data = 4;\n		optional uint32 compressed_chunk_size = 5;\n		optional uint32 compressed_crc = 6;\n	}\n\n	optional uint32 depot_id = 1;\n	repeated .CMsgClientMDSUploadDepotChunks.ChunkUploadData chunks = 2;\n	optional bool only_meta_data = 3;\n}\n\nmessage CMsgClientMDSUploadDepotChunksResponse {\n	optional int32 eresult = 1 [default = 2];\n}\n\nmessage CMsgClientMDSUploadRateTest {\n	optional uint32 serial_number = 1;\n	optional bytes test_data = 2;\n	optional uint32 test_data_size = 3;\n	optional uint32 test_data_crc = 4;\n}\n\nmessage CMsgClientMDSUploadRateTestResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional uint32 serial_number = 2;\n}\n\nmessage CMsgClientMDSTransmitManifestDataChunk {\n	optional int32 offset = 1;\n	optional bytes data = 2;\n}\n\nmessage CMsgClientMDSUploadManifestRequest {\n	optional uint32 depot_id = 1;\n	optional uint32 manifest_size_compressed = 2;\n	optional uint32 build_id = 6;\n	optional uint32 manifest_version = 7;\n	optional bool local_cs_build = 9;\n}\n\nmessage CMsgClientMDSUploadManifestResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional fixed64 new_manifest = 2;\n	optional uint32 unique_chunks = 3;\n	optional uint32 missing_chunks = 4;\n	optional uint32 bitstring_size_uncompressed = 5;\n	optional bytes bitstring = 6;\n	optional bool is_prev_manifest = 7;\n}\n\nmessage CMsgClientMDSGetDepotManifest {\n	optional uint32 depot_id = 1;\n	optional fixed64 manifest_id = 2;\n	optional uint32 manifest_version = 3;\n}\n\nmessage CMsgClientMDSGetDepotManifestResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional uint32 manifest_size_compressed = 3;\n}\n\nmessage CMsgClientMDSGetDepotManifestChunk {\n	optional uint32 offset = 1;\n	optional bytes data = 3;\n}\n\nmessage CMsgClientMDSRegisterAppBuild {\n	optional int32 app_id = 1;\n	optional string description = 2;\n	optional bool for_local_cs = 5;\n}\n\nmessage CMsgClientMDSRegisterAppBuildResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional uint32 build_id = 2;\n}\n\nmessage CMsgMDSSetAppBuildLive {\n	optional uint32 build_id = 1;\n	optional uint32 app_id = 2;\n	optional string beta_key = 3;\n	optional string beta_password = 5;\n	optional bool only_finish = 6;\n	optional uint32 num_skip_depots = 7;\n}\n\nmessage CMsgMDSSetAppBuildLiveResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional string error_string = 2;\n}\n\nmessage CMsgClientMDSSignInstallScript {\n	optional int32 depot_id = 1;\n	optional string data = 2;\n}\n\nmessage CMsgClientMDSSignInstallScriptResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional string error_string = 2;\n	optional string data = 3;\n}\n\nmessage CMsgClientEmailChange {\n	optional string password = 1;\n	optional string email = 2;\n	optional string code = 3;\n	optional bool final = 4;\n	optional bool newmethod = 5;\n	optional string twofactor_code = 6;\n}\n\nmessage CMsgClientEmailChangeResponse {\n	optional int32 eresult = 1 [default = 2];\n}\n\nmessage CMsgClientGetCDNAuthToken {\n	optional uint32 app_id = 1;\n	optional string host_name = 2;\n}\n\nmessage CMsgClientGetDepotDecryptionKey {\n	optional uint32 depot_id = 1;\n	optional uint32 app_id = 2;\n}\n\nmessage CMsgClientGetDepotDecryptionKeyResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional uint32 depot_id = 2;\n	optional bytes depot_encryption_key = 3;\n}\n\nmessage CMsgClientGetAppBetaPasswords {\n	optional uint32 app_id = 1;\n}\n\nmessage CMsgClientGetAppBetaPasswordsResponse {\n	message BetaPassword {\n		optional string betaname = 1;\n		optional string betapassword = 2;\n	}\n\n	optional int32 eresult = 1 [default = 2];\n	optional uint32 app_id = 2;\n	repeated .CMsgClientGetAppBetaPasswordsResponse.BetaPassword betapasswords = 3;\n}\n\nmessage CMsgClientUpdateAppJobReport {\n	optional uint32 app_id = 1;\n	repeated uint32 depot_ids = 2;\n	optional uint32 app_state = 3;\n	optional uint32 job_app_error = 4;\n	optional string error_details = 5;\n	optional uint32 job_duration = 6;\n	optional uint32 files_validation_failed = 7;\n	optional uint64 bytes_downloaded = 8;\n	optional uint64 bytes_staged = 9;\n	optional uint64 bytes_comitted = 10;\n	optional uint32 start_app_state = 11;\n}\n\nmessage CMsgClientSteam2AppStarted {\n	optional uint32 app_id = 1;\n	optional string command_line = 2;\n}\n\nmessage CMsgClientGetCDNAuthTokenResponse {\n	optional uint32 eresult = 1 [default = 2];\n	optional string token = 2;\n	optional uint32 expiration_time = 3;\n}\n\nmessage CMsgDownloadRateStatistics {\n	message StatsInfo {\n		optional uint32 source_type = 1;\n		optional uint32 source_id = 2;\n		optional uint32 seconds = 3;\n		optional uint64 bytes = 4;\n	}\n\n	optional uint32 cell_id = 1;\n	repeated .CMsgDownloadRateStatistics.StatsInfo stats = 2;\n}\n\nmessage CMsgClientRequestAccountData {\n	optional string account_or_email = 1;\n	optional uint32 action = 2;\n}\n\nmessage CMsgClientRequestAccountDataResponse {\n	optional uint32 action = 1;\n	optional uint32 eresult = 2;\n	optional string account_name = 3;\n	optional uint32 ct_matches = 4;\n	optional string account_name_suggestion1 = 5;\n	optional string account_name_suggestion2 = 6;\n	optional string account_name_suggestion3 = 7;\n}\n\nmessage CMsgClientUGSGetGlobalStats {\n	optional uint64 gameid = 1;\n	optional uint32 history_days_requested = 2;\n	optional fixed32 time_last_requested = 3;\n	optional uint32 first_day_cached = 4;\n	optional uint32 days_cached = 5;\n}\n\nmessage CMsgClientUGSGetGlobalStatsResponse {\n	message Day {\n		message Stat {\n			optional int32 stat_id = 1;\n			optional int64 data = 2;\n		}\n\n		optional uint32 day_id = 1;\n		repeated .CMsgClientUGSGetGlobalStatsResponse.Day.Stat stats = 2;\n	}\n\n	optional int32 eresult = 1 [default = 2];\n	optional fixed32 timestamp = 2;\n	optional int32 day_current = 3;\n	repeated .CMsgClientUGSGetGlobalStatsResponse.Day days = 4;\n}\n\nmessage CMsgGameServerData {\n	message Player {\n		optional fixed64 steam_id = 1;\n	}\n\n	optional fixed64 steam_id_gs = 1;\n	optional uint32 ip = 2;\n	optional uint32 query_port = 3;\n	optional uint32 game_port = 4;\n	optional uint32 sourcetv_port = 5;\n	optional string name = 22;\n	optional uint32 app_id = 6;\n	optional string gamedir = 7;\n	optional string version = 8;\n	optional string product = 9;\n	optional string region = 10;\n	repeated .CMsgGameServerData.Player players = 11;\n	optional uint32 max_players = 12;\n	optional uint32 bot_count = 13;\n	optional bool password = 14;\n	optional bool secure = 15;\n	optional bool dedicated = 16;\n	optional string os = 17;\n	optional string game_data = 18;\n	optional uint32 game_data_version = 19;\n	optional string game_type = 20;\n	optional string map = 21;\n}\n\nmessage CMsgGameServerRemove {\n	optional fixed64 steam_id = 1;\n	optional uint32 ip = 2;\n	optional uint32 query_port = 3;\n}\n\nmessage CMsgClientGMSServerQuery {\n	optional uint32 app_id = 1;\n	optional uint32 geo_location_ip = 2;\n	optional uint32 region_code = 3;\n	optional string filter_text = 4;\n	optional uint32 max_servers = 5;\n}\n\nmessage CMsgGMSClientServerQueryResponse {\n	message Server {\n		optional uint32 server_ip = 1;\n		optional uint32 server_port = 2;\n		optional uint32 auth_players = 3;\n	}\n\n	repeated .CMsgGMSClientServerQueryResponse.Server servers = 1;\n	optional string error = 2;\n}\n\nmessage CMsgGameServerOutOfDate {\n	optional fixed64 steam_id_gs = 1;\n	optional bool reject = 2;\n	optional string message = 3;\n}\n\nmessage CMsgClientRedeemGuestPass {\n	optional fixed64 guest_pass_id = 1;\n}\n\nmessage CMsgClientRedeemGuestPassResponse {\n	optional uint32 eresult = 1 [default = 2];\n	optional uint32 package_id = 2;\n	optional uint32 must_own_appid = 3;\n}\n\nmessage CMsgClientGetClanActivityCounts {\n	repeated uint64 steamid_clans = 1;\n}\n\nmessage CMsgClientGetClanActivityCountsResponse {\n	optional uint32 eresult = 1 [default = 2];\n}\n\nmessage CMsgClientOGSReportString {\n	optional bool accumulated = 1;\n	optional uint64 sessionid = 2;\n	optional int32 severity = 3;\n	optional string formatter = 4;\n	optional bytes varargs = 5;\n}\n\nmessage CMsgClientOGSReportBug {\n	optional uint64 sessionid = 1;\n	optional string bugtext = 2;\n	optional bytes screenshot = 3;\n}\n\nmessage CMsgGSAssociateWithClan {\n	optional fixed64 steam_id_clan = 1;\n}\n\nmessage CMsgGSAssociateWithClanResponse {\n	optional fixed64 steam_id_clan = 1;\n	optional uint32 eresult = 2 [default = 2];\n}\n\nmessage CMsgGSComputeNewPlayerCompatibility {\n	optional fixed64 steam_id_candidate = 1;\n}\n\nmessage CMsgGSComputeNewPlayerCompatibilityResponse {\n	optional fixed64 steam_id_candidate = 1;\n	optional uint32 eresult = 2 [default = 2];\n	optional bool is_clan_member = 3;\n	optional int32 ct_dont_like_you = 4;\n	optional int32 ct_you_dont_like = 5;\n	optional int32 ct_clanmembers_dont_like_you = 6;\n}\n\nmessage CMsgClientSentLogs {\n}\n\nmessage CMsgGCClient {\n	optional uint32 appid = 1;\n	optional uint32 msgtype = 2;\n	optional bytes payload = 3;\n	optional fixed64 steamid = 4;\n	optional string gcname = 5;\n}\n\nmessage CMsgClientRequestFreeLicense {\n	repeated uint32 appids = 2;\n}\n\nmessage CMsgClientRequestFreeLicenseResponse {\n	optional uint32 eresult = 1 [default = 2];\n	repeated uint32 granted_packageids = 2;\n	repeated uint32 granted_appids = 3;\n}\n\nmessage CMsgDRMDownloadRequestWithCrashData {\n	optional uint32 download_flags = 1;\n	optional uint32 download_types_known = 2;\n	optional bytes guid_drm = 3;\n	optional bytes guid_split = 4;\n	optional bytes guid_merge = 5;\n	optional string module_name = 6;\n	optional string module_path = 7;\n	optional bytes crash_data = 8;\n}\n\nmessage CMsgDRMDownloadResponse {\n	optional uint32 eresult = 1 [default = 2];\n	optional uint32 app_id = 2;\n	optional uint32 blob_download_type = 3;\n	optional bytes merge_guid = 4;\n	optional uint32 download_file_dfs_ip = 5;\n	optional uint32 download_file_dfs_port = 6;\n	optional string download_file_url = 7;\n	optional string module_path = 8;\n}\n\nmessage CMsgDRMFinalResult {\n	optional uint32 eResult = 1 [default = 2];\n	optional uint32 app_id = 2;\n	optional uint32 blob_download_type = 3;\n	optional uint32 error_detail = 4;\n	optional bytes merge_guid = 5;\n	optional uint32 download_file_dfs_ip = 6;\n	optional uint32 download_file_dfs_port = 7;\n	optional string download_file_url = 8;\n}\n\nmessage CMsgClientDPCheckSpecialSurvey {\n	optional uint32 survey_id = 1;\n}\n\nmessage CMsgClientDPCheckSpecialSurveyResponse {\n	optional uint32 eResult = 1 [default = 2];\n	optional uint32 state = 2;\n	optional string name = 3;\n	optional string custom_url = 4;\n	optional bool include_software = 5;\n	optional bytes token = 6;\n}\n\nmessage CMsgClientDPSendSpecialSurveyResponse {\n	optional uint32 survey_id = 1;\n	optional bytes data = 2;\n}\n\nmessage CMsgClientDPSendSpecialSurveyResponseReply {\n	optional uint32 eResult = 1 [default = 2];\n	optional bytes token = 2;\n}\n\nmessage CMsgClientRequestForgottenPasswordEmail {\n	optional string account_name = 1;\n	optional string password_tried = 2;\n}\n\nmessage CMsgClientRequestForgottenPasswordEmailResponse {\n	optional uint32 eResult = 1;\n	optional bool use_secret_question = 2;\n}\n\nmessage CMsgClientItemAnnouncements {\n	optional uint32 count_new_items = 1;\n}\n\nmessage CMsgClientRequestItemAnnouncements {\n}\n\nmessage CMsgClientUserNotifications {\n	message Notification {\n		optional uint32 user_notification_type = 1;\n		optional uint32 count = 2;\n	}\n\n	repeated .CMsgClientUserNotifications.Notification notifications = 1;\n}\n\nmessage CMsgClientCommentNotifications {\n	optional uint32 count_new_comments = 1;\n	optional uint32 count_new_comments_owner = 2;\n	optional uint32 count_new_comments_subscriptions = 3;\n}\n\nmessage CMsgClientRequestCommentNotifications {\n}\n\nmessage CMsgClientOfflineMessageNotification {\n	optional uint32 offline_messages = 1;\n	repeated uint32 friends_with_offline_messages = 2;\n}\n\nmessage CMsgClientRequestOfflineMessageCount {\n}\n\nmessage CMsgClientFSGetFriendMessageHistory {\n	optional fixed64 steamid = 1;\n}\n\nmessage CMsgClientFSGetFriendMessageHistoryResponse {\n	message FriendMessage {\n		optional uint32 accountid = 1;\n		optional uint32 timestamp = 2;\n		optional string message = 3;\n		optional bool unread = 4;\n	}\n\n	optional fixed64 steamid = 1;\n	optional uint32 success = 2;\n	repeated .CMsgClientFSGetFriendMessageHistoryResponse.FriendMessage messages = 3;\n}\n\nmessage CMsgClientFSGetFriendMessageHistoryForOfflineMessages {\n}\n\nmessage CMsgClientFSGetFriendsSteamLevels {\n	repeated uint32 accountids = 1;\n}\n\nmessage CMsgClientFSGetFriendsSteamLevelsResponse {\n	message Friend {\n		optional uint32 accountid = 1;\n		optional uint32 level = 2;\n	}\n\n	repeated .CMsgClientFSGetFriendsSteamLevelsResponse.Friend friends = 1;\n}\n\nmessage CMsgClientEmailAddrInfo {\n	optional string email_address = 1;\n	optional bool email_is_validated = 2;\n	optional bool email_validation_changed = 3;\n	optional bool credential_change_requires_code = 4;\n	optional bool password_or_secretqa_change_requires_code = 5;\n	optional bool remind_user_about_email = 6;\n}\n\nmessage CMsgCREEnumeratePublishedFiles {\n	optional uint32 app_id = 1;\n	optional int32 query_type = 2;\n	optional uint32 start_index = 3;\n	optional uint32 days = 4;\n	optional uint32 count = 5;\n	repeated string tags = 6;\n	repeated string user_tags = 7;\n	optional uint32 matching_file_type = 8 [default = 13];\n}\n\nmessage CMsgCREEnumeratePublishedFilesResponse {\n	message PublishedFileId {\n		optional fixed64 published_file_id = 1;\n		optional int32 votes_for = 2;\n		optional int32 votes_against = 3;\n		optional int32 reports = 4;\n		optional float score = 5;\n	}\n\n	optional int32 eresult = 1 [default = 2];\n	repeated .CMsgCREEnumeratePublishedFilesResponse.PublishedFileId published_files = 2;\n	optional uint32 total_results = 3;\n}\n\nmessage CMsgCREItemVoteSummary {\n	message PublishedFileId {\n		optional fixed64 published_file_id = 1;\n	}\n\n	repeated .CMsgCREItemVoteSummary.PublishedFileId published_file_ids = 1;\n}\n\nmessage CMsgCREItemVoteSummaryResponse {\n	message ItemVoteSummary {\n		optional fixed64 published_file_id = 1;\n		optional int32 votes_for = 2;\n		optional int32 votes_against = 3;\n		optional int32 reports = 4;\n		optional float score = 5;\n	}\n\n	optional int32 eresult = 1 [default = 2];\n	repeated .CMsgCREItemVoteSummaryResponse.ItemVoteSummary item_vote_summaries = 2;\n}\n\nmessage CMsgCREUpdateUserPublishedItemVote {\n	optional fixed64 published_file_id = 1;\n	optional bool vote_up = 2;\n}\n\nmessage CMsgCREUpdateUserPublishedItemVoteResponse {\n	optional int32 eresult = 1 [default = 2];\n}\n\nmessage CMsgCREGetUserPublishedItemVoteDetails {\n	message PublishedFileId {\n		optional fixed64 published_file_id = 1;\n	}\n\n	repeated .CMsgCREGetUserPublishedItemVoteDetails.PublishedFileId published_file_ids = 1;\n}\n\nmessage CMsgCREGetUserPublishedItemVoteDetailsResponse {\n	message UserItemVoteDetail {\n		optional fixed64 published_file_id = 1;\n		optional int32 vote = 2 [default = 0];\n	}\n\n	optional int32 eresult = 1 [default = 2];\n	repeated .CMsgCREGetUserPublishedItemVoteDetailsResponse.UserItemVoteDetail user_item_vote_details = 2;\n}\n\nmessage CMsgGameServerPingSample {\n	message Sample {\n		optional fixed32 ip = 1;\n		optional uint32 avg_ping_ms = 2;\n		optional uint32 stddev_ping_ms_x10 = 3;\n	}\n\n	optional fixed32 my_ip = 1;\n	optional int32 gs_app_id = 2;\n	repeated .CMsgGameServerPingSample.Sample gs_samples = 3;\n}\n\nmessage CMsgFSGetFollowerCount {\n	optional fixed64 steam_id = 1;\n}\n\nmessage CMsgFSGetFollowerCountResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional int32 count = 2 [default = 0];\n}\n\nmessage CMsgFSGetIsFollowing {\n	optional fixed64 steam_id = 1;\n}\n\nmessage CMsgFSGetIsFollowingResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional bool is_following = 2 [default = false];\n}\n\nmessage CMsgFSEnumerateFollowingList {\n	optional uint32 start_index = 1;\n}\n\nmessage CMsgFSEnumerateFollowingListResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional int32 total_results = 2;\n	repeated fixed64 steam_ids = 3;\n}\n\nmessage CMsgDPGetNumberOfCurrentPlayers {\n	optional uint32 appid = 1;\n}\n\nmessage CMsgDPGetNumberOfCurrentPlayersResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional int32 player_count = 2;\n}\n\nmessage CMsgClientFriendUserStatusPublished {\n	optional fixed64 friend_steamid = 1;\n	optional uint32 appid = 2;\n	optional string status_text = 3;\n}\n\nmessage CMsgClientServiceMethod {\n	optional string method_name = 1;\n	optional bytes serialized_method = 2;\n	optional bool is_notification = 3;\n}\n\nmessage CMsgClientServiceMethodResponse {\n	optional string method_name = 1;\n	optional bytes serialized_method_response = 2;\n}\n\nmessage CMsgClientUIMode {\n	optional uint32 uimode = 1;\n}\n\nmessage CMsgClientVanityURLChangedNotification {\n	optional string vanity_url = 1;\n}\n\nmessage CMsgClientAuthorizeLocalDeviceRequest {\n	optional string device_description = 1;\n	optional uint32 owner_account_id = 2;\n}\n\nmessage CMsgClientAuthorizeLocalDevice {\n	optional int32 eresult = 1 [default = 2];\n	optional uint32 owner_account_id = 2;\n	optional uint64 authed_device_token = 3;\n}\n\nmessage CMsgClientDeauthorizeDeviceRequest {\n	optional uint32 deauthorization_account_id = 1;\n	optional uint64 deauthorization_device_token = 2;\n}\n\nmessage CMsgClientDeauthorizeDevice {\n	optional int32 eresult = 1 [default = 2];\n	optional uint32 deauthorization_account_id = 2;\n}\n\nmessage CMsgClientUseLocalDeviceAuthorizations {\n	message DeviceToken {\n		optional uint32 owner_account_id = 1;\n		optional uint64 token_id = 2;\n	}\n\n	repeated uint32 authorization_account_id = 1;\n	repeated .CMsgClientUseLocalDeviceAuthorizations.DeviceToken device_tokens = 2;\n}\n\nmessage CMsgClientGetAuthorizedDevices {\n}\n\nmessage CMsgClientGetAuthorizedDevicesResponse {\n	message AuthorizedDevice {\n		optional uint64 auth_device_token = 1;\n		optional string device_name = 2;\n		optional uint32 last_access_time = 3;\n		optional uint32 borrower_id = 4;\n		optional bool is_pending = 5;\n		optional uint32 app_played = 6;\n	}\n\n	optional int32 eresult = 1 [default = 2];\n	repeated .CMsgClientGetAuthorizedDevicesResponse.AuthorizedDevice authorized_device = 2;\n}\n\nmessage CMsgClientGetEmoticonList {\n}\n\nmessage CMsgClientEmoticonList {\n	message Emoticon {\n		optional string name = 1;\n		optional int32 count = 2;\n	}\n\n	repeated .CMsgClientEmoticonList.Emoticon emoticons = 1;\n}\n\nmessage CMsgClientSharedLibraryLockStatus {\n	message LockedLibrary {\n		optional uint32 owner_id = 1;\n		optional uint32 locked_by = 2;\n	}\n\n	repeated .CMsgClientSharedLibraryLockStatus.LockedLibrary locked_library = 1;\n	optional uint32 own_library_locked_by = 2;\n}\n\nmessage CMsgClientSharedLibraryStopPlaying {\n	message StopApp {\n		optional uint32 app_id = 1;\n		optional uint32 owner_id = 2;\n	}\n\n	optional int32 seconds_left = 1;\n	repeated .CMsgClientSharedLibraryStopPlaying.StopApp stop_apps = 2;\n}\n\nmessage CMsgClientServiceCall {\n	optional bytes sysid_routing = 1;\n	optional uint32 call_handle = 2;\n	optional uint32 module_crc = 3;\n	optional bytes module_hash = 4;\n	optional uint32 function_id = 5;\n	optional uint32 cub_output_max = 6;\n	optional uint32 flags = 7;\n	optional bytes callparameter = 8;\n}\n\nmessage CMsgClientServiceModule {\n	optional uint32 module_crc = 1;\n	optional bytes module_hash = 2;\n	optional bytes module_content = 3;\n}\n\nmessage CMsgClientServiceCallResponse {\n	optional bytes sysid_routing = 1;\n	optional uint32 call_handle = 2;\n	optional uint32 module_crc = 3;\n	optional bytes module_hash = 4;\n	optional uint32 ecallresult = 5;\n	optional bytes result_content = 6;\n	optional bytes os_version_info = 7;\n	optional bytes system_info = 8;\n	optional fixed64 load_address = 9;\n	optional bytes exception_record = 10;\n	optional bytes portable_os_version_info = 11;\n	optional bytes portable_system_info = 12;\n	optional bool was_converted = 13;\n	optional uint32 internal_result = 14;\n}\n\nmessage CMsgAMUnlockStreaming {\n}\n\nmessage CMsgAMUnlockStreamingResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional bytes encryption_key = 2;\n}\n\nmessage CMsgClientPlayingSessionState {\n	optional bool playing_blocked = 2;\n	optional uint32 playing_app = 3;\n}\n\nmessage CMsgClientKickPlayingSession {\n	optional bool only_stop_game = 1;\n}\n\nmessage CMsgClientCreateAccount {\n	optional string account_name = 1;\n	optional string password = 2;\n	optional string email = 3;\n	optional string question = 4;\n	optional string answer = 5;\n	optional uint32 launcher = 6;\n}\n\nmessage CMsgClientCreateAccountResponse {\n	optional int32 eresult = 1 [default = 2];\n	optional fixed64 steamid = 2;\n}\n\nmessage CMsgClientVoiceCallPreAuthorize {\n	optional fixed64 caller_steamid = 1;\n	optional fixed64 receiver_steamid = 2;\n	optional int32 caller_id = 3;\n	optional bool hangup = 4;\n}\n\nmessage CMsgClientVoiceCallPreAuthorizeResponse {\n	optional fixed64 caller_steamid = 1;\n	optional fixed64 receiver_steamid = 2;\n	optional int32 eresult = 3 [default = 2];\n	optional int32 caller_id = 4;\n}\n\n',
"/node_modules/steam/resources/protobufs/dota/steammessages.proto":'import "google/protobuf/descriptor.proto";\r\n\r\noption optimize_for = SPEED;\r\noption cc_generic_services = false;\r\n\r\nextend .google.protobuf.FieldOptions {\r\n	optional bool key_field = 60000 [default = false];\r\n}\r\n\r\nextend .google.protobuf.MessageOptions {\r\n	optional int32 msgpool_soft_limit = 60000 [default = 32];\r\n	optional int32 msgpool_hard_limit = 60001 [default = 384];\r\n}\r\n\r\nenum GCProtoBufMsgSrc {\r\n	GCProtoBufMsgSrc_Unspecified = 0;\r\n	GCProtoBufMsgSrc_FromSystem = 1;\r\n	GCProtoBufMsgSrc_FromSteamID = 2;\r\n	GCProtoBufMsgSrc_FromGC = 3;\r\n	GCProtoBufMsgSrc_ReplySystem = 4;\r\n}\r\n\r\nmessage CMsgProtoBufHeader {\r\n	option (msgpool_soft_limit) = 256;\r\n	option (msgpool_hard_limit) = 1024;\r\n	optional fixed64 client_steam_id = 1;\r\n	optional int32 client_session_id = 2;\r\n	optional uint32 source_app_id = 3;\r\n	optional fixed64 job_id_source = 10 [default = 18446744073709551615];\r\n	optional fixed64 job_id_target = 11 [default = 18446744073709551615];\r\n	optional string target_job_name = 12;\r\n	optional int32 eresult = 13 [default = 2];\r\n	optional string error_message = 14;\r\n	optional .GCProtoBufMsgSrc gc_msg_src = 200 [default = GCProtoBufMsgSrc_Unspecified];\r\n	optional uint32 gc_dir_index_source = 201;\r\n}\r\n\r\nmessage CMsgWebAPIKey {\r\n	optional uint32 status = 1 [default = 255];\r\n	optional uint32 account_id = 2 [default = 0];\r\n	optional uint32 publisher_group_id = 3 [default = 0];\r\n	optional uint32 key_id = 4;\r\n	optional string domain = 5;\r\n}\r\n\r\nmessage CMsgHttpRequest {\r\n	message RequestHeader {\r\n		optional string name = 1;\r\n		optional string value = 2;\r\n	}\r\n\r\n	message QueryParam {\r\n		optional string name = 1;\r\n		optional bytes value = 2;\r\n	}\r\n\r\n	optional uint32 request_method = 1;\r\n	optional string hostname = 2;\r\n	optional string url = 3;\r\n	repeated .CMsgHttpRequest.RequestHeader headers = 4;\r\n	repeated .CMsgHttpRequest.QueryParam get_params = 5;\r\n	repeated .CMsgHttpRequest.QueryParam post_params = 6;\r\n	optional bytes body = 7;\r\n	optional uint32 absolute_timeout = 8;\r\n}\r\n\r\nmessage CMsgWebAPIRequest {\r\n	optional string UNUSED_job_name = 1;\r\n	optional string interface_name = 2;\r\n	optional string method_name = 3;\r\n	optional uint32 version = 4;\r\n	optional .CMsgWebAPIKey api_key = 5;\r\n	optional .CMsgHttpRequest request = 6;\r\n	optional uint32 routing_app_id = 7;\r\n}\r\n\r\nmessage CMsgHttpResponse {\r\n	message ResponseHeader {\r\n		optional string name = 1;\r\n		optional string value = 2;\r\n	}\r\n\r\n	optional uint32 status_code = 1;\r\n	repeated .CMsgHttpResponse.ResponseHeader headers = 2;\r\n	optional bytes body = 3;\r\n}\r\n\r\nmessage CMsgAMFindAccounts {\r\n	optional uint32 search_type = 1;\r\n	optional string search_string = 2;\r\n}\r\n\r\nmessage CMsgAMFindAccountsResponse {\r\n	repeated fixed64 steam_id = 1;\r\n}\r\n\r\nmessage CMsgNotifyWatchdog {\r\n	optional uint32 source = 1;\r\n	optional uint32 alert_type = 2;\r\n	optional uint32 alert_destination = 3;\r\n	optional bool critical = 4;\r\n	optional uint32 time = 5;\r\n	optional uint32 appid = 6;\r\n	optional string text = 7;\r\n}\r\n\r\nmessage CMsgAMGetLicenses {\r\n	optional fixed64 steamid = 1;\r\n}\r\n\r\nmessage CMsgPackageLicense {\r\n	optional uint32 package_id = 1;\r\n	optional uint32 time_created = 2;\r\n	optional uint32 owner_id = 3;\r\n}\r\n\r\nmessage CMsgAMGetLicensesResponse {\r\n	repeated .CMsgPackageLicense license = 1;\r\n	optional uint32 result = 2;\r\n}\r\n\r\nmessage CMsgAMGetUserGameStats {\r\n	optional fixed64 steam_id = 1;\r\n	optional fixed64 game_id = 2;\r\n	repeated uint32 stats = 3;\r\n}\r\n\r\nmessage CMsgAMGetUserGameStatsResponse {\r\n	message Stats {\r\n		optional uint32 stat_id = 1;\r\n		optional uint32 stat_value = 2;\r\n	}\r\n\r\n	message Achievement_Blocks {\r\n		optional uint32 achievement_id = 1;\r\n		optional uint32 achievement_bit_id = 2;\r\n		optional fixed32 unlock_time = 3;\r\n	}\r\n\r\n	optional fixed64 steam_id = 1;\r\n	optional fixed64 game_id = 2;\r\n	optional int32 eresult = 3 [default = 2];\r\n	repeated .CMsgAMGetUserGameStatsResponse.Stats stats = 4;\r\n	repeated .CMsgAMGetUserGameStatsResponse.Achievement_Blocks achievement_blocks = 5;\r\n}\r\n\r\nmessage CMsgGCGetCommandList {\r\n	optional uint32 app_id = 1;\r\n	optional string command_prefix = 2;\r\n}\r\n\r\nmessage CMsgGCGetCommandListResponse {\r\n	repeated string command_name = 1;\r\n}\r\n\r\nmessage CGCMsgMemCachedGet {\r\n	repeated string keys = 1;\r\n}\r\n\r\nmessage CGCMsgMemCachedGetResponse {\r\n	message ValueTag {\r\n		optional bool found = 1;\r\n		optional bytes value = 2;\r\n	}\r\n\r\n	repeated .CGCMsgMemCachedGetResponse.ValueTag values = 1;\r\n}\r\n\r\nmessage CGCMsgMemCachedSet {\r\n	message KeyPair {\r\n		optional string name = 1;\r\n		optional bytes value = 2;\r\n	}\r\n\r\n	repeated .CGCMsgMemCachedSet.KeyPair keys = 1;\r\n}\r\n\r\nmessage CGCMsgMemCachedDelete {\r\n	repeated string keys = 1;\r\n}\r\n\r\nmessage CGCMsgMemCachedStats {\r\n}\r\n\r\nmessage CGCMsgMemCachedStatsResponse {\r\n	optional uint64 curr_connections = 1;\r\n	optional uint64 cmd_get = 2;\r\n	optional uint64 cmd_set = 3;\r\n	optional uint64 cmd_flush = 4;\r\n	optional uint64 get_hits = 5;\r\n	optional uint64 get_misses = 6;\r\n	optional uint64 delete_hits = 7;\r\n	optional uint64 delete_misses = 8;\r\n	optional uint64 bytes_read = 9;\r\n	optional uint64 bytes_written = 10;\r\n	optional uint64 limit_maxbytes = 11;\r\n	optional uint64 curr_items = 12;\r\n	optional uint64 evictions = 13;\r\n	optional uint64 bytes = 14;\r\n}\r\n\r\nmessage CGCMsgSQLStats {\r\n	optional uint32 schema_catalog = 1;\r\n}\r\n\r\nmessage CGCMsgSQLStatsResponse {\r\n	optional uint32 threads = 1;\r\n	optional uint32 threads_connected = 2;\r\n	optional uint32 threads_active = 3;\r\n	optional uint32 operations_submitted = 4;\r\n	optional uint32 prepared_statements_executed = 5;\r\n	optional uint32 non_prepared_statements_executed = 6;\r\n	optional uint32 deadlock_retries = 7;\r\n	optional uint32 operations_timed_out_in_queue = 8;\r\n	optional uint32 errors = 9;\r\n}\r\n\r\nmessage CMsgAMAddFreeLicense {\r\n	optional fixed64 steamid = 1;\r\n	optional uint32 ip_public = 2;\r\n	optional uint32 packageid = 3;\r\n	optional string store_country_code = 4;\r\n}\r\n\r\nmessage CMsgAMAddFreeLicenseResponse {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional int32 purchase_result_detail = 2;\r\n	optional fixed64 transid = 3;\r\n}\r\n\r\nmessage CGCMsgGetIPLocation {\r\n	repeated fixed32 ips = 1;\r\n}\r\n\r\nmessage CIPLocationInfo {\r\n	optional uint32 ip = 1;\r\n	optional float latitude = 2;\r\n	optional float longitude = 3;\r\n	optional string country = 4;\r\n	optional string state = 5;\r\n	optional string city = 6;\r\n}\r\n\r\nmessage CGCMsgGetIPLocationResponse {\r\n	repeated .CIPLocationInfo infos = 1;\r\n}\r\n\r\nmessage CGCMsgGetIPASN {\r\n	repeated fixed32 ips = 1;\r\n}\r\n\r\nmessage CIPASNInfo {\r\n	optional fixed32 ip = 1;\r\n	optional uint32 asn = 2;\r\n}\r\n\r\nmessage CGCMsgGetIPASNResponse {\r\n	repeated .CIPASNInfo infos = 1;\r\n}\r\n\r\nmessage CGCMsgSystemStatsSchema {\r\n	optional uint32 gc_app_id = 1;\r\n	optional bytes schema_kv = 2;\r\n}\r\n\r\nmessage CGCMsgGetSystemStats {\r\n}\r\n\r\nmessage CGCMsgGetSystemStatsResponse {\r\n	optional uint32 gc_app_id = 1;\r\n	optional bytes stats_kv = 2;\r\n	optional uint32 active_jobs = 3;\r\n	optional uint32 yielding_jobs = 4;\r\n	optional uint32 user_sessions = 5;\r\n	optional uint32 game_server_sessions = 6;\r\n	optional uint32 socaches = 7;\r\n	optional uint32 socaches_to_unload = 8;\r\n	optional uint32 socaches_loading = 9;\r\n	optional uint32 writeback_queue = 10;\r\n	optional uint32 steamid_locks = 11;\r\n	optional uint32 logon_queue = 12;\r\n	optional uint32 logon_jobs = 13;\r\n}\r\n\r\nmessage CMsgAMSendEmail {\r\n	message ReplacementToken {\r\n		optional string token_name = 1;\r\n		optional string token_value = 2;\r\n	}\r\n\r\n	message PersonaNameReplacementToken {\r\n		optional fixed64 steamid = 1;\r\n		optional string token_name = 2;\r\n	}\r\n\r\n	optional fixed64 steamid = 1;\r\n	optional uint32 email_msg_type = 2;\r\n	optional uint32 email_format = 3;\r\n	repeated .CMsgAMSendEmail.PersonaNameReplacementToken persona_name_tokens = 5;\r\n	optional uint32 source_gc = 6;\r\n	repeated .CMsgAMSendEmail.ReplacementToken tokens = 7;\r\n}\r\n\r\nmessage CMsgAMSendEmailResponse {\r\n	optional uint32 eresult = 1 [default = 2];\r\n}\r\n\r\nmessage CMsgGCGetEmailTemplate {\r\n	optional uint32 app_id = 1;\r\n	optional uint32 email_msg_type = 2;\r\n	optional int32 email_lang = 3;\r\n	optional int32 email_format = 4;\r\n}\r\n\r\nmessage CMsgGCGetEmailTemplateResponse {\r\n	optional uint32 eresult = 1 [default = 2];\r\n	optional bool template_exists = 2;\r\n	optional string template = 3;\r\n}\r\n\r\nmessage CMsgAMGrantGuestPasses2 {\r\n	optional fixed64 steam_id = 1;\r\n	optional uint32 package_id = 2;\r\n	optional int32 passes_to_grant = 3;\r\n	optional int32 days_to_expiration = 4;\r\n	optional int32 action = 5;\r\n}\r\n\r\nmessage CMsgAMGrantGuestPasses2Response {\r\n	optional int32 eresult = 1 [default = 2];\r\n	optional int32 passes_granted = 2 [default = 0];\r\n}\r\n\r\nmessage CGCSystemMsg_GetAccountDetails {\r\n	option (msgpool_soft_limit) = 128;\r\n	option (msgpool_hard_limit) = 512;\r\n	optional fixed64 steamid = 1;\r\n	optional uint32 appid = 2;\r\n}\r\n\r\nmessage CGCSystemMsg_GetAccountDetails_Response {\r\n	option (msgpool_soft_limit) = 128;\r\n	option (msgpool_hard_limit) = 512;\r\n	optional uint32 eresult_deprecated = 1 [default = 2];\r\n	optional string account_name = 2;\r\n	optional string persona_name = 3;\r\n	optional bool is_profile_created = 26;\r\n	optional bool is_profile_public = 4;\r\n	optional bool is_inventory_public = 5;\r\n	optional bool is_vac_banned = 7;\r\n	optional bool is_cyber_cafe = 8;\r\n	optional bool is_school_account = 9;\r\n	optional bool is_limited = 10;\r\n	optional bool is_subscribed = 11;\r\n	optional uint32 package = 12;\r\n	optional bool is_free_trial_account = 13;\r\n	optional uint32 free_trial_expiration = 14;\r\n	optional bool is_low_violence = 15;\r\n	optional bool is_account_locked_down = 16;\r\n	optional bool is_community_banned = 17;\r\n	optional bool is_trade_banned = 18;\r\n	optional uint32 trade_ban_expiration = 19;\r\n	optional uint32 accountid = 20;\r\n	optional uint32 suspension_end_time = 21;\r\n	optional string currency = 22;\r\n	optional uint32 steam_level = 23;\r\n	optional uint32 friend_count = 24;\r\n	optional uint32 account_creation_time = 25;\r\n}\r\n\r\nmessage CMsgGCGetPersonaNames {\r\n	repeated fixed64 steamids = 1;\r\n}\r\n\r\nmessage CMsgGCGetPersonaNames_Response {\r\n	message PersonaName {\r\n		optional fixed64 steamid = 1;\r\n		optional string persona_name = 2;\r\n	}\r\n\r\n	repeated .CMsgGCGetPersonaNames_Response.PersonaName succeeded_lookups = 1;\r\n	repeated fixed64 failed_lookup_steamids = 2;\r\n}\r\n\r\nmessage CMsgGCCheckFriendship {\r\n	optional fixed64 steamid_left = 1;\r\n	optional fixed64 steamid_right = 2;\r\n}\r\n\r\nmessage CMsgGCCheckFriendship_Response {\r\n	optional bool success = 1;\r\n	optional bool found_friendship = 2;\r\n}\r\n\r\nmessage CMsgGCGetAppFriendsList {\r\n	optional fixed64 steamid = 1;\r\n}\r\n\r\nmessage CMsgGCGetAppFriendsList_Response {\r\n	optional bool success = 1;\r\n	repeated fixed64 steamids = 2;\r\n}\r\n\r\nmessage CMsgGCMsgMasterSetDirectory {\r\n	message SubGC {\r\n		optional uint32 dir_index = 1;\r\n		optional string name = 2;\r\n		optional string box = 3;\r\n		optional string command_line = 4;\r\n		optional string gc_binary = 5;\r\n	}\r\n\r\n	optional uint32 master_dir_index = 1;\r\n	repeated .CMsgGCMsgMasterSetDirectory.SubGC dir = 2;\r\n}\r\n\r\nmessage CMsgGCMsgMasterSetDirectory_Response {\r\n	optional int32 eresult = 1 [default = 2];\r\n}\r\n\r\nmessage CMsgGCMsgWebAPIJobRequestForwardResponse {\r\n	optional uint32 dir_index = 1;\r\n}\r\n\r\nmessage CGCSystemMsg_GetPurchaseTrust_Request {\r\n	optional fixed64 steamid = 1;\r\n}\r\n\r\nmessage CGCSystemMsg_GetPurchaseTrust_Response {\r\n	optional bool has_prior_purchase_history = 1;\r\n	optional bool has_no_recent_password_resets = 2;\r\n	optional bool is_wallet_cash_trusted = 3;\r\n	optional uint32 time_all_trusted = 4;\r\n}\r\n\r\nmessage CMsgGCHAccountVacStatusChange {\r\n	optional fixed64 steam_id = 1;\r\n	optional uint32 app_id = 2;\r\n	optional uint32 rtime_vacban_starts = 3;\r\n	optional bool is_banned_now = 4;\r\n	optional bool is_banned_future = 5;\r\n}\r\n\r\nmessage CMsgGCGetPartnerAccountLink {\r\n	optional fixed64 steamid = 1;\r\n}\r\n\r\nmessage CMsgGCGetPartnerAccountLink_Response {\r\n	optional uint32 pwid = 1;\r\n	optional uint32 nexonid = 2;\r\n}\r\n\r\nmessage CMsgGCRoutingInfo {\r\n	enum RoutingMethod {\r\n		RANDOM = 0;\r\n		DISCARD = 1;\r\n		CLIENT_STEAMID = 2;\r\n		PROTOBUF_FIELD_UINT64 = 3;\r\n		WEBAPI_PARAM_UINT64 = 4;\r\n	}\r\n\r\n	repeated uint32 dir_index = 1;\r\n	optional .CMsgGCRoutingInfo.RoutingMethod method = 2 [default = RANDOM];\r\n	optional .CMsgGCRoutingInfo.RoutingMethod fallback = 3 [default = DISCARD];\r\n	optional uint32 protobuf_field = 4;\r\n	optional string webapi_param = 5;\r\n}\r\n\r\nmessage CMsgGCMsgMasterSetWebAPIRouting {\r\n	message Entry {\r\n		optional string interface_name = 1;\r\n		optional string method_name = 2;\r\n		optional .CMsgGCRoutingInfo routing = 3;\r\n	}\r\n\r\n	repeated .CMsgGCMsgMasterSetWebAPIRouting.Entry entries = 1;\r\n}\r\n\r\nmessage CMsgGCMsgMasterSetClientMsgRouting {\r\n	message Entry {\r\n		optional uint32 msg_type = 1;\r\n		optional .CMsgGCRoutingInfo routing = 2;\r\n	}\r\n\r\n	repeated .CMsgGCMsgMasterSetClientMsgRouting.Entry entries = 1;\r\n}\r\n\r\nmessage CMsgGCMsgMasterSetWebAPIRouting_Response {\r\n	optional int32 eresult = 1 [default = 2];\r\n}\r\n\r\nmessage CMsgGCMsgMasterSetClientMsgRouting_Response {\r\n	optional int32 eresult = 1 [default = 2];\r\n}\r\n\r\nmessage CMsgGCMsgSetOptions {\r\n	message MessageRange {\r\n		required uint32 low = 1;\r\n		required uint32 high = 2;\r\n	}\r\n\r\n	enum Option {\r\n		NOTIFY_USER_SESSIONS = 0;\r\n		NOTIFY_SERVER_SESSIONS = 1;\r\n		NOTIFY_ACHIEVEMENTS = 2;\r\n		NOTIFY_VAC_ACTION = 3;\r\n	}\r\n\r\n	enum GCSQLVersion {\r\n		GCSQL_VERSION_BASELINE = 1;\r\n		GCSQL_VERSION_BOOLTYPE = 2;\r\n	}\r\n\r\n	repeated .CMsgGCMsgSetOptions.Option options = 1;\r\n	repeated .CMsgGCMsgSetOptions.MessageRange client_msg_ranges = 2;\r\n	optional .CMsgGCMsgSetOptions.GCSQLVersion gcsql_version = 3 [default = GCSQL_VERSION_BASELINE];\r\n}\r\n\r\nmessage CMsgGCHUpdateSession {\r\n	message ExtraField {\r\n		optional string name = 1;\r\n		optional string value = 2;\r\n	}\r\n\r\n	optional fixed64 steam_id = 1;\r\n	optional uint32 app_id = 2;\r\n	optional bool online = 3;\r\n	optional fixed64 server_steam_id = 4;\r\n	optional uint32 server_addr = 5;\r\n	optional uint32 server_port = 6;\r\n	optional uint32 os_type = 7;\r\n	optional uint32 client_addr = 8;\r\n	repeated .CMsgGCHUpdateSession.ExtraField extra_fields = 9;\r\n}\r\n\r\nmessage CMsgNotificationOfSuspiciousActivity {\r\n	message MultipleGameInstances {\r\n		optional uint32 app_instance_count = 1;\r\n		repeated fixed64 other_steamids = 2;\r\n	}\r\n\r\n	optional fixed64 steamid = 1;\r\n	optional uint32 appid = 2;\r\n	optional .CMsgNotificationOfSuspiciousActivity.MultipleGameInstances multiple_instances = 3;\r\n}\r\n\r\nmessage CMsgDPPartnerMicroTxns {\r\n	message PartnerMicroTxn {\r\n		optional uint32 init_time = 1;\r\n		optional uint32 last_update_time = 2;\r\n		optional uint64 txn_id = 3;\r\n		optional uint32 account_id = 4;\r\n		optional uint32 line_item = 5;\r\n		optional uint64 item_id = 6;\r\n		optional uint32 def_index = 7;\r\n		optional uint32 price = 8;\r\n		optional uint32 tax = 9;\r\n		optional uint32 price_usd = 10;\r\n		optional uint32 tax_usd = 11;\r\n		optional uint32 purchase_type = 12;\r\n		optional uint32 steam_txn_type = 13;\r\n		optional string country_code = 14;\r\n		optional string region_code = 15;\r\n		optional int32 quantity = 16;\r\n		optional uint64 ref_trans_id = 17;\r\n	}\r\n\r\n	message PartnerInfo {\r\n		optional uint32 partner_id = 1;\r\n		optional string partner_name = 2;\r\n		optional string currency_code = 3;\r\n		optional string currency_name = 4;\r\n	}\r\n\r\n	optional uint32 appid = 1;\r\n	optional string gc_name = 2;\r\n	optional .CMsgDPPartnerMicroTxns.PartnerInfo partner = 3;\r\n	repeated .CMsgDPPartnerMicroTxns.PartnerMicroTxn transactions = 4;\r\n}\r\n\r\nmessage CMsgDPPartnerMicroTxnsResponse {\r\n	enum EErrorCode {\r\n		k_MsgValid = 0;\r\n		k_MsgInvalidAppID = 1;\r\n		k_MsgInvalidPartnerInfo = 2;\r\n		k_MsgNoTransactions = 3;\r\n		k_MsgSQLFailure = 4;\r\n		k_MsgPartnerInfoDiscrepancy = 5;\r\n		k_MsgTransactionInsertFailed = 7;\r\n		k_MsgAlreadyRunning = 8;\r\n		k_MsgInvalidTransactionData = 9;\r\n	}\r\n\r\n	optional uint32 eresult = 1 [default = 2];\r\n	optional .CMsgDPPartnerMicroTxnsResponse.EErrorCode eerrorcode = 2 [default = k_MsgValid];\r\n}\r\n\r\n',"/node_modules/steam/lib/public.pub":"-----BEGIN PUBLIC KEY-----\nMIGdMA0GCSqGSIb3DQEBAQUAA4GLADCBhwKBgQDf7BrWLBBmLBc1OhSwfFkRf53T\n2Ct64+AVzRkeRuh7h3SiGEYxqQMUeYKO6UWiSRKpI2hzic9pobFhRr3Bvr/WARvY\ngdTckPv+T1JzZsuVcNfFjrocejN1oWI0Rrtgt4Bo+hOneoo3S57G9F1fOpn5nsQ6\n6WOiu4gZKODnFMBCiQIBEQ==\n-----END PUBLIC KEY-----\n","/node_modules/steam/resources/steam_language/steammsg.steamd":'#import "header.steamd"\r\n\r\n#import "gamecoordinator.steamd"\r\n\r\nclass MsgClientJustStrings<EMsg::Invalid>\r\n{\r\n};\r\n\r\nclass MsgClientGenericResponse<EMsg::Invalid>\r\n{\r\n	EResult result;\r\n};\r\n\r\nclass MsgChannelEncryptRequest<EMsg::ChannelEncryptRequest>\r\n{\r\n	const uint PROTOCOL_VERSION = 1;\r\n	\r\n	uint protocolVersion = MsgChannelEncryptRequest::PROTOCOL_VERSION;\r\n	EUniverse universe = EUniverse::Invalid;\r\n};\r\n\r\nclass MsgChannelEncryptResponse<EMsg::ChannelEncryptResponse>\r\n{\r\n	uint protocolVersion = MsgChannelEncryptRequest::PROTOCOL_VERSION;\r\n	uint keySize = 128;\r\n};\r\n\r\nclass MsgChannelEncryptResult<EMsg::ChannelEncryptResult>\r\n{\r\n	EResult result = EResult::Invalid;\r\n};\r\n\r\nclass MsgClientNewLoginKey<EMsg::ClientNewLoginKey>\r\n{\r\n	uint uniqueID;\r\n	byte<20> loginKey;\r\n};\r\n\r\nclass MsgClientNewLoginKeyAccepted<EMsg::ClientNewLoginKeyAccepted>\r\n{\r\n	uint uniqueID;\r\n};\r\n\r\nclass MsgClientLogon<EMsg::ClientLogon>\r\n{\r\n	const uint ObfuscationMask = 0xBAADF00D;\r\n	const uint CurrentProtocol = 65579;\r\n\r\n	const uint ProtocolVerMajorMask = 0xFFFF0000;\r\n	const uint ProtocolVerMinorMask = 0xFFFF;\r\n\r\n	const ushort ProtocolVerMinorMinGameServers = 4;\r\n	const ushort ProtocolVerMinorMinForSupportingEMsgMulti = 12;\r\n	const ushort ProtocolVerMinorMinForSupportingEMsgClientEncryptPct = 14;\r\n	const ushort ProtocolVerMinorMinForExtendedMsgHdr = 17;\r\n	const ushort ProtocolVerMinorMinForCellId = 18;\r\n	const ushort ProtocolVerMinorMinForSessionIDLast = 19;\r\n	const ushort ProtocolVerMinorMinForServerAvailablityMsgs = 24;\r\n	const ushort ProtocolVerMinorMinClients = 25;\r\n	const ushort ProtocolVerMinorMinForOSType = 26;\r\n	const ushort ProtocolVerMinorMinForCegApplyPESig = 27;\r\n	const ushort ProtocolVerMinorMinForMarketingMessages2 = 27;\r\n	const ushort ProtocolVerMinorMinForAnyProtoBufMessages = 28;\r\n	const ushort ProtocolVerMinorMinForProtoBufLoggedOffMessage = 28;\r\n	const ushort ProtocolVerMinorMinForProtoBufMultiMessages = 28;\r\n	const ushort ProtocolVerMinorMinForSendingProtocolToUFS = 30;\r\n	const ushort ProtocolVerMinorMinForMachineAuth = 33;\r\n	const ushort ProtocolVerMinorMinForSessionIDLastAnon = 36;\r\n	const ushort ProtocolVerMinorMinForEnhancedAppList = 40;\r\n	const ushort ProtocolVerMinorMinForGzipMultiMessages = 43;\r\n};\r\n\r\nclass MsgClientVACBanStatus<EMsg::ClientVACBanStatus>\r\n{\r\n	uint numBans;\r\n};\r\n\r\nclass MsgClientAppUsageEvent<EMsg::ClientAppUsageEvent>\r\n{\r\n	EAppUsageEvent appUsageEvent;\r\n	gameidmarshal ulong gameID;\r\n	ushort offline;\r\n};\r\n\r\nclass MsgClientEmailAddrInfo<EMsg::ClientEmailAddrInfo>\r\n{\r\n	uint passwordStrength;\r\n	uint flagsAccountSecurityPolicy;\r\n	boolmarshal byte validated;\r\n}; \r\n\r\nclass MsgClientUpdateGuestPassesList<EMsg::ClientUpdateGuestPassesList>\r\n{\r\n	EResult result;\r\n	int countGuestPassesToGive;\r\n	int countGuestPassesToRedeem;\r\n};\r\n\r\nclass MsgClientRequestedClientStats<EMsg::ClientRequestedClientStats>\r\n{	\r\n	int countStats;\r\n};\r\n\r\n\r\nclass MsgClientP2PIntroducerMessage<EMsg::ClientP2PIntroducerMessage>\r\n{\r\n	steamidmarshal ulong steamID;\r\n	EIntroducerRouting routingType;\r\n	byte<1450> data;\r\n	uint dataLen;\r\n};\r\n\r\nclass MsgClientOGSBeginSession<EMsg::ClientOGSBeginSession>\r\n{\r\n	byte accountType;\r\n	steamidmarshal ulong accountId;\r\n	uint appId;\r\n	uint timeStarted;\r\n};\r\n\r\nclass MsgClientOGSBeginSessionResponse<EMsg::ClientOGSBeginSessionResponse>\r\n{\r\n	EResult result;\r\n	boolmarshal byte collectingAny;\r\n	boolmarshal byte collectingDetails;\r\n	ulong sessionId;\r\n};\r\n\r\nclass MsgClientOGSEndSession<EMsg::ClientOGSEndSession>\r\n{\r\n	ulong sessionId;\r\n	uint timeEnded;\r\n	int reasonCode;\r\n	int countAttributes;\r\n};\r\n\r\nclass MsgClientOGSEndSessionResponse<EMsg::ClientOGSEndSessionResponse>\r\n{\r\n	EResult result;\r\n};\r\n\r\n\r\nclass MsgClientOGSWriteRow<EMsg::ClientOGSWriteRow>\r\n{\r\n	ulong sessionId;\r\n	int countAttributes;\r\n};\r\n\r\nclass MsgClientGetFriendsWhoPlayGame<EMsg::ClientGetFriendsWhoPlayGame>\r\n{\r\n	gameidmarshal ulong gameId;\r\n};\r\n\r\nclass MsgClientGetFriendsWhoPlayGameResponse<EMsg::ClientGetFriendsWhoPlayGameResponse>\r\n{\r\n	EResult result;\r\n	gameidmarshal ulong gameId;\r\n	uint countFriends;\r\n};\r\n\r\nclass MsgGSPerformHardwareSurvey<EMsg::GSPerformHardwareSurvey>\r\n{\r\n	uint flags;\r\n};\r\n\r\nclass MsgGSGetPlayStatsResponse<EMsg::GSGetPlayStatsResponse>\r\n{\r\n	EResult result;\r\n	int rank;\r\n	uint lifetimeConnects;\r\n	uint lifetimeMinutesPlayed;\r\n};\r\n\r\nclass MsgGSGetReputationResponse<EMsg::GSGetReputationResponse>\r\n{\r\n	EResult result;\r\n	uint reputationScore;\r\n	boolmarshal byte banned;\r\n	uint bannedIp;\r\n	ushort bannedPort;\r\n	ulong bannedGameId;\r\n	uint timeBanExpires;\r\n};\r\n\r\nclass MsgGSDeny<EMsg::GSDeny>\r\n{\r\n	steamidmarshal ulong steamId;\r\n	EDenyReason denyReason;\r\n};\r\n\r\nclass MsgGSApprove<EMsg::GSApprove>\r\n{\r\n	steamidmarshal ulong steamId;\r\n};\r\n\r\nclass MsgGSKick<EMsg::GSKick>\r\n{\r\n	steamidmarshal ulong steamId;\r\n	EDenyReason denyReason;\r\n	int waitTilMapChange;\r\n};\r\n\r\nclass MsgGSGetUserGroupStatus<EMsg::GSGetUserGroupStatus>\r\n{\r\n	steamidmarshal ulong steamIdUser;\r\n	steamidmarshal ulong steamIdGroup;\r\n};\r\n\r\nclass MsgGSGetUserGroupStatusResponse<EMsg::GSGetUserGroupStatusResponse>\r\n{\r\n	steamidmarshal ulong steamIdUser;\r\n	steamidmarshal ulong steamIdGroup;\r\n	EClanRelationship clanRelationship;\r\n	EClanRank clanRank;\r\n};\r\n\r\nclass MsgClientJoinChat<EMsg::ClientJoinChat>\r\n{\r\n	steamidmarshal ulong steamIdChat;\r\n	boolmarshal byte isVoiceSpeaker;\r\n};\r\n\r\nclass MsgClientChatEnter<EMsg::ClientChatEnter>\r\n{\r\n	steamidmarshal ulong steamIdChat;\r\n	steamidmarshal ulong steamIdFriend;\r\n\r\n	EChatRoomType chatRoomType;\r\n\r\n	steamidmarshal ulong steamIdOwner;\r\n	steamidmarshal ulong steamIdClan;\r\n\r\n	byte chatFlags;\r\n\r\n	EChatRoomEnterResponse enterResponse;\r\n};\r\n\r\nclass MsgClientChatMsg<EMsg::ClientChatMsg>\r\n{\r\n	steamidmarshal ulong steamIdChatter;\r\n	steamidmarshal ulong steamIdChatRoom;\r\n	EChatEntryType chatMsgType;\r\n};\r\n\r\nclass MsgClientChatMemberInfo<EMsg::ClientChatMemberInfo>\r\n{\r\n	steamidmarshal ulong steamIdChat;\r\n	EChatInfoType type;\r\n};\r\n\r\nclass MsgClientChatAction<EMsg::ClientChatAction>\r\n{\r\n	steamidmarshal ulong steamIdChat;\r\n	steamidmarshal ulong steamIdUserToActOn;\r\n	EChatAction chatAction;\r\n};\r\n\r\nclass MsgClientChatActionResult<EMsg::ClientChatActionResult>\r\n{\r\n	steamidmarshal ulong steamIdChat;\r\n	steamidmarshal ulong steamIdUserActedOn;\r\n	EChatAction chatAction;\r\n	EChatActionResult actionResult;\r\n};\r\n\r\nclass MsgClientGetNumberOfCurrentPlayers<EMsg::ClientGetNumberOfCurrentPlayers>\r\n{\r\n	gameidmarshal ulong gameID;\r\n};\r\n\r\nclass MsgClientGetNumberOfCurrentPlayersResponse<EMsg::ClientGetNumberOfCurrentPlayersResponse>\r\n{\r\n	EResult result;\r\n	uint numPlayers;\r\n};\r\n\r\nclass MsgClientSetIgnoreFriend<EMsg::ClientSetIgnoreFriend>\r\n{\r\n	steamidmarshal ulong mySteamId;\r\n	steamidmarshal ulong steamIdFriend;\r\n\r\n	byte ignore;\r\n};\r\n\r\nclass MsgClientSetIgnoreFriendResponse<EMsg::ClientSetIgnoreFriendResponse>\r\n{\r\n	ulong unknown;\r\n\r\n	EResult result;\r\n};\r\n\r\nclass MsgClientLoggedOff<EMsg::ClientLoggedOff>\r\n{\r\n	EResult result;\r\n	int secMinReconnectHint;\r\n	int secMaxReconnectHint;\r\n};\r\n\r\nclass MsgClientLogOnResponse<EMsg::ClientLogOnResponse>\r\n{\r\n	EResult result;\r\n	int outOfGameHeartbeatRateSec;\r\n	int inGameHeartbeatRateSec;\r\n	steamidmarshal ulong clientSuppliedSteamId;\r\n	uint ipPublic;\r\n	uint serverRealTime;\r\n};\r\n\r\nclass MsgClientSendGuestPass<EMsg::ClientSendGuestPass>\r\n{\r\n	ulong giftId;\r\n	byte giftType;\r\n	uint accountId;\r\n};\r\n\r\nclass MsgClientSendGuestPassResponse<EMsg::ClientSendGuestPassResponse>\r\n{\r\n	EResult result;\r\n};\r\n\r\nclass MsgClientServerUnavailable<EMsg::ClientServerUnavailable>\r\n{\r\n	ulong jobidSent;\r\n	uint eMsgSent;\r\n	EServerType eServerTypeUnavailable;\r\n};\r\n\r\nclass MsgClientCreateChat<EMsg::ClientCreateChat>\r\n{\r\n	EChatRoomType chatRoomType;\r\n\r\n	gameidmarshal ulong gameId;\r\n\r\n	steamidmarshal ulong steamIdClan;\r\n\r\n	EChatPermission permissionOfficer;\r\n	EChatPermission permissionMember;\r\n	EChatPermission permissionAll;\r\n\r\n	uint membersMax;\r\n\r\n	byte chatFlags;\r\n\r\n	steamidmarshal ulong steamIdFriendChat;\r\n	steamidmarshal ulong steamIdInvited;\r\n};\r\n\r\nclass MsgClientCreateChatResponse<EMsg::ClientCreateChatResponse>\r\n{\r\n	EResult result;\r\n	steamidmarshal ulong steamIdChat;\r\n	EChatRoomType chatRoomType;\r\n	steamidmarshal ulong steamIdFriendChat;\r\n};\r\n\r\nclass MsgClientMarketingMessageUpdate2<EMsg::ClientMarketingMessageUpdate2>\r\n{\r\n	uint marketingMessageUpdateTime;\r\n	uint count;\r\n};\r\n',"/node_modules/steam/resources/steam_language/header.steamd":'#import "emsg.steamd"\r\n#import "eresult.steamd"\r\n#import "enums.steamd"\r\n#import "netheader.steamd"\r\n\r\nclass MsgHdr\r\n{\r\n	EMsg msg = EMsg::Invalid;\r\n\r\n	ulong targetJobID = ulong.MaxValue;\r\n	ulong sourceJobID = ulong.MaxValue;\r\n};\r\n\r\nclass ExtendedClientMsgHdr\r\n{\r\n	EMsg msg = EMsg::Invalid;\r\n\r\n	byte headerSize = 36;\r\n\r\n	ushort headerVersion = 2;\r\n\r\n	ulong targetJobID = ulong.MaxValue;\r\n	ulong sourceJobID = ulong.MaxValue;\r\n\r\n	byte headerCanary = 239;\r\n\r\n	steamidmarshal ulong steamID;\r\n	int sessionID;\r\n};\r\n\r\nclass MsgHdrProtoBuf\r\n{\r\n	protomask EMsg msg = EMsg::Invalid;\r\n	int headerLength;\r\n	\r\n	proto<headerLength> SteamKit2.Internal.CMsgProtoBufHeader proto;\r\n};',"/node_modules/steam/resources/steam_language/gamecoordinator.steamd":"\r\n\r\nclass MsgGCHdrProtoBuf\r\n{\r\n	protomaskgc uint msg = 0;\r\n	int headerLength;\r\n\r\n	proto<headerLength> SteamKit2.GC.Internal.CMsgProtoBufHeader proto;\r\n};\r\n\r\nclass MsgGCHdr\r\n{\r\n	ushort headerVersion = 1;\r\n\r\n	ulong targetJobID = ulong.MaxValue;\r\n	ulong sourceJobID = ulong.MaxValue;\r\n};\r\n","/node_modules/steam/resources/steam_language/emsg.steamd":"enum EMsg\r\n{\r\n	Invalid = 0;\r\n	Multi = 1;\r\n	\r\n	BaseGeneral = 100;\r\n	GenericReply = 100;\r\n	DestJobFailed = 113;\r\n	Alert = 115;\r\n	SCIDRequest = 120;\r\n	SCIDResponse = 121;\r\n	JobHeartbeat = 123;\r\n	HubConnect = 124;\r\n	Subscribe = 126;\r\n	RouteMessage = 127;\r\n	RemoteSysID = 128;\r\n	AMCreateAccountResponse = 129;\r\n	WGRequest = 130;\r\n	WGResponse = 131;\r\n	KeepAlive = 132;\r\n	WebAPIJobRequest = 133;\r\n	WebAPIJobResponse = 134;\r\n	ClientSessionStart = 135;\r\n	ClientSessionEnd = 136;\r\n	ClientSessionUpdateAuthTicket = 137;\r\n	StatsDeprecated = 138; obsolete\r\n	Ping = 139;\r\n	PingResponse = 140;\r\n	Stats = 141;\r\n	RequestFullStatsBlock = 142;\r\n	LoadDBOCacheItem = 143;\r\n	LoadDBOCacheItemResponse = 144;\r\n	InvalidateDBOCacheItems = 145;\r\n	ServiceMethod = 146;\r\n	ServiceMethodResponse = 147;\r\n	\r\n	BaseShell = 200;\r\n	AssignSysID = 200;\r\n	Exit = 201;\r\n	DirRequest = 202;\r\n	DirResponse = 203;\r\n	ZipRequest = 204;\r\n	ZipResponse = 205;\r\n	UpdateRecordResponse = 215;\r\n	UpdateCreditCardRequest = 221;\r\n	UpdateUserBanResponse = 225;\r\n	PrepareToExit = 226;\r\n	ContentDescriptionUpdate = 227;\r\n	TestResetServer = 228;\r\n	UniverseChanged = 229;\r\n	ShellConfigInfoUpdate = 230;\r\n	RequestWindowsEventLogEntries = 233;\r\n	ProvideWindowsEventLogEntries = 234;\r\n	ShellSearchLogs = 235;\r\n	ShellSearchLogsResponse = 236;\r\n	ShellCheckWindowsUpdates = 237;\r\n	ShellCheckWindowsUpdatesResponse = 238;\r\n	ShellFlushUserLicenseCache = 239;\r\n	\r\n	BaseGM = 300;\r\n	Heartbeat = 300;\r\n	ShellFailed = 301;\r\n	ExitShells = 307;\r\n	ExitShell = 308;\r\n	GracefulExitShell = 309;\r\n	NotifyWatchdog = 314;\r\n	LicenseProcessingComplete = 316;\r\n	SetTestFlag = 317;\r\n	QueuedEmailsComplete = 318;\r\n	GMReportPHPError = 319;\r\n	GMDRMSync = 320;\r\n	PhysicalBoxInventory = 321;\r\n	UpdateConfigFile = 322;\r\n	TestInitDB = 323;\r\n	GMWriteConfigToSQL = 324;\r\n	GMLoadActivationCodes = 325;\r\n	GMQueueForFBS = 326;\r\n	GMSchemaConversionResults = 327;\r\n	GMSchemaConversionResultsResponse = 328;\r\n	GMWriteShellFailureToSQL = 329;\r\n	\r\n	BaseAIS = 400;\r\n	AISRefreshContentDescription = 401;\r\n	AISRequestContentDescription = 402;\r\n	AISUpdateAppInfo = 403;\r\n	AISUpdatePackageInfo = 404;\r\n	AISGetPackageChangeNumber = 405;\r\n	AISGetPackageChangeNumberResponse = 406;\r\n	AISAppInfoTableChanged = 407;\r\n	AISUpdatePackageInfoResponse = 408;\r\n	AISCreateMarketingMessage = 409;\r\n	AISCreateMarketingMessageResponse = 410;\r\n	AISGetMarketingMessage = 411;\r\n	AISGetMarketingMessageResponse = 412;\r\n	AISUpdateMarketingMessage = 413;\r\n	AISUpdateMarketingMessageResponse = 414;\r\n	AISRequestMarketingMessageUpdate = 415;\r\n	AISDeleteMarketingMessage = 416;\r\n	AISGetMarketingTreatments = 419;\r\n	AISGetMarketingTreatmentsResponse = 420;\r\n	AISRequestMarketingTreatmentUpdate = 421;\r\n	AISTestAddPackage = 422;\r\n	AIGetAppGCFlags = 423;\r\n	AIGetAppGCFlagsResponse = 424;\r\n	AIGetAppList = 425;\r\n	AIGetAppListResponse = 426;\r\n	AIGetAppInfo = 427;\r\n	AIGetAppInfoResponse = 428;\r\n	AISGetCouponDefinition = 429;\r\n	AISGetCouponDefinitionResponse = 430;\r\n	\r\n	BaseAM = 500;\r\n	AMUpdateUserBanRequest = 504;\r\n	AMAddLicense = 505;\r\n	AMBeginProcessingLicenses = 507;\r\n	AMSendSystemIMToUser = 508;\r\n	AMExtendLicense = 509;\r\n	AMAddMinutesToLicense = 510;\r\n	AMCancelLicense = 511;\r\n	AMInitPurchase = 512;\r\n	AMPurchaseResponse = 513;\r\n	AMGetFinalPrice = 514;\r\n	AMGetFinalPriceResponse = 515;\r\n	AMGetLegacyGameKey = 516;\r\n	AMGetLegacyGameKeyResponse = 517;\r\n	AMFindHungTransactions = 518;\r\n	AMSetAccountTrustedRequest = 519;\r\n	AMCompletePurchase = 521;\r\n	AMCancelPurchase = 522;\r\n	AMNewChallenge = 523;\r\n	AMFixPendingPurchaseResponse = 526;\r\n	AMIsUserBanned = 527;\r\n	AMRegisterKey = 528;\r\n	AMLoadActivationCodes = 529;\r\n	AMLoadActivationCodesResponse = 530;\r\n	AMLookupKeyResponse = 531;\r\n	AMLookupKey = 532;\r\n	AMChatCleanup = 533;\r\n	AMClanCleanup = 534;\r\n	AMFixPendingRefund = 535;\r\n	AMReverseChargeback = 536;\r\n	AMReverseChargebackResponse = 537;\r\n	AMClanCleanupList = 538;\r\n	AMGetLicenses = 539;\r\n	AMGetLicensesResponse = 540;\r\n	AllowUserToPlayQuery = 550;\r\n	AllowUserToPlayResponse = 551;\r\n	AMVerfiyUser = 552;\r\n	AMClientNotPlaying = 553;\r\n	ClientRequestFriendship = 554;\r\n	AMRelayPublishStatus = 555;\r\n	AMResetCommunityContent = 556;\r\n	AMPrimePersonaStateCache = 557;\r\n	AMAllowUserContentQuery = 558;\r\n	AMAllowUserContentResponse = 559;\r\n	AMInitPurchaseResponse = 560;\r\n	AMRevokePurchaseResponse = 561;\r\n	AMLockProfile = 562;\r\n	AMRefreshGuestPasses = 563;\r\n	AMInviteUserToClan = 564;\r\n	AMAcknowledgeClanInvite = 565;\r\n	AMGrantGuestPasses = 566;\r\n	AMClanDataUpdated = 567;\r\n	AMReloadAccount = 568;\r\n	AMClientChatMsgRelay = 569;\r\n	AMChatMulti = 570;\r\n	AMClientChatInviteRelay = 571;\r\n	AMChatInvite = 572;\r\n	AMClientJoinChatRelay = 573;\r\n	AMClientChatMemberInfoRelay = 574;\r\n	AMPublishChatMemberInfo = 575;\r\n	AMClientAcceptFriendInvite = 576;\r\n	AMChatEnter = 577;\r\n	AMClientPublishRemovalFromSource = 578;\r\n	AMChatActionResult = 579;\r\n	AMFindAccounts = 580;\r\n	AMFindAccountsResponse = 581;\r\n	AMSetAccountFlags = 584;\r\n	AMCreateClan = 586;\r\n	AMCreateClanResponse = 587;\r\n	AMGetClanDetails = 588;\r\n	AMGetClanDetailsResponse = 589;\r\n	AMSetPersonaName = 590;\r\n	AMSetAvatar = 591;\r\n	AMAuthenticateUser = 592;\r\n	AMAuthenticateUserResponse = 593;\r\n	AMGetAccountFriendsCount = 594;\r\n	AMGetAccountFriendsCountResponse = 595;\r\n	AMP2PIntroducerMessage = 596;\r\n	ClientChatAction = 597;\r\n	AMClientChatActionRelay = 598;\r\n	\r\n	BaseVS = 600;\r\n	ReqChallenge = 600;\r\n	VACResponse = 601;\r\n	ReqChallengeTest = 602;\r\n	VSMarkCheat = 604;\r\n	VSAddCheat = 605;\r\n	VSPurgeCodeModDB = 606;\r\n	VSGetChallengeResults = 607;\r\n	VSChallengeResultText = 608;\r\n	VSReportLingerer = 609;\r\n	VSRequestManagedChallenge = 610;\r\n	VSLoadDBFinished = 611;\r\n	\r\n	BaseDRMS = 625;\r\n	DRMBuildBlobRequest = 628;\r\n	DRMBuildBlobResponse = 629;\r\n	DRMResolveGuidRequest = 630;\r\n	DRMResolveGuidResponse = 631;\r\n	DRMVariabilityReport = 633;\r\n	DRMVariabilityReportResponse = 634;\r\n	DRMStabilityReport = 635;\r\n	DRMStabilityReportResponse = 636;\r\n	DRMDetailsReportRequest = 637;\r\n	DRMDetailsReportResponse = 638;\r\n	DRMProcessFile = 639;\r\n	DRMAdminUpdate = 640;\r\n	DRMAdminUpdateResponse = 641;\r\n	DRMSync = 642;\r\n	DRMSyncResponse = 643;\r\n	DRMProcessFileResponse = 644;\r\n	DRMEmptyGuidCache = 645;\r\n	DRMEmptyGuidCacheResponse = 646;\r\n	\r\n	BaseCS = 650;\r\n	CSUserContentRequest = 652; obsolete\r\n	\r\n	BaseClient = 700;\r\n	ClientLogOn_Deprecated = 701; obsolete\r\n	ClientAnonLogOn_Deprecated = 702; obsolete\r\n	ClientHeartBeat = 703;\r\n	ClientVACResponse = 704;\r\n	ClientGamesPlayed_obsolete = 705; obsolete\r\n	ClientLogOff = 706;\r\n	ClientNoUDPConnectivity = 707;\r\n	ClientInformOfCreateAccount = 708;\r\n	ClientAckVACBan = 709;\r\n	ClientConnectionStats = 710;\r\n	ClientInitPurchase = 711;\r\n	ClientPingResponse = 712;\r\n	ClientRemoveFriend = 714;\r\n	ClientGamesPlayedNoDataBlob = 715;\r\n	ClientChangeStatus = 716;\r\n	ClientVacStatusResponse = 717;\r\n	ClientFriendMsg = 718;\r\n	ClientGameConnect_obsolete = 719; obsolete\r\n	ClientGamesPlayed2_obsolete = 720; obsolete\r\n	ClientGameEnded_obsolete = 721; obsolete\r\n	ClientGetFinalPrice = 722;\r\n	ClientSystemIM = 726;\r\n	ClientSystemIMAck = 727;\r\n	ClientGetLicenses = 728;\r\n	ClientCancelLicense = 729; obsolete\r\n	ClientGetLegacyGameKey = 730;\r\n	ClientContentServerLogOn_Deprecated = 731; obsolete\r\n	ClientAckVACBan2 = 732;\r\n	ClientAckMessageByGID = 735;\r\n	ClientGetPurchaseReceipts = 736;\r\n	ClientAckPurchaseReceipt = 737;\r\n	ClientGamesPlayed3_obsolete = 738; obsolete\r\n	ClientSendGuestPass = 739;\r\n	ClientAckGuestPass = 740;\r\n	ClientRedeemGuestPass = 741;\r\n	ClientGamesPlayed = 742;\r\n	ClientRegisterKey = 743;\r\n	ClientInviteUserToClan = 744;\r\n	ClientAcknowledgeClanInvite = 745;\r\n	ClientPurchaseWithMachineID = 746;\r\n	ClientAppUsageEvent = 747;\r\n	ClientGetGiftTargetList = 748; obsolete\r\n	ClientGetGiftTargetListResponse = 749; obsolete\r\n	ClientLogOnResponse = 751;\r\n	ClientVACChallenge = 753;\r\n	ClientSetHeartbeatRate = 755;\r\n	ClientNotLoggedOnDeprecated = 756; obsolete\r\n	ClientLoggedOff = 757;\r\n	GSApprove = 758;\r\n	GSDeny = 759;\r\n	GSKick = 760;\r\n	ClientCreateAcctResponse = 761;\r\n	ClientPurchaseResponse = 763;\r\n	ClientPing = 764;\r\n	ClientNOP = 765;\r\n	ClientPersonaState = 766;\r\n	ClientFriendsList = 767;\r\n	ClientAccountInfo = 768;\r\n	ClientVacStatusQuery = 770;\r\n	ClientNewsUpdate = 771;\r\n	ClientGameConnectDeny = 773;\r\n	GSStatusReply = 774;\r\n	ClientGetFinalPriceResponse = 775;\r\n	ClientGameConnectTokens = 779;\r\n	ClientLicenseList = 780;\r\n	ClientCancelLicenseResponse = 781; obsolete\r\n	ClientVACBanStatus = 782;\r\n	ClientCMList = 783;\r\n	ClientEncryptPct = 784;\r\n	ClientGetLegacyGameKeyResponse = 785;\r\n	ClientFavoritesList = 786;\r\n	CSUserContentApprove = 787; obsolete\r\n	CSUserContentDeny = 788; obsolete\r\n	ClientInitPurchaseResponse = 789;\r\n	ClientAddFriend = 791;\r\n	ClientAddFriendResponse = 792;\r\n	ClientInviteFriend = 793;\r\n	ClientInviteFriendResponse = 794;\r\n	ClientSendGuestPassResponse = 795; obsolete\r\n	ClientAckGuestPassResponse = 796;\r\n	ClientRedeemGuestPassResponse = 797;\r\n	ClientUpdateGuestPassesList = 798;\r\n	ClientChatMsg = 799;\r\n	ClientChatInvite = 800;\r\n	ClientJoinChat = 801;\r\n	ClientChatMemberInfo = 802;\r\n	ClientLogOnWithCredentials_Deprecated = 803; obsolete\r\n	ClientPasswordChangeResponse = 805;\r\n	ClientChatEnter = 807;\r\n	ClientFriendRemovedFromSource = 808;\r\n	ClientCreateChat = 809;\r\n	ClientCreateChatResponse = 810;\r\n	ClientUpdateChatMetadata = 811;\r\n	ClientP2PIntroducerMessage = 813;\r\n	ClientChatActionResult = 814;\r\n	ClientRequestFriendData = 815;\r\n	ClientGetUserStats = 818;\r\n	ClientGetUserStatsResponse = 819;\r\n	ClientStoreUserStats = 820;\r\n	ClientStoreUserStatsResponse = 821;\r\n	ClientClanState = 822;\r\n	ClientServiceModule = 830;\r\n	ClientServiceCall = 831;\r\n	ClientServiceCallResponse = 832;\r\n	ClientPackageInfoRequest = 833;\r\n	ClientPackageInfoResponse = 834;\r\n	ClientNatTraversalStatEvent = 839;\r\n	ClientAppInfoRequest = 840;\r\n	ClientAppInfoResponse = 841;\r\n	ClientSteamUsageEvent = 842;\r\n	ClientCheckPassword = 845;\r\n	ClientResetPassword = 846;\r\n	ClientCheckPasswordResponse = 848;\r\n	ClientResetPasswordResponse = 849;\r\n	ClientSessionToken = 850;\r\n	ClientDRMProblemReport = 851;\r\n	ClientSetIgnoreFriend = 855;\r\n	ClientSetIgnoreFriendResponse = 856;\r\n	ClientGetAppOwnershipTicket = 857;\r\n	ClientGetAppOwnershipTicketResponse = 858;\r\n	ClientGetLobbyListResponse = 860;\r\n	ClientGetLobbyMetadata = 861;\r\n	ClientGetLobbyMetadataResponse = 862;\r\n	ClientVTTCert = 863;\r\n	ClientAppInfoUpdate = 866;\r\n	ClientAppInfoChanges = 867;\r\n	ClientServerList = 880;\r\n	ClientEmailChangeResponse = 891;\r\n	ClientSecretQAChangeResponse = 892;\r\n	ClientDRMBlobRequest = 896;\r\n	ClientDRMBlobResponse = 897;\r\n	ClientLookupKey = 898;\r\n	ClientLookupKeyResponse = 899;\r\n	\r\n	BaseGameServer = 900;\r\n	GSDisconnectNotice = 901;\r\n	GSStatus = 903;\r\n	GSUserPlaying = 905;\r\n	GSStatus2 = 906;\r\n	GSStatusUpdate_Unused = 907;\r\n	GSServerType = 908;\r\n	GSPlayerList = 909;\r\n	GSGetUserAchievementStatus = 910;\r\n	GSGetUserAchievementStatusResponse = 911;\r\n	GSGetPlayStats = 918;\r\n	GSGetPlayStatsResponse = 919;\r\n	GSGetUserGroupStatus = 920;\r\n	AMGetUserGroupStatus = 921;\r\n	AMGetUserGroupStatusResponse = 922;\r\n	GSGetUserGroupStatusResponse = 923;\r\n	GSGetReputation = 936;\r\n	GSGetReputationResponse = 937;\r\n	GSAssociateWithClan = 938;\r\n	GSAssociateWithClanResponse = 939;\r\n	GSComputeNewPlayerCompatibility = 940;\r\n	GSComputeNewPlayerCompatibilityResponse = 941;\r\n	\r\n	BaseAdmin = 1000;\r\n	AdminCmd = 1000;\r\n	AdminCmdResponse = 1004;\r\n	AdminLogListenRequest = 1005;\r\n	AdminLogEvent = 1006;\r\n	LogSearchRequest = 1007;\r\n	LogSearchResponse = 1008;\r\n	LogSearchCancel = 1009;\r\n	UniverseData = 1010;\r\n	RequestStatHistory = 1014;\r\n	StatHistory = 1015;\r\n	AdminPwLogon = 1017;\r\n	AdminPwLogonResponse = 1018;\r\n	AdminSpew = 1019;\r\n	AdminConsoleTitle = 1020;\r\n	AdminGCSpew = 1023;\r\n	AdminGCCommand = 1024;\r\n	AdminGCGetCommandList = 1025;\r\n	AdminGCGetCommandListResponse = 1026;\r\n	FBSConnectionData = 1027;\r\n	AdminMsgSpew = 1028;\r\n	\r\n	BaseFBS = 1100;\r\n	FBSReqVersion = 1100;\r\n	FBSVersionInfo = 1101;\r\n	FBSForceRefresh = 1102;\r\n	FBSForceBounce = 1103;\r\n	FBSDeployPackage = 1104;\r\n	FBSDeployResponse = 1105;\r\n	FBSUpdateBootstrapper = 1106;\r\n	FBSSetState = 1107;\r\n	FBSApplyOSUpdates = 1108;\r\n	FBSRunCMDScript = 1109;\r\n	FBSRebootBox = 1110;\r\n	FBSSetBigBrotherMode = 1111;\r\n	FBSMinidumpServer = 1112;\r\n	FBSSetShellCount_obsolete = 1113; obsolete\r\n	FBSDeployHotFixPackage = 1114;\r\n	FBSDeployHotFixResponse = 1115;\r\n	FBSDownloadHotFix = 1116;\r\n	FBSDownloadHotFixResponse = 1117;\r\n	FBSUpdateTargetConfigFile = 1118;\r\n	FBSApplyAccountCred = 1119;\r\n	FBSApplyAccountCredResponse = 1120;\r\n	FBSSetShellCount = 1121;\r\n	FBSTerminateShell = 1122;\r\n	FBSQueryGMForRequest = 1123;\r\n	FBSQueryGMResponse = 1124;\r\n	FBSTerminateZombies = 1125;\r\n	FBSInfoFromBootstrapper = 1126;\r\n	FBSRebootBoxResponse = 1127;\r\n	FBSBootstrapperPackageRequest = 1128;\r\n	FBSBootstrapperPackageResponse = 1129;\r\n	FBSBootstrapperGetPackageChunk = 1130;\r\n	FBSBootstrapperGetPackageChunkResponse = 1131;\r\n	FBSBootstrapperPackageTransferProgress = 1132;\r\n	FBSRestartBootstrapper = 1133;\r\n	\r\n	BaseFileXfer = 1200;\r\n	FileXferRequest = 1200;\r\n	FileXferResponse = 1201;\r\n	FileXferData = 1202;\r\n	FileXferEnd = 1203;\r\n	FileXferDataAck = 1204;\r\n	\r\n	BaseChannelAuth = 1300;\r\n	ChannelAuthChallenge = 1300;\r\n	ChannelAuthResponse = 1301;\r\n	ChannelAuthResult = 1302;\r\n	ChannelEncryptRequest = 1303;\r\n	ChannelEncryptResponse = 1304;\r\n	ChannelEncryptResult = 1305;\r\n	\r\n	BaseBS = 1400;\r\n	BSPurchaseStart = 1401;\r\n	BSPurchaseResponse = 1402;\r\n	BSSettleNOVA = 1404;\r\n	BSSettleComplete = 1406;\r\n	BSBannedRequest = 1407;\r\n	BSInitPayPalTxn = 1408;\r\n	BSInitPayPalTxnResponse = 1409;\r\n	BSGetPayPalUserInfo = 1410;\r\n	BSGetPayPalUserInfoResponse = 1411;\r\n	BSRefundTxn = 1413;\r\n	BSRefundTxnResponse = 1414;\r\n	BSGetEvents = 1415;\r\n	BSChaseRFRRequest = 1416;\r\n	BSPaymentInstrBan = 1417;\r\n	BSPaymentInstrBanResponse = 1418;\r\n	BSProcessGCReports = 1419;\r\n	BSProcessPPReports = 1420;\r\n	BSInitGCBankXferTxn = 1421;\r\n	BSInitGCBankXferTxnResponse = 1422;\r\n	BSQueryGCBankXferTxn = 1423;\r\n	BSQueryGCBankXferTxnResponse = 1424;\r\n	BSCommitGCTxn = 1425;\r\n	BSQueryTransactionStatus = 1426;\r\n	BSQueryTransactionStatusResponse = 1427;\r\n	BSQueryCBOrderStatus = 1428;\r\n	BSQueryCBOrderStatusResponse = 1429;\r\n	BSRunRedFlagReport = 1430;\r\n	BSQueryPaymentInstUsage = 1431;\r\n	BSQueryPaymentInstResponse = 1432;\r\n	BSQueryTxnExtendedInfo = 1433;\r\n	BSQueryTxnExtendedInfoResponse = 1434;\r\n	BSUpdateConversionRates = 1435;\r\n	BSProcessUSBankReports = 1436;\r\n	BSPurchaseRunFraudChecks = 1437;\r\n	BSPurchaseRunFraudChecksResponse = 1438;\r\n	BSStartShippingJobs = 1439;\r\n	BSQueryBankInformation = 1440;\r\n	BSQueryBankInformationResponse = 1441;\r\n	BSValidateXsollaSignature = 1445;\r\n	BSValidateXsollaSignatureResponse = 1446;\r\n	BSQiwiWalletInvoice = 1448;\r\n	BSQiwiWalletInvoiceResponse = 1449;\r\n	BSUpdateInventoryFromProPack = 1450;\r\n	BSUpdateInventoryFromProPackResponse = 1451;\r\n	BSSendShippingRequest = 1452;\r\n	BSSendShippingRequestResponse = 1453;\r\n	BSGetProPackOrderStatus = 1454;\r\n	BSGetProPackOrderStatusResponse = 1455;\r\n	BSCheckJobRunning = 1456;\r\n	BSCheckJobRunningResponse = 1457;\r\n	BSResetPackagePurchaseRateLimit = 1458;\r\n	BSResetPackagePurchaseRateLimitResponse = 1459;\r\n	BSUpdatePaymentData = 1460;\r\n	BSUpdatePaymentDataResponse = 1461;\r\n	BSGetBillingAddress = 1462;\r\n	BSGetBillingAddressResponse = 1463;\r\n	BSGetCreditCardInfo = 1464;\r\n	BSGetCreditCardInfoResponse = 1465;\r\n	BSRemoveExpiredPaymentData = 1468;\r\n	BSRemoveExpiredPaymentDataResponse = 1469;\r\n	BSConvertToCurrentKeys = 1470;\r\n	BSConvertToCurrentKeysResponse = 1471;\r\n	BSInitPurchase = 1472;\r\n	BSInitPurchaseResponse = 1473;\r\n	BSCompletePurchase = 1474;\r\n	BSCompletePurchaseResponse = 1475;\r\n	BSPruneCardUsageStats = 1476;\r\n	BSPruneCardUsageStatsResponse = 1477;\r\n	BSStoreBankInformation = 1478;\r\n	BSStoreBankInformationResponse = 1479;\r\n	BSVerifyPOSAKey = 1480;\r\n	BSVerifyPOSAKeyResponse = 1481;\r\n	BSReverseRedeemPOSAKey = 1482;\r\n	BSReverseRedeemPOSAKeyResponse = 1483;\r\n	BSQueryFindCreditCard = 1484;\r\n	BSQueryFindCreditCardResponse = 1485;\r\n	BSStatusInquiryPOSAKey = 1486;\r\n	BSStatusInquiryPOSAKeyResponse = 1487;\r\n	BSValidateMoPaySignature = 1488;\r\n	BSValidateMoPaySignatureResponse = 1489;\r\n	BSMoPayConfirmProductDelivery = 1490;\r\n	BSMoPayConfirmProductDeliveryResponse = 1491;\r\n	BSGenerateMoPayMD5 = 1492;\r\n	BSGenerateMoPayMD5Response = 1493;\r\n	BSBoaCompraConfirmProductDelivery = 1494;\r\n	BSBoaCompraConfirmProductDeliveryResponse = 1495;\r\n	BSGenerateBoaCompraMD5 = 1496;\r\n	BSGenerateBoaCompraMD5Response = 1497;\r\n	\r\n	BaseATS = 1500;\r\n	ATSStartStressTest = 1501;\r\n	ATSStopStressTest = 1502;\r\n	ATSRunFailServerTest = 1503;\r\n	ATSUFSPerfTestTask = 1504;\r\n	ATSUFSPerfTestResponse = 1505;\r\n	ATSCycleTCM = 1506;\r\n	ATSInitDRMSStressTest = 1507;\r\n	ATSCallTest = 1508;\r\n	ATSCallTestReply = 1509;\r\n	ATSStartExternalStress = 1510;\r\n	ATSExternalStressJobStart = 1511;\r\n	ATSExternalStressJobQueued = 1512;\r\n	ATSExternalStressJobRunning = 1513;\r\n	ATSExternalStressJobStopped = 1514;\r\n	ATSExternalStressJobStopAll = 1515;\r\n	ATSExternalStressActionResult = 1516;\r\n	ATSStarted = 1517;\r\n	ATSCSPerfTestTask = 1518;\r\n	ATSCSPerfTestResponse = 1519;\r\n	\r\n	BaseDP = 1600;\r\n	DPSetPublishingState = 1601;\r\n	DPGamePlayedStats = 1602;\r\n	DPUniquePlayersStat = 1603;\r\n	DPVacInfractionStats = 1605;\r\n	DPVacBanStats = 1606;\r\n	DPBlockingStats = 1607;\r\n	DPNatTraversalStats = 1608;\r\n	DPSteamUsageEvent = 1609;\r\n	DPVacCertBanStats = 1610;\r\n	DPVacCafeBanStats = 1611;\r\n	DPCloudStats = 1612;\r\n	DPAchievementStats = 1613;\r\n	DPAccountCreationStats = 1614;\r\n	DPGetPlayerCount = 1615;\r\n	DPGetPlayerCountResponse = 1616;\r\n	DPGameServersPlayersStats = 1617;\r\n	DPDownloadRateStatistics = 1618;\r\n	DPFacebookStatistics = 1619;\r\n	ClientDPCheckSpecialSurvey = 1620;\r\n	ClientDPCheckSpecialSurveyResponse = 1621;\r\n	ClientDPSendSpecialSurveyResponse = 1622;\r\n	ClientDPSendSpecialSurveyResponseReply = 1623;\r\n	DPStoreSaleStatistics = 1624;\r\n	ClientDPUpdateAppJobReport = 1625;\r\n	ClientDPSteam2AppStarted = 1627;\r\n	DPUpdateContentEvent = 1626;\r\n	\r\n	BaseCM = 1700;\r\n	CMSetAllowState = 1701;\r\n	CMSpewAllowState = 1702;\r\n	CMAppInfoResponseDeprecated = 1703; obsolete\r\n	\r\n	BaseDSS = 1800;\r\n	DSSNewFile = 1801;\r\n	DSSCurrentFileList = 1802;\r\n	DSSSynchList = 1803;\r\n	DSSSynchListResponse = 1804;\r\n	DSSSynchSubscribe = 1805;\r\n	DSSSynchUnsubscribe = 1806;\r\n	\r\n	BaseEPM = 1900;\r\n	EPMStartProcess = 1901;\r\n	EPMStopProcess = 1902;\r\n	EPMRestartProcess = 1903;\r\n	\r\n	BaseGC = 2200;\r\n	GCSendClient = 2200;\r\n	AMRelayToGC = 2201;\r\n	GCUpdatePlayedState = 2202;\r\n	GCCmdRevive = 2203;\r\n	GCCmdBounce = 2204;\r\n	GCCmdForceBounce = 2205;\r\n	GCCmdDown = 2206;\r\n	GCCmdDeploy = 2207;\r\n	GCCmdDeployResponse = 2208;\r\n	GCCmdSwitch = 2209;\r\n	AMRefreshSessions = 2210;\r\n	GCUpdateGSState = 2211;\r\n	GCAchievementAwarded = 2212;\r\n	GCSystemMessage = 2213;\r\n	GCValidateSession = 2214;\r\n	GCValidateSessionResponse = 2215;\r\n	GCCmdStatus = 2216;\r\n	GCRegisterWebInterfaces = 2217; obsolete\r\n	GCRegisterWebInterfaces_Deprecated = 2217; obsolete\r\n	GCGetAccountDetails = 2218; obsolete\r\n	GCGetAccountDetails_DEPRECATED = 2218; obsolete\r\n	GCInterAppMessage = 2219;\r\n	GCGetEmailTemplate = 2220;\r\n	GCGetEmailTemplateResponse = 2221;\r\n	ISRelayToGCH = 2222;\r\n	GCHRelayClientToIS = 2223;\r\n	GCHUpdateSession = 2224;\r\n	GCHRequestUpdateSession = 2225;\r\n	GCHRequestStatus = 2226;\r\n	GCHRequestStatusResponse = 2227;\r\n	\r\n	BaseP2P = 2500;\r\n	P2PIntroducerMessage = 2502;\r\n	\r\n	BaseSM = 2900;\r\n	SMExpensiveReport = 2902;\r\n	SMHourlyReport = 2903;\r\n	SMFishingReport = 2904;\r\n	SMPartitionRenames = 2905;\r\n	SMMonitorSpace = 2906;\r\n	SMGetSchemaConversionResults = 2907;\r\n	SMGetSchemaConversionResultsResponse = 2908;\r\n	\r\n	BaseTest = 3000;\r\n	FailServer = 3000;\r\n	JobHeartbeatTest = 3001;\r\n	JobHeartbeatTestResponse = 3002;\r\n	\r\n	BaseFTSRange = 3100;\r\n	FTSGetBrowseCounts = 3101;\r\n	FTSGetBrowseCountsResponse = 3102;\r\n	FTSBrowseClans = 3103;\r\n	FTSBrowseClansResponse = 3104;\r\n	FTSSearchClansByLocation = 3105;\r\n	FTSSearchClansByLocationResponse = 3106;\r\n	FTSSearchPlayersByLocation = 3107;\r\n	FTSSearchPlayersByLocationResponse = 3108;\r\n	FTSClanDeleted = 3109;\r\n	FTSSearch = 3110;\r\n	FTSSearchResponse = 3111;\r\n	FTSSearchStatus = 3112;\r\n	FTSSearchStatusResponse = 3113;\r\n	FTSGetGSPlayStats = 3114;\r\n	FTSGetGSPlayStatsResponse = 3115;\r\n	FTSGetGSPlayStatsForServer = 3116;\r\n	FTSGetGSPlayStatsForServerResponse = 3117;\r\n	FTSReportIPUpdates = 3118;\r\n	\r\n	BaseCCSRange = 3150;\r\n	CCSGetComments = 3151;\r\n	CCSGetCommentsResponse = 3152;\r\n	CCSAddComment = 3153;\r\n	CCSAddCommentResponse = 3154;\r\n	CCSDeleteComment = 3155;\r\n	CCSDeleteCommentResponse = 3156;\r\n	CCSPreloadComments = 3157;\r\n	CCSNotifyCommentCount = 3158;\r\n	CCSGetCommentsForNews = 3159;\r\n	CCSGetCommentsForNewsResponse = 3160;\r\n	CCSDeleteAllCommentsByAuthor = 3161;\r\n	CCSDeleteAllCommentsByAuthorResponse = 3162;\r\n	\r\n	BaseLBSRange = 3200;\r\n	LBSSetScore = 3201;\r\n	LBSSetScoreResponse = 3202;\r\n	LBSFindOrCreateLB = 3203;\r\n	LBSFindOrCreateLBResponse = 3204;\r\n	LBSGetLBEntries = 3205;\r\n	LBSGetLBEntriesResponse = 3206;\r\n	LBSGetLBList = 3207;\r\n	LBSGetLBListResponse = 3208;\r\n	LBSSetLBDetails = 3209;\r\n	LBSDeleteLB = 3210;\r\n	LBSDeleteLBEntry = 3211;\r\n	LBSResetLB = 3212;\r\n	\r\n	BaseOGS = 3400;\r\n	OGSBeginSession = 3401;\r\n	OGSBeginSessionResponse = 3402;\r\n	OGSEndSession = 3403;\r\n	OGSEndSessionResponse = 3404;\r\n	OGSWriteAppSessionRow = 3406;\r\n\r\n	BaseBRP = 3600;\r\n	BRPStartShippingJobs = 3601;\r\n	BRPProcessUSBankReports = 3602;\r\n	BRPProcessGCReports = 3603;\r\n	BRPProcessPPReports = 3604;\r\n	BRPSettleNOVA = 3605;\r\n	BRPSettleCB = 3606;\r\n	BRPCommitGC = 3607;\r\n	BRPCommitGCResponse = 3608;\r\n	BRPFindHungTransactions = 3609;\r\n	BRPCheckFinanceCloseOutDate = 3610;\r\n	BRPProcessLicenses = 3611;\r\n	BRPProcessLicensesResponse = 3612;\r\n	BRPRemoveExpiredPaymentData = 3613;\r\n	BRPRemoveExpiredPaymentDataResponse = 3614;\r\n	BRPConvertToCurrentKeys = 3615;\r\n	BRPConvertToCurrentKeysResponse = 3616;\r\n	BRPPruneCardUsageStats = 3617;\r\n	BRPPruneCardUsageStatsResponse = 3618;\r\n	BRPCheckActivationCodes = 3619;\r\n	BRPCheckActivationCodesResponse = 3620;\r\n	\r\n	BaseAMRange2 = 4000;\r\n	AMCreateChat = 4001;\r\n	AMCreateChatResponse = 4002;\r\n	AMUpdateChatMetadata = 4003;\r\n	AMPublishChatMetadata = 4004;\r\n	AMSetProfileURL = 4005;\r\n	AMGetAccountEmailAddress = 4006;\r\n	AMGetAccountEmailAddressResponse = 4007;\r\n	AMRequestFriendData = 4008;\r\n	AMRouteToClients = 4009;\r\n	AMLeaveClan = 4010;\r\n	AMClanPermissions = 4011;\r\n	AMClanPermissionsResponse = 4012;\r\n	AMCreateClanEvent = 4013;\r\n	AMCreateClanEventResponse = 4014;\r\n	AMUpdateClanEvent = 4015;\r\n	AMUpdateClanEventResponse = 4016;\r\n	AMGetClanEvents = 4017;\r\n	AMGetClanEventsResponse = 4018;\r\n	AMDeleteClanEvent = 4019;\r\n	AMDeleteClanEventResponse = 4020;\r\n	AMSetClanPermissionSettings = 4021;\r\n	AMSetClanPermissionSettingsResponse = 4022;\r\n	AMGetClanPermissionSettings = 4023;\r\n	AMGetClanPermissionSettingsResponse = 4024;\r\n	AMPublishChatRoomInfo = 4025;\r\n	ClientChatRoomInfo = 4026;\r\n	AMCreateClanAnnouncement = 4027;\r\n	AMCreateClanAnnouncementResponse = 4028;\r\n	AMUpdateClanAnnouncement = 4029;\r\n	AMUpdateClanAnnouncementResponse = 4030;\r\n	AMGetClanAnnouncementsCount = 4031;\r\n	AMGetClanAnnouncementsCountResponse = 4032;\r\n	AMGetClanAnnouncements = 4033;\r\n	AMGetClanAnnouncementsResponse = 4034;\r\n	AMDeleteClanAnnouncement = 4035;\r\n	AMDeleteClanAnnouncementResponse = 4036;\r\n	AMGetSingleClanAnnouncement = 4037;\r\n	AMGetSingleClanAnnouncementResponse = 4038;\r\n	AMGetClanHistory = 4039;\r\n	AMGetClanHistoryResponse = 4040;\r\n	AMGetClanPermissionBits = 4041;\r\n	AMGetClanPermissionBitsResponse = 4042;\r\n	AMSetClanPermissionBits = 4043;\r\n	AMSetClanPermissionBitsResponse = 4044;\r\n	AMSessionInfoRequest = 4045;\r\n	AMSessionInfoResponse = 4046;\r\n	AMValidateWGToken = 4047;\r\n	AMGetSingleClanEvent = 4048;\r\n	AMGetSingleClanEventResponse = 4049;\r\n	AMGetClanRank = 4050;\r\n	AMGetClanRankResponse = 4051;\r\n	AMSetClanRank = 4052;\r\n	AMSetClanRankResponse = 4053;\r\n	AMGetClanPOTW = 4054;\r\n	AMGetClanPOTWResponse = 4055;\r\n	AMSetClanPOTW = 4056;\r\n	AMSetClanPOTWResponse = 4057;\r\n	AMRequestChatMetadata = 4058;\r\n	AMDumpUser = 4059;\r\n	AMKickUserFromClan = 4060;\r\n	AMAddFounderToClan = 4061;\r\n	AMValidateWGTokenResponse = 4062;\r\n	AMSetCommunityState = 4063;\r\n	AMSetAccountDetails = 4064;\r\n	AMGetChatBanList = 4065;\r\n	AMGetChatBanListResponse = 4066;\r\n	AMUnBanFromChat = 4067;\r\n	AMSetClanDetails = 4068;\r\n	AMGetAccountLinks = 4069;\r\n	AMGetAccountLinksResponse = 4070;\r\n	AMSetAccountLinks = 4071;\r\n	AMSetAccountLinksResponse = 4072;\r\n	AMGetUserGameStats = 4073;\r\n	AMGetUserGameStatsResponse = 4074;\r\n	AMCheckClanMembership = 4075;\r\n	AMGetClanMembers = 4076;\r\n	AMGetClanMembersResponse = 4077;\r\n	AMJoinPublicClan = 4078;\r\n	AMNotifyChatOfClanChange = 4079;\r\n	AMResubmitPurchase = 4080;\r\n	AMAddFriend = 4081;\r\n	AMAddFriendResponse = 4082;\r\n	AMRemoveFriend = 4083;\r\n	AMDumpClan = 4084;\r\n	AMChangeClanOwner = 4085;\r\n	AMCancelEasyCollect = 4086;\r\n	AMCancelEasyCollectResponse = 4087;\r\n	AMGetClanMembershipList = 4088;\r\n	AMGetClanMembershipListResponse = 4089;\r\n	AMClansInCommon = 4090;\r\n	AMClansInCommonResponse = 4091;\r\n	AMIsValidAccountID = 4092;\r\n	AMConvertClan = 4093;\r\n	AMGetGiftTargetListRelay = 4094;\r\n	AMWipeFriendsList = 4095;\r\n	AMSetIgnored = 4096;\r\n	AMClansInCommonCountResponse = 4097;\r\n	AMFriendsList = 4098;\r\n	AMFriendsListResponse = 4099;\r\n	AMFriendsInCommon = 4100;\r\n	AMFriendsInCommonResponse = 4101;\r\n	AMFriendsInCommonCountResponse = 4102;\r\n	AMClansInCommonCount = 4103;\r\n	AMChallengeVerdict = 4104;\r\n	AMChallengeNotification = 4105;\r\n	AMFindGSByIP = 4106;\r\n	AMFoundGSByIP = 4107;\r\n	AMGiftRevoked = 4108;\r\n	AMCreateAccountRecord = 4109;\r\n	AMUserClanList = 4110;\r\n	AMUserClanListResponse = 4111;\r\n	AMGetAccountDetails2 = 4112;\r\n	AMGetAccountDetailsResponse2 = 4113;\r\n	AMSetCommunityProfileSettings = 4114;\r\n	AMSetCommunityProfileSettingsResponse = 4115;\r\n	AMGetCommunityPrivacyState = 4116;\r\n	AMGetCommunityPrivacyStateResponse = 4117;\r\n	AMCheckClanInviteRateLimiting = 4118;\r\n	AMGetUserAchievementStatus = 4119;\r\n	AMGetIgnored = 4120;\r\n	AMGetIgnoredResponse = 4121;\r\n	AMSetIgnoredResponse = 4122;\r\n	AMSetFriendRelationshipNone = 4123;\r\n	AMGetFriendRelationship = 4124;\r\n	AMGetFriendRelationshipResponse = 4125;\r\n	AMServiceModulesCache = 4126;\r\n	AMServiceModulesCall = 4127;\r\n	AMServiceModulesCallResponse = 4128;\r\n	AMGetCaptchaDataForIP = 4129;\r\n	AMGetCaptchaDataForIPResponse = 4130;\r\n	AMValidateCaptchaDataForIP = 4131;\r\n	AMValidateCaptchaDataForIPResponse = 4132;\r\n	AMTrackFailedAuthByIP = 4133;\r\n	AMGetCaptchaDataByGID = 4134;\r\n	AMGetCaptchaDataByGIDResponse = 4135;\r\n	AMGetLobbyList = 4136;\r\n	AMGetLobbyListResponse = 4137;\r\n	AMGetLobbyMetadata = 4138;\r\n	AMGetLobbyMetadataResponse = 4139;\r\n	CommunityAddFriendNews = 4140;\r\n	AMAddClanNews = 4141;\r\n	AMWriteNews = 4142;\r\n	AMFindClanUser = 4143;\r\n	AMFindClanUserResponse = 4144;\r\n	AMBanFromChat = 4145;\r\n	AMGetUserHistoryResponse = 4146;\r\n	AMGetUserNewsSubscriptions = 4147;\r\n	AMGetUserNewsSubscriptionsResponse = 4148;\r\n	AMSetUserNewsSubscriptions = 4149;\r\n	AMGetUserNews = 4150;\r\n	AMGetUserNewsResponse = 4151;\r\n	AMSendQueuedEmails = 4152;\r\n	AMSetLicenseFlags = 4153;\r\n	AMGetUserHistory = 4154;\r\n	CommunityDeleteUserNews = 4155;\r\n	AMAllowUserFilesRequest = 4156;\r\n	AMAllowUserFilesResponse = 4157;\r\n	AMGetAccountStatus = 4158;\r\n	AMGetAccountStatusResponse = 4159;\r\n	AMEditBanReason = 4160;\r\n	AMCheckClanMembershipResponse = 4161;\r\n	AMProbeClanMembershipList = 4162;\r\n	AMProbeClanMembershipListResponse = 4163;\r\n	AMGetFriendsLobbies = 4165;\r\n	AMGetFriendsLobbiesResponse = 4166;\r\n	AMGetUserFriendNewsResponse = 4172;\r\n	CommunityGetUserFriendNews = 4173;\r\n	AMGetUserClansNewsResponse = 4174;\r\n	AMGetUserClansNews = 4175;\r\n	AMStoreInitPurchase = 4176;\r\n	AMStoreInitPurchaseResponse = 4177;\r\n	AMStoreGetFinalPrice = 4178;\r\n	AMStoreGetFinalPriceResponse = 4179;\r\n	AMStoreCompletePurchase = 4180;\r\n	AMStoreCancelPurchase = 4181;\r\n	AMStorePurchaseResponse = 4182;\r\n	AMCreateAccountRecordInSteam3 = 4183;\r\n	AMGetPreviousCBAccount = 4184;\r\n	AMGetPreviousCBAccountResponse = 4185;\r\n	AMUpdateBillingAddress = 4186;\r\n	AMUpdateBillingAddressResponse = 4187;\r\n	AMGetBillingAddress = 4188;\r\n	AMGetBillingAddressResponse = 4189;\r\n	AMGetUserLicenseHistory = 4190;\r\n	AMGetUserLicenseHistoryResponse = 4191;\r\n	AMSupportChangePassword = 4194;\r\n	AMSupportChangeEmail = 4195;\r\n	AMSupportChangeSecretQA = 4196;\r\n	AMResetUserVerificationGSByIP = 4197;\r\n	AMUpdateGSPlayStats = 4198;\r\n	AMSupportEnableOrDisable = 4199;\r\n	AMGetComments = 4200;\r\n	AMGetCommentsResponse = 4201;\r\n	AMAddComment = 4202;\r\n	AMAddCommentResponse = 4203;\r\n	AMDeleteComment = 4204;\r\n	AMDeleteCommentResponse = 4205;\r\n	AMGetPurchaseStatus = 4206;\r\n	AMSupportIsAccountEnabled = 4209;\r\n	AMSupportIsAccountEnabledResponse = 4210;\r\n	AMGetUserStats = 4211;\r\n	AMSupportKickSession = 4212;\r\n	AMGSSearch = 4213;\r\n	MarketingMessageUpdate = 4216;\r\n	AMRouteFriendMsg = 4219;\r\n	AMTicketAuthRequestOrResponse = 4220;\r\n	AMVerifyDepotManagementRights = 4222;\r\n	AMVerifyDepotManagementRightsResponse = 4223;\r\n	AMAddFreeLicense = 4224;\r\n	AMGetUserFriendsMinutesPlayed = 4225;\r\n	AMGetUserFriendsMinutesPlayedResponse = 4226;\r\n	AMGetUserMinutesPlayed = 4227;\r\n	AMGetUserMinutesPlayedResponse = 4228;\r\n	AMValidateEmailLink = 4231;\r\n	AMValidateEmailLinkResponse = 4232;\r\n	AMAddUsersToMarketingTreatment = 4234;\r\n	AMStoreUserStats = 4236;\r\n	AMGetUserGameplayInfo = 4237;\r\n	AMGetUserGameplayInfoResponse = 4238;\r\n	AMGetCardList = 4239;\r\n	AMGetCardListResponse = 4240;\r\n	AMDeleteStoredCard = 4241;\r\n	AMRevokeLegacyGameKeys = 4242;\r\n	AMGetWalletDetails = 4244;\r\n	AMGetWalletDetailsResponse = 4245;\r\n	AMDeleteStoredPaymentInfo = 4246;\r\n	AMGetStoredPaymentSummary = 4247;\r\n	AMGetStoredPaymentSummaryResponse = 4248;\r\n	AMGetWalletConversionRate = 4249;\r\n	AMGetWalletConversionRateResponse = 4250;\r\n	AMConvertWallet = 4251;\r\n	AMConvertWalletResponse = 4252;\r\n	AMRelayGetFriendsWhoPlayGame = 4253;\r\n	AMRelayGetFriendsWhoPlayGameResponse = 4254;\r\n	AMSetPreApproval = 4255;\r\n	AMSetPreApprovalResponse = 4256;\r\n	AMMarketingTreatmentUpdate = 4257;\r\n	AMCreateRefund = 4258;\r\n	AMCreateRefundResponse = 4259;\r\n	AMCreateChargeback = 4260;\r\n	AMCreateChargebackResponse = 4261;\r\n	AMCreateDispute = 4262;\r\n	AMCreateDisputeResponse = 4263;\r\n	AMClearDispute = 4264;\r\n	AMClearDisputeResponse = 4265;\r\n	AMPlayerNicknameList = 4266;\r\n	AMPlayerNicknameListResponse = 4267;\r\n	AMSetDRMTestConfig = 4268;\r\n	AMGetUserCurrentGameInfo = 4269;\r\n	AMGetUserCurrentGameInfoResponse = 4270;\r\n	AMGetGSPlayerList = 4271;\r\n	AMGetGSPlayerListResponse = 4272;\r\n	AMUpdatePersonaStateCache = 4275;\r\n	AMGetGameMembers = 4276;\r\n	AMGetGameMembersResponse = 4277;\r\n	AMGetSteamIDForMicroTxn = 4278;\r\n	AMGetSteamIDForMicroTxnResponse = 4279;\r\n	AMAddPublisherUser = 4280;\r\n	AMRemovePublisherUser = 4281;\r\n	AMGetUserLicenseList = 4282;\r\n	AMGetUserLicenseListResponse = 4283;\r\n	AMReloadGameGroupPolicy = 4284;\r\n	AMAddFreeLicenseResponse = 4285;\r\n	AMVACStatusUpdate = 4286;\r\n	AMGetAccountDetails = 4287;\r\n	AMGetAccountDetailsResponse = 4288;\r\n	AMGetPlayerLinkDetails = 4289;\r\n	AMGetPlayerLinkDetailsResponse = 4290;\r\n	AMSubscribeToPersonaFeed = 4291;\r\n	AMGetUserVacBanList = 4292;\r\n	AMGetUserVacBanListResponse = 4293;\r\n	AMGetAccountFlagsForWGSpoofing = 4294;\r\n	AMGetAccountFlagsForWGSpoofingResponse = 4295;\r\n	AMGetFriendsWishlistInfo = 4296;\r\n	AMGetFriendsWishlistInfoResponse = 4297;\r\n	AMGetClanOfficers = 4298;\r\n	AMGetClanOfficersResponse = 4299;\r\n	AMNameChange = 4300;\r\n	AMGetNameHistory = 4301;\r\n	AMGetNameHistoryResponse = 4302;\r\n	AMUpdateProviderStatus = 4305;\r\n	AMClearPersonaMetadataBlob = 4306;\r\n	AMSupportRemoveAccountSecurity = 4307;\r\n	AMIsAccountInCaptchaGracePeriod = 4308;\r\n	AMIsAccountInCaptchaGracePeriodResponse = 4309;\r\n	AMAccountPS3Unlink = 4310;\r\n	AMAccountPS3UnlinkResponse = 4311;\r\n	AMStoreUserStatsResponse = 4312;\r\n	AMGetAccountPSNInfo = 4313;\r\n	AMGetAccountPSNInfoResponse = 4314;\r\n	AMAuthenticatedPlayerList = 4315;\r\n	AMGetUserGifts = 4316;\r\n	AMGetUserGiftsResponse = 4317;\r\n	AMTransferLockedGifts = 4320;\r\n	AMTransferLockedGiftsResponse = 4321;\r\n	AMPlayerHostedOnGameServer = 4322;\r\n	AMGetAccountBanInfo = 4323;\r\n	AMGetAccountBanInfoResponse = 4324;\r\n	AMRecordBanEnforcement = 4325;\r\n	AMRollbackGiftTransfer = 4326;\r\n	AMRollbackGiftTransferResponse = 4327;\r\n	AMHandlePendingTransaction = 4328;\r\n	AMRequestClanDetails = 4329;\r\n	AMDeleteStoredPaypalAgreement = 4330;\r\n	AMGameServerUpdate = 4331;\r\n	AMGameServerRemove = 4332;\r\n	AMGetPaypalAgreements = 4333;\r\n	AMGetPaypalAgreementsResponse = 4334;\r\n	AMGameServerPlayerCompatibilityCheck = 4335;\r\n	AMGameServerPlayerCompatibilityCheckResponse = 4336;\r\n	AMRenewLicense = 4337;\r\n	AMGetAccountCommunityBanInfo = 4338;\r\n	AMGetAccountCommunityBanInfoResponse = 4339;\r\n	AMGameServerAccountChangePassword = 4340;\r\n	AMGameServerAccountDeleteAccount = 4341;\r\n	AMRenewAgreement = 4342;\r\n	AMSendEmail = 4343;\r\n	AMXsollaPayment = 4344;\r\n	AMXsollaPaymentResponse = 4345;\r\n	AMAcctAllowedToPurchase = 4346;\r\n	AMAcctAllowedToPurchaseResponse = 4347;\r\n	AMSwapKioskDeposit = 4348;\r\n	AMSwapKioskDepositResponse = 4349;\r\n	AMSetUserGiftUnowned = 4350;\r\n	AMSetUserGiftUnownedResponse = 4351;\r\n	AMClaimUnownedUserGift = 4352;\r\n	AMClaimUnownedUserGiftResponse = 4353;\r\n	AMSetClanName = 4354;\r\n	AMSetClanNameResponse = 4355;\r\n	AMGrantCoupon = 4356;\r\n	AMGrantCouponResponse = 4357;\r\n	AMIsPackageRestrictedInUserCountry = 4358;\r\n	AMIsPackageRestrictedInUserCountryResponse = 4359;\r\n	AMHandlePendingTransactionResponse = 4360;\r\n	AMGrantGuestPasses2 = 4361;\r\n	AMGrantGuestPasses2Response = 4362;\r\n	AMSessionQuery = 4363;\r\n	AMSessionQueryResponse = 4364;\r\n	AMGetPlayerBanDetails = 4365;\r\n	AMGetPlayerBanDetailsResponse = 4366;\r\n	AMFinalizePurchase = 4367;\r\n	AMFinalizePurchaseResponse = 4368;\r\n	AMPersonaChangeResponse = 4372;\r\n	AMGetClanDetailsForForumCreation = 4373;\r\n	AMGetClanDetailsForForumCreationResponse = 4374;\r\n	AMGetPendingNotificationCount = 4375;\r\n	AMGetPendingNotificationCountResponse = 4376;\r\n	AMPasswordHashUpgrade = 4377;\r\n	AMMoPayPayment = 4378;\r\n	AMMoPayPaymentResponse = 4379;\r\n	AMBoaCompraPayment = 4380;\r\n	AMBoaCompraPaymentResponse = 4381;\r\n	AMExpireCaptchaByGID = 4382;\r\n	AMCompleteExternalPurchase = 4383;\r\n	AMCompleteExternalPurchaseResponse = 4384;\r\n	AMResolveNegativeWalletCredits = 4385;\r\n	AMResolveNegativeWalletCreditsResponse = 4386;\r\n	AMPayelpPayment = 4387;\r\n	AMPayelpPaymentResponse = 4388;\r\n	AMPlayerGetClanBasicDetails = 4389;\r\n	AMPlayerGetClanBasicDetailsResponse = 4390;\r\n	\r\n	AMTwoFactorRecoverAuthenticatorRequest = 4402;\r\n	AMTwoFactorRecoverAuthenticatorResponse = 4403;\r\n	\r\n	BasePSRange = 5000;\r\n	PSCreateShoppingCart = 5001;\r\n	PSCreateShoppingCartResponse = 5002;\r\n	PSIsValidShoppingCart = 5003;\r\n	PSIsValidShoppingCartResponse = 5004;\r\n	PSAddPackageToShoppingCart = 5005;\r\n	PSAddPackageToShoppingCartResponse = 5006;\r\n	PSRemoveLineItemFromShoppingCart = 5007;\r\n	PSRemoveLineItemFromShoppingCartResponse = 5008;\r\n	PSGetShoppingCartContents = 5009;\r\n	PSGetShoppingCartContentsResponse = 5010;\r\n	PSAddWalletCreditToShoppingCart = 5011;\r\n	PSAddWalletCreditToShoppingCartResponse = 5012;\r\n	\r\n	BaseUFSRange = 5200;\r\n	ClientUFSUploadFileRequest = 5202;\r\n	ClientUFSUploadFileResponse = 5203;\r\n	ClientUFSUploadFileChunk = 5204;\r\n	ClientUFSUploadFileFinished = 5205;\r\n	ClientUFSGetFileListForApp = 5206;\r\n	ClientUFSGetFileListForAppResponse = 5207;\r\n	ClientUFSDownloadRequest = 5210;\r\n	ClientUFSDownloadResponse = 5211;\r\n	ClientUFSDownloadChunk = 5212;\r\n	ClientUFSLoginRequest = 5213;\r\n	ClientUFSLoginResponse = 5214;\r\n	UFSReloadPartitionInfo = 5215;\r\n	ClientUFSTransferHeartbeat = 5216;\r\n	UFSSynchronizeFile = 5217;\r\n	UFSSynchronizeFileResponse = 5218;\r\n	ClientUFSDeleteFileRequest = 5219;\r\n	ClientUFSDeleteFileResponse = 5220;\r\n	UFSDownloadRequest = 5221;\r\n	UFSDownloadResponse = 5222;\r\n	UFSDownloadChunk = 5223;\r\n	ClientUFSGetUGCDetails = 5226;\r\n	ClientUFSGetUGCDetailsResponse = 5227;\r\n	UFSUpdateFileFlags = 5228;\r\n	UFSUpdateFileFlagsResponse = 5229;\r\n	ClientUFSGetSingleFileInfo = 5230;\r\n	ClientUFSGetSingleFileInfoResponse = 5231;\r\n	ClientUFSShareFile = 5232;\r\n	ClientUFSShareFileResponse = 5233;\r\n	UFSReloadAccount = 5234;\r\n	UFSReloadAccountResponse = 5235;\r\n	UFSUpdateRecordBatched = 5236;\r\n	UFSUpdateRecordBatchedResponse = 5237;\r\n	UFSMigrateFile = 5238;\r\n	UFSMigrateFileResponse = 5239;\r\n	UFSGetUGCURLs = 5240;\r\n	UFSGetUGCURLsResponse = 5241;\r\n	UFSHttpUploadFileFinishRequest = 5242;\r\n	UFSHttpUploadFileFinishResponse = 5243;\r\n	UFSDownloadStartRequest = 5244;\r\n	UFSDownloadStartResponse = 5245;\r\n	UFSDownloadChunkRequest = 5246;\r\n	UFSDownloadChunkResponse = 5247;\r\n	UFSDownloadFinishRequest = 5248;\r\n	UFSDownloadFinishResponse = 5249;\r\n	UFSFlushURLCache = 5250;\r\n	UFSUploadCommit = 5251;\r\n	UFSUploadCommitResponse = 5252;\r\n	\r\n	BaseClient2 = 5400;\r\n	ClientRequestForgottenPasswordEmail = 5401;\r\n	ClientRequestForgottenPasswordEmailResponse = 5402;\r\n	ClientCreateAccountResponse = 5403;\r\n	ClientResetForgottenPassword = 5404;\r\n	ClientResetForgottenPasswordResponse = 5405;\r\n	ClientCreateAccount2 = 5406;\r\n	ClientInformOfResetForgottenPassword = 5407;\r\n	ClientInformOfResetForgottenPasswordResponse = 5408;\r\n	ClientAnonUserLogOn_Deprecated = 5409; obsolete\r\n	ClientGamesPlayedWithDataBlob = 5410;\r\n	ClientUpdateUserGameInfo = 5411;\r\n	ClientFileToDownload = 5412;\r\n	ClientFileToDownloadResponse = 5413;\r\n	ClientLBSSetScore = 5414;\r\n	ClientLBSSetScoreResponse = 5415;\r\n	ClientLBSFindOrCreateLB = 5416;\r\n	ClientLBSFindOrCreateLBResponse = 5417;\r\n	ClientLBSGetLBEntries = 5418;\r\n	ClientLBSGetLBEntriesResponse = 5419;\r\n	ClientMarketingMessageUpdate = 5420; obsolete\r\n	ClientChatDeclined = 5426;\r\n	ClientFriendMsgIncoming = 5427;\r\n	ClientAuthList_Deprecated = 5428; obsolete\r\n	ClientTicketAuthComplete = 5429;\r\n	ClientIsLimitedAccount = 5430;\r\n	ClientRequestAuthList = 5431;\r\n	ClientAuthList = 5432;\r\n	ClientStat = 5433;\r\n	ClientP2PConnectionInfo = 5434;\r\n	ClientP2PConnectionFailInfo = 5435;\r\n	ClientGetNumberOfCurrentPlayers = 5436;\r\n	ClientGetNumberOfCurrentPlayersResponse = 5437;\r\n	ClientGetDepotDecryptionKey = 5438;\r\n	ClientGetDepotDecryptionKeyResponse = 5439;\r\n	GSPerformHardwareSurvey = 5440;\r\n	ClientGetAppBetaPasswords = 5441;\r\n	ClientGetAppBetaPasswordsResponse = 5442;\r\n	ClientEnableTestLicense = 5443;\r\n	ClientEnableTestLicenseResponse = 5444;\r\n	ClientDisableTestLicense = 5445;\r\n	ClientDisableTestLicenseResponse = 5446;\r\n	ClientRequestValidationMail = 5448;\r\n	ClientRequestValidationMailResponse = 5449;\r\n	ClientToGC = 5452;\r\n	ClientFromGC = 5453;\r\n	ClientRequestChangeMail = 5454;\r\n	ClientRequestChangeMailResponse = 5455;\r\n	ClientEmailAddrInfo = 5456;\r\n	ClientPasswordChange3 = 5457;\r\n	ClientEmailChange3 = 5458;\r\n	ClientPersonalQAChange3 = 5459;\r\n	ClientResetForgottenPassword3 = 5460;\r\n	ClientRequestForgottenPasswordEmail3 = 5461;\r\n	ClientCreateAccount3 = 5462;\r\n	ClientNewLoginKey = 5463;\r\n	ClientNewLoginKeyAccepted = 5464;\r\n	ClientLogOnWithHash_Deprecated = 5465; obsolete\r\n	ClientStoreUserStats2 = 5466;\r\n	ClientStatsUpdated = 5467;\r\n	ClientActivateOEMLicense = 5468;\r\n	ClientRegisterOEMMachine = 5469;\r\n	ClientRegisterOEMMachineResponse = 5470;\r\n	ClientRequestedClientStats = 5480;\r\n	ClientStat2Int32 = 5481;\r\n	ClientStat2 = 5482;\r\n	ClientVerifyPassword = 5483;\r\n	ClientVerifyPasswordResponse = 5484;\r\n	ClientDRMDownloadRequest = 5485;\r\n	ClientDRMDownloadResponse = 5486;\r\n	ClientDRMFinalResult = 5487;\r\n	ClientGetFriendsWhoPlayGame = 5488;\r\n	ClientGetFriendsWhoPlayGameResponse = 5489;\r\n	ClientOGSBeginSession = 5490;\r\n	ClientOGSBeginSessionResponse = 5491;\r\n	ClientOGSEndSession = 5492;\r\n	ClientOGSEndSessionResponse = 5493;\r\n	ClientOGSWriteRow = 5494;\r\n	ClientDRMTest = 5495;\r\n	ClientDRMTestResult = 5496;\r\n	ClientServerUnavailable = 5500;\r\n	ClientServersAvailable = 5501;\r\n	ClientRegisterAuthTicketWithCM = 5502;\r\n	ClientGCMsgFailed = 5503;\r\n	ClientMicroTxnAuthRequest = 5504;\r\n	ClientMicroTxnAuthorize = 5505;\r\n	ClientMicroTxnAuthorizeResponse = 5506;\r\n	ClientAppMinutesPlayedData = 5507;\r\n	ClientGetMicroTxnInfo = 5508;\r\n	ClientGetMicroTxnInfoResponse = 5509;\r\n	ClientMarketingMessageUpdate2 = 5510;\r\n	ClientDeregisterWithServer = 5511;\r\n	ClientSubscribeToPersonaFeed = 5512;\r\n	ClientLogon = 5514;\r\n	ClientGetClientDetails = 5515;\r\n	ClientGetClientDetailsResponse = 5516;\r\n	ClientReportOverlayDetourFailure = 5517;\r\n	ClientGetClientAppList = 5518;\r\n	ClientGetClientAppListResponse = 5519;\r\n	ClientInstallClientApp = 5520;\r\n	ClientInstallClientAppResponse = 5521;\r\n	ClientUninstallClientApp = 5522;\r\n	ClientUninstallClientAppResponse = 5523;\r\n	ClientSetClientAppUpdateState = 5524;\r\n	ClientSetClientAppUpdateStateResponse = 5525;\r\n	ClientRequestEncryptedAppTicket = 5526;\r\n	ClientRequestEncryptedAppTicketResponse = 5527;\r\n	ClientWalletInfoUpdate = 5528;\r\n	ClientLBSSetUGC = 5529;\r\n	ClientLBSSetUGCResponse = 5530;\r\n	ClientAMGetClanOfficers = 5531;\r\n	ClientAMGetClanOfficersResponse = 5532;\r\n	ClientCheckFileSignature = 5533;\r\n	ClientCheckFileSignatureResponse = 5534;\r\n	ClientFriendProfileInfo = 5535;\r\n	ClientFriendProfileInfoResponse = 5536;\r\n	ClientUpdateMachineAuth = 5537;\r\n	ClientUpdateMachineAuthResponse = 5538;\r\n	ClientReadMachineAuth = 5539;\r\n	ClientReadMachineAuthResponse = 5540;\r\n	ClientRequestMachineAuth = 5541;\r\n	ClientRequestMachineAuthResponse = 5542;\r\n	ClientScreenshotsChanged = 5543;\r\n	ClientEmailChange4 = 5544;\r\n	ClientEmailChangeResponse4 = 5545;\r\n	ClientGetCDNAuthToken = 5546;\r\n	ClientGetCDNAuthTokenResponse = 5547;\r\n	ClientDownloadRateStatistics = 5548;\r\n	ClientRequestAccountData = 5549;\r\n	ClientRequestAccountDataResponse = 5550;\r\n	ClientResetForgottenPassword4 = 5551;\r\n	ClientHideFriend = 5552;\r\n	ClientFriendsGroupsList = 5553;\r\n	ClientGetClanActivityCounts = 5554;\r\n	ClientGetClanActivityCountsResponse = 5555;\r\n	ClientOGSReportString = 5556;\r\n	ClientOGSReportBug = 5557;\r\n	ClientSentLogs = 5558;\r\n	ClientLogonGameServer = 5559;\r\n	AMClientCreateFriendsGroup = 5560;\r\n	AMClientCreateFriendsGroupResponse = 5561;\r\n	AMClientDeleteFriendsGroup = 5562;\r\n	AMClientDeleteFriendsGroupResponse = 5563;\r\n	AMClientRenameFriendsGroup = 5564;\r\n	AMClientRenameFriendsGroupResponse = 5565;\r\n	AMClientAddFriendToGroup = 5566;\r\n	AMClientAddFriendToGroupResponse = 5567;\r\n	AMClientRemoveFriendFromGroup = 5568;\r\n	AMClientRemoveFriendFromGroupResponse = 5569;\r\n	ClientAMGetPersonaNameHistory = 5570;\r\n	ClientAMGetPersonaNameHistoryResponse = 5571;\r\n	ClientRequestFreeLicense = 5572;\r\n	ClientRequestFreeLicenseResponse = 5573;\r\n	ClientDRMDownloadRequestWithCrashData = 5574;\r\n	ClientAuthListAck = 5575;\r\n	ClientItemAnnouncements = 5576;\r\n	ClientRequestItemAnnouncements = 5577;\r\n	ClientFriendMsgEchoToSender = 5578;\r\n	ClientChangeSteamGuardOptions = 5579;\r\n	ClientChangeSteamGuardOptionsResponse = 5580;\r\n	ClientOGSGameServerPingSample = 5581;\r\n	ClientCommentNotifications = 5582;\r\n	ClientRequestCommentNotifications = 5583;\r\n	ClientPersonaChangeResponse = 5584;\r\n	ClientRequestWebAPIAuthenticateUserNonce = 5585;\r\n	ClientRequestWebAPIAuthenticateUserNonceResponse = 5586;\r\n	ClientPlayerNicknameList = 5587;\r\n	AMClientSetPlayerNickname = 5588;\r\n	AMClientSetPlayerNicknameResponse = 5589;\r\n	ClientRequestOAuthTokenForApp = 5590; obsolete\r\n	ClientRequestOAuthTokenForAppResponse = 5591; obsolete\r\n	ClientCreateAccountProto = 5590;\r\n	ClientCreateAccountProtoResponse = 5591;\r\n	ClientGetNumberOfCurrentPlayersDP = 5592;\r\n	ClientGetNumberOfCurrentPlayersDPResponse = 5593;\r\n	ClientServiceMethod = 5594;\r\n	ClientServiceMethodResponse = 5595;\r\n	ClientFriendUserStatusPublished = 5596;\r\n	ClientCurrentUIMode = 5597;\r\n	ClientVanityURLChangedNotification = 5598;\r\n	ClientUserNotifications = 5599;\r\n	\r\n	BaseDFS = 5600;\r\n	DFSGetFile = 5601;\r\n	DFSInstallLocalFile = 5602;\r\n	DFSConnection = 5603;\r\n	DFSConnectionReply = 5604;\r\n	ClientDFSAuthenticateRequest = 5605;\r\n	ClientDFSAuthenticateResponse = 5606;\r\n	ClientDFSEndSession = 5607;\r\n	DFSPurgeFile = 5608;\r\n	DFSRouteFile = 5609;\r\n	DFSGetFileFromServer = 5610;\r\n	DFSAcceptedResponse = 5611;\r\n	DFSRequestPingback = 5612;\r\n	DFSRecvTransmitFile = 5613;\r\n	DFSSendTransmitFile = 5614;\r\n	DFSRequestPingback2 = 5615;\r\n	DFSResponsePingback2 = 5616;\r\n	ClientDFSDownloadStatus = 5617;\r\n	DFSStartTransfer = 5618;\r\n	DFSTransferComplete = 5619;\r\n	\r\n	BaseMDS = 5800;\r\n	ClientMDSLoginRequest = 5801;\r\n	ClientMDSLoginResponse = 5802;\r\n	ClientMDSUploadManifestRequest = 5803;\r\n	ClientMDSUploadManifestResponse = 5804;\r\n	ClientMDSTransmitManifestDataChunk = 5805;\r\n	ClientMDSHeartbeat = 5806;\r\n	ClientMDSUploadDepotChunks = 5807;\r\n	ClientMDSUploadDepotChunksResponse = 5808;\r\n	ClientMDSInitDepotBuildRequest = 5809;\r\n	ClientMDSInitDepotBuildResponse = 5810;\r\n	AMToMDSGetDepotDecryptionKey = 5812;\r\n	MDSToAMGetDepotDecryptionKeyResponse = 5813;\r\n	MDSGetVersionsForDepot = 5814;\r\n	MDSGetVersionsForDepotResponse = 5815;\r\n	MDSSetPublicVersionForDepot = 5816; obsolete\r\n	MDSSetPublicVersionForDepotResponse = 5817; obsolete\r\n	ClientMDSInitWorkshopBuildRequest = 5816; obsolete\r\n	ClientMDSInitWorkshopBuildResponse = 5817; obsolete\r\n	ClientMDSGetDepotManifest = 5818;\r\n	ClientMDSGetDepotManifestResponse = 5819;\r\n	ClientMDSGetDepotManifestChunk = 5820;\r\n	ClientMDSUploadRateTest = 5823;\r\n	ClientMDSUploadRateTestResponse = 5824;\r\n	MDSDownloadDepotChunksAck = 5825;\r\n	MDSContentServerStatsBroadcast = 5826;\r\n	MDSContentServerConfigRequest = 5827;\r\n	MDSContentServerConfig = 5828;\r\n	MDSGetDepotManifest = 5829;\r\n	MDSGetDepotManifestResponse = 5830;\r\n	MDSGetDepotManifestChunk = 5831;\r\n	MDSGetDepotChunk = 5832;\r\n	MDSGetDepotChunkResponse = 5833;\r\n	MDSGetDepotChunkChunk = 5834;\r\n	MDSUpdateContentServerConfig = 5835;\r\n	MDSGetServerListForUser = 5836;\r\n	MDSGetServerListForUserResponse = 5837;\r\n	ClientMDSRegisterAppBuild = 5838;\r\n	ClientMDSRegisterAppBuildResponse = 5839;\r\n	ClientMDSSetAppBuildLive = 5840;\r\n	ClientMDSSetAppBuildLiveResponse = 5841;\r\n	ClientMDSGetPrevDepotBuild = 5842;\r\n	ClientMDSGetPrevDepotBuildResponse = 5843;\r\n	MDSToCSFlushChunk = 5844;\r\n	ClientMDSSignInstallScript = 5845;\r\n	ClientMDSSignInstallScriptResponse = 5846;\r\n	\r\n	CSBase = 6200;\r\n	CSPing = 6201;\r\n	CSPingResponse = 6202;\r\n	\r\n	GMSBase = 6400;\r\n	GMSGameServerReplicate = 6401;\r\n	ClientGMSServerQuery = 6403;\r\n	GMSClientServerQueryResponse = 6404;\r\n	AMGMSGameServerUpdate = 6405;\r\n	AMGMSGameServerRemove = 6406;\r\n	GameServerOutOfDate = 6407;\r\n	\r\n	ClientAuthorizeLocalDeviceRequest = 6501;\r\n	ClientAuthorizeLocalDevice = 6502;\r\n	ClientDeauthorizeDeviceRequest = 6503;\r\n	ClientDeauthorizeDevice = 6504;\r\n	ClientUseLocalDeviceAuthorizations = 6505;\r\n	ClientGetAuthorizedDevices = 6506;\r\n	ClientGetAuthorizedDevicesResponse = 6507;\r\n	\r\n	MMSBase = 6600;\r\n	ClientMMSCreateLobby = 6601;\r\n	ClientMMSCreateLobbyResponse = 6602;\r\n	ClientMMSJoinLobby = 6603;\r\n	ClientMMSJoinLobbyResponse = 6604;\r\n	ClientMMSLeaveLobby = 6605;\r\n	ClientMMSLeaveLobbyResponse = 6606;\r\n	ClientMMSGetLobbyList = 6607;\r\n	ClientMMSGetLobbyListResponse = 6608;\r\n	ClientMMSSetLobbyData = 6609;\r\n	ClientMMSSetLobbyDataResponse = 6610;\r\n	ClientMMSGetLobbyData = 6611;\r\n	ClientMMSLobbyData = 6612;\r\n	ClientMMSSendLobbyChatMsg = 6613;\r\n	ClientMMSLobbyChatMsg = 6614;\r\n	ClientMMSSetLobbyOwner = 6615;\r\n	ClientMMSSetLobbyOwnerResponse = 6616;\r\n	ClientMMSSetLobbyGameServer = 6617;\r\n	ClientMMSLobbyGameServerSet = 6618;\r\n	ClientMMSUserJoinedLobby = 6619;\r\n	ClientMMSUserLeftLobby = 6620;\r\n	ClientMMSInviteToLobby = 6621;\r\n	ClientMMSFlushFrenemyListCache = 6622;\r\n	ClientMMSFlushFrenemyListCacheResponse = 6623;\r\n	ClientMMSSetLobbyLinked = 6624;\r\n	\r\n	NonStdMsgBase = 6800;\r\n	NonStdMsgMemcached = 6801;\r\n	NonStdMsgHTTPServer = 6802;\r\n	NonStdMsgHTTPClient = 6803;\r\n	NonStdMsgWGResponse = 6804;\r\n	NonStdMsgPHPSimulator = 6805;\r\n	NonStdMsgChase = 6806;\r\n	NonStdMsgDFSTransfer = 6807;\r\n	NonStdMsgTests = 6808;\r\n	NonStdMsgUMQpipeAAPL = 6809;\r\n	NonStdMsgSyslog = 6810;\r\n	NonStdMsgLogsink = 6811;\r\n	\r\n	UDSBase = 7000;\r\n	ClientUDSP2PSessionStarted = 7001;\r\n	ClientUDSP2PSessionEnded = 7002;\r\n	UDSRenderUserAuth = 7003;\r\n	UDSRenderUserAuthResponse = 7004;\r\n	ClientUDSInviteToGame = 7005;\r\n	UDSFindSession = 7006;\r\n	UDSFindSessionResponse = 7007;\r\n\r\n	MPASBase = 7100;\r\n	MPASVacBanReset = 7101;\r\n	\r\n	KGSBase = 7200;\r\n	KGSAllocateKeyRange = 7201;\r\n	KGSAllocateKeyRangeResponse = 7202;\r\n	KGSGenerateKeys = 7203;\r\n	KGSGenerateKeysResponse = 7204;\r\n	KGSRemapKeys = 7205;\r\n	KGSRemapKeysResponse = 7206;\r\n	KGSGenerateGameStopWCKeys = 7207;\r\n	KGSGenerateGameStopWCKeysResponse = 7208;\r\n	\r\n	UCMBase = 7300;\r\n	ClientUCMAddScreenshot = 7301;\r\n	ClientUCMAddScreenshotResponse = 7302;\r\n	UCMValidateObjectExists = 7303;\r\n	UCMValidateObjectExistsResponse = 7304;\r\n	UCMResetCommunityContent = 7307;\r\n	UCMResetCommunityContentResponse = 7308;\r\n	ClientUCMDeleteScreenshot = 7309;\r\n	ClientUCMDeleteScreenshotResponse = 7310;\r\n	ClientUCMPublishFile = 7311;\r\n	ClientUCMPublishFileResponse = 7312;\r\n	ClientUCMGetPublishedFileDetails = 7313; obsolete\r\n	ClientUCMGetPublishedFileDetailsResponse = 7314; obsolete\r\n	ClientUCMDeletePublishedFile = 7315;\r\n	ClientUCMDeletePublishedFileResponse = 7316;\r\n	ClientUCMEnumerateUserPublishedFiles = 7317;\r\n	ClientUCMEnumerateUserPublishedFilesResponse = 7318;\r\n	ClientUCMSubscribePublishedFile = 7319;\r\n	ClientUCMSubscribePublishedFileResponse = 7320;\r\n	ClientUCMEnumerateUserSubscribedFiles = 7321;\r\n	ClientUCMEnumerateUserSubscribedFilesResponse = 7322;\r\n	ClientUCMUnsubscribePublishedFile = 7323;\r\n	ClientUCMUnsubscribePublishedFileResponse = 7324;\r\n	ClientUCMUpdatePublishedFile = 7325;\r\n	ClientUCMUpdatePublishedFileResponse = 7326;\r\n	UCMUpdatePublishedFile = 7327;\r\n	UCMUpdatePublishedFileResponse = 7328;\r\n	UCMDeletePublishedFile = 7329;\r\n	UCMDeletePublishedFileResponse = 7330;\r\n	UCMUpdatePublishedFileStat = 7331;\r\n	UCMUpdatePublishedFileBan = 7332;\r\n	UCMUpdatePublishedFileBanResponse = 7333;\r\n	UCMUpdateTaggedScreenshot = 7334;\r\n	UCMAddTaggedScreenshot = 7335;\r\n	UCMRemoveTaggedScreenshot = 7336;\r\n	UCMReloadPublishedFile = 7337;\r\n	UCMReloadUserFileListCaches = 7338;\r\n	UCMPublishedFileReported = 7339;\r\n	UCMUpdatePublishedFileIncompatibleStatus = 7340;\r\n	UCMPublishedFilePreviewAdd = 7341;\r\n	UCMPublishedFilePreviewAddResponse = 7342;\r\n	UCMPublishedFilePreviewRemove = 7343;\r\n	UCMPublishedFilePreviewRemoveResponse = 7344;\r\n	UCMPublishedFilePreviewChangeSortOrder = 7345;\r\n	UCMPublishedFilePreviewChangeSortOrderResponse = 7346;\r\n	ClientUCMPublishedFileSubscribed = 7347;\r\n	ClientUCMPublishedFileUnsubscribed = 7348;\r\n	UCMPublishedFileSubscribed = 7349;\r\n	UCMPublishedFileUnsubscribed = 7350;\r\n	UCMPublishFile = 7351;\r\n	UCMPublishFileResponse = 7352;\r\n	UCMPublishedFileChildAdd = 7353;\r\n	UCMPublishedFileChildAddResponse = 7354;\r\n	UCMPublishedFileChildRemove = 7355;\r\n	UCMPublishedFileChildRemoveResponse = 7356;\r\n	UCMPublishedFileChildChangeSortOrder = 7357;\r\n	UCMPublishedFileChildChangeSortOrderResponse = 7358;\r\n	UCMPublishedFileParentChanged = 7359;\r\n	ClientUCMGetPublishedFilesForUser = 7360;\r\n	ClientUCMGetPublishedFilesForUserResponse = 7361;\r\n	UCMGetPublishedFilesForUser = 7362;\r\n	UCMGetPublishedFilesForUserResponse = 7363;\r\n	ClientUCMSetUserPublishedFileAction = 7364;\r\n	ClientUCMSetUserPublishedFileActionResponse = 7365;\r\n	ClientUCMEnumeratePublishedFilesByUserAction = 7366;\r\n	ClientUCMEnumeratePublishedFilesByUserActionResponse = 7367;\r\n	ClientUCMPublishedFileDeleted = 7368;\r\n	UCMGetUserSubscribedFiles = 7369;\r\n	UCMGetUserSubscribedFilesResponse = 7370;\r\n	UCMFixStatsPublishedFile = 7371;\r\n	UCMDeleteOldScreenshot = 7372;\r\n	UCMDeleteOldScreenshotResponse = 7373;\r\n	UCMDeleteOldVideo = 7374;\r\n	UCMDeleteOldVideoResponse = 7375;\r\n	UCMUpdateOldScreenshotPrivacy = 7376;\r\n	UCMUpdateOldScreenshotPrivacyResponse = 7377;\r\n	ClientUCMEnumerateUserSubscribedFilesWithUpdates = 7378;\r\n	ClientUCMEnumerateUserSubscribedFilesWithUpdatesResponse = 7379;\r\n	UCMPublishedFileContentUpdated = 7380;\r\n	UCMPublishedFileUpdated = 7381;\r\n	\r\n	FSBase = 7500;\r\n	ClientRichPresenceUpload = 7501;\r\n	ClientRichPresenceRequest = 7502;\r\n	ClientRichPresenceInfo = 7503;\r\n	FSRichPresenceRequest = 7504;\r\n	FSRichPresenceResponse = 7505;\r\n	FSComputeFrenematrix = 7506;\r\n	FSComputeFrenematrixResponse = 7507;\r\n	FSPlayStatusNotification = 7508;\r\n	FSPublishPersonaStatus = 7509;\r\n	FSAddOrRemoveFollower = 7510;\r\n	FSAddOrRemoveFollowerResponse = 7511;\r\n	FSUpdateFollowingList = 7512;\r\n	FSCommentNotification = 7513;\r\n	FSCommentNotificationViewed = 7514;\r\n	ClientFSGetFollowerCount = 7515;\r\n	ClientFSGetFollowerCountResponse = 7516;\r\n	ClientFSGetIsFollowing = 7517;\r\n	ClientFSGetIsFollowingResponse = 7518;\r\n	ClientFSEnumerateFollowingList = 7519;\r\n	ClientFSEnumerateFollowingListResponse = 7520;\r\n	FSGetPendingNotificationCount = 7521;\r\n	FSGetPendingNotificationCountResponse = 7522;\r\n	ClientFSOfflineMessageNotification = 7523;\r\n	ClientFSRequestOfflineMessageCount = 7524;\r\n	ClientFSGetFriendMessageHistory = 7525;\r\n	ClientFSGetFriendMessageHistoryResponse = 7526;\r\n	ClientFSGetFriendMessageHistoryForOfflineMessages = 7527;\r\n	ClientFSGetFriendsSteamLevels = 7528;\r\n	ClientFSGetFriendsSteamLevelsResponse = 7529;\r\n	\r\n	DRMRange2 = 7600;\r\n	CEGVersionSetEnableDisableRequest = 7600;\r\n	CEGVersionSetEnableDisableResponse = 7601;\r\n	CEGPropStatusDRMSRequest = 7602;\r\n	CEGPropStatusDRMSResponse = 7603;\r\n	CEGWhackFailureReportRequest = 7604;\r\n	CEGWhackFailureReportResponse = 7605;\r\n	DRMSFetchVersionSet = 7606;\r\n	DRMSFetchVersionSetResponse = 7607;\r\n	\r\n	EconBase = 7700;\r\n	EconTrading_InitiateTradeRequest = 7701;\r\n	EconTrading_InitiateTradeProposed = 7702;\r\n	EconTrading_InitiateTradeResponse = 7703;\r\n	EconTrading_InitiateTradeResult = 7704;\r\n	EconTrading_StartSession = 7705;\r\n	EconTrading_CancelTradeRequest = 7706;\r\n	EconFlushInventoryCache = 7707;\r\n	EconFlushInventoryCacheResponse = 7708;\r\n	EconCDKeyProcessTransaction = 7711;\r\n	EconCDKeyProcessTransactionResponse = 7712;\r\n	EconGetErrorLogs = 7713;\r\n	EconGetErrorLogsResponse = 7714;\r\n	\r\n	RMRange = 7800;\r\n	RMTestVerisignOTP = 7800;\r\n	RMTestVerisignOTPResponse = 7801;\r\n	RMDeleteMemcachedKeys = 7803;\r\n	RMRemoteInvoke = 7804;\r\n	BadLoginIPList = 7805;\r\n	\r\n	UGSBase = 7900;\r\n	UGSUpdateGlobalStats = 7900;\r\n	ClientUGSGetGlobalStats = 7901;\r\n	ClientUGSGetGlobalStatsResponse = 7902;\r\n\r\n	StoreBase = 8000;\r\n	StoreUpdateRecommendationCount = 8000;\r\n\r\n	UMQBase = 8100;\r\n	UMQLogonRequest = 8100;\r\n	UMQLogonResponse = 8101;\r\n	UMQLogoffRequest = 8102;\r\n	UMQLogoffResponse = 8103;\r\n	UMQSendChatMessage = 8104;\r\n	UMQIncomingChatMessage = 8105;\r\n	UMQPoll = 8106;\r\n	UMQPollResults = 8107;\r\n	UMQ2AM_ClientMsgBatch = 8108;\r\n	UMQEnqueueMobileSalePromotions = 8109;\r\n	UMQEnqueueMobileAnnouncements = 8110;\r\n\r\n	WorkshopBase = 8200;\r\n	WorkshopAcceptTOSRequest = 8200;\r\n	WorkshopAcceptTOSResponse = 8201;\r\n\r\n	WebAPIBase = 8300;\r\n	WebAPIValidateOAuth2Token = 8300;\r\n	WebAPIValidateOAuth2TokenResponse = 8301;\r\n	WebAPIInvalidateTokensForAccount = 8302;\r\n	WebAPIRegisterGCInterfaces = 8303;\r\n	WebAPIInvalidateOAuthClientCache = 8304;\r\n	WebAPIInvalidateOAuthTokenCache = 8305;\r\n\r\n	BackpackBase = 8400;\r\n	BackpackAddToCurrency = 8401;\r\n	BackpackAddToCurrencyResponse = 8402;\r\n\r\n	CREBase = 8500;\r\n	CRERankByTrend = 8501; obsolete\r\n	CRERankByTrendResponse = 8502; obsolete\r\n	CREItemVoteSummary = 8503;\r\n	CREItemVoteSummaryResponse = 8504;\r\n	CRERankByVote = 8505; obsolete\r\n	CRERankByVoteResponse = 8506; obsolete\r\n	CREUpdateUserPublishedItemVote = 8507;\r\n	CREUpdateUserPublishedItemVoteResponse = 8508;\r\n	CREGetUserPublishedItemVoteDetails = 8509;\r\n	CREGetUserPublishedItemVoteDetailsResponse = 8510;\r\n	CREEnumeratePublishedFiles = 8511;\r\n	CREEnumeratePublishedFilesResponse = 8512;\r\n	CREPublishedFileVoteAdded = 8513;\r\n\r\n	SecretsBase = 8600;\r\n	SecretsRequestCredentialPair = 8600;\r\n	SecretsCredentialPairResponse = 8601;\r\n	SecretsRequestServerIdentity = 8602;\r\n	SecretsServerIdentityResponse = 8603;\r\n	SecretsUpdateServerIdentities = 8604;\r\n\r\n	BoxMonitorBase = 8700;\r\n	BoxMonitorReportRequest = 8700;\r\n	BoxMonitorReportResponse = 8701;\r\n\r\n	LogsinkBase = 8800;\r\n	LogsinkWriteReport = 8800;\r\n	\r\n	PICSBase = 8900;\r\n	ClientPICSChangesSinceRequest = 8901;\r\n	ClientPICSChangesSinceResponse = 8902;\r\n	ClientPICSProductInfoRequest = 8903;\r\n	ClientPICSProductInfoResponse = 8904;\r\n	ClientPICSAccessTokenRequest = 8905;\r\n	ClientPICSAccessTokenResponse = 8906;\r\n\r\n	WorkerProcess = 9000;\r\n	WorkerProcessPingRequest = 9000;\r\n	WorkerProcessPingResponse = 9001;\r\n	WorkerProcessShutdown = 9002;\r\n\r\n	DRMWorkerProcess = 9100;\r\n	DRMWorkerProcessDRMAndSign = 9100;\r\n	DRMWorkerProcessDRMAndSignResponse = 9101;\r\n	DRMWorkerProcessSteamworksInfoRequest = 9102;\r\n	DRMWorkerProcessSteamworksInfoResponse = 9103;\r\n	DRMWorkerProcessInstallDRMDLLRequest = 9104;\r\n	DRMWorkerProcessInstallDRMDLLResponse = 9105;\r\n	DRMWorkerProcessSecretIdStringRequest = 9106;\r\n	DRMWorkerProcessSecretIdStringResponse = 9107;\r\n	DRMWorkerProcessGetDRMGuidsFromFileRequest = 9108;\r\n	DRMWorkerProcessGetDRMGuidsFromFileResponse = 9109;\r\n	DRMWorkerProcessInstallProcessedFilesRequest = 9110;\r\n	DRMWorkerProcessInstallProcessedFilesResponse = 9111;\r\n	DRMWorkerProcessExamineBlobRequest = 9112;\r\n	DRMWorkerProcessExamineBlobResponse = 9113;\r\n	DRMWorkerProcessDescribeSecretRequest = 9114;\r\n	DRMWorkerProcessDescribeSecretResponse = 9115;\r\n	DRMWorkerProcessBackfillOriginalRequest = 9116;\r\n	DRMWorkerProcessBackfillOriginalResponse = 9117;\r\n	DRMWorkerProcessValidateDRMDLLRequest = 9118;\r\n	DRMWorkerProcessValidateDRMDLLResponse = 9119;\r\n	DRMWorkerProcessValidateFileRequest = 9120;\r\n	DRMWorkerProcessValidateFileResponse = 9121;\r\n	DRMWorkerProcessSplitAndInstallRequest = 9122;\r\n	DRMWorkerProcessSplitAndInstallResponse = 9123;\r\n	DRMWorkerProcessGetBlobRequest = 9124;\r\n	DRMWorkerProcessGetBlobResponse = 9125;\r\n	DRMWorkerProcessEvaluateCrashRequest = 9126;\r\n	DRMWorkerProcessEvaluateCrashResponse = 9127;\r\n	DRMWorkerProcessAnalyzeFileRequest = 9128;\r\n	DRMWorkerProcessAnalyzeFileResponse = 9129;\r\n	DRMWorkerProcessUnpackBlobRequest = 9130;\r\n	DRMWorkerProcessUnpackBlobResponse = 9131;\r\n	DRMWorkerProcessInstallAllRequest = 9132;\r\n	DRMWorkerProcessInstallAllResponse = 9133;\r\n\r\n	TestWorkerProcess = 9200;\r\n	TestWorkerProcessLoadUnloadModuleRequest = 9200;\r\n	TestWorkerProcessLoadUnloadModuleResponse = 9201;\r\n	TestWorkerProcessServiceModuleCallRequest = 9202;\r\n	TestWorkerProcessServiceModuleCallResponse = 9203;\r\n	\r\n	ClientGetEmoticonList = 9330;\r\n	ClientEmoticonList = 9331;\r\n	\r\n	ClientSharedLibraryBase = 9400;\r\n	ClientSharedLicensesLockStatus = 9403; obsolete\r\n	ClientSharedLicensesStopPlaying = 9404; obsolete\r\n	ClientSharedLibraryLockStatus = 9405;\r\n	ClientSharedLibraryStopPlaying = 9406;\r\n	\r\n	ClientUnlockStreaming = 9507;\r\n	ClientUnlockStreamingResponse = 9508;\r\n	\r\n	ClientPlayingSessionState = 9600;\r\n	ClientKickPlayingSession = 9601;\r\n	\r\n	ClientBroadcastInit = 9700;\r\n	ClientBroadcastFrames = 9701;\r\n	ClientBroadcastDisconnect = 9702;\r\n	ClientBroadcastScreenshot = 9703;\r\n	ClientBroadcastUploadConfig = 9704;\r\n	\r\n	ClientVoiceCallPreAuthorize = 9800;\r\n	ClientVoiceCallPreAuthorizeResponse = 9801;\r\n\r\n};\r\n",
"/node_modules/steam/resources/steam_language/eresult.steamd":'enum EResult\r\n{\r\n	Invalid = 0;\r\n	\r\n	OK = 1;\r\n	Fail = 2;\r\n	NoConnection = 3;\r\n	InvalidPassword = 5;\r\n	LoggedInElsewhere = 6;\r\n	InvalidProtocolVer = 7;\r\n	InvalidParam = 8;\r\n	FileNotFound = 9;\r\n	Busy = 10;\r\n	InvalidState = 11;\r\n	InvalidName = 12;\r\n	InvalidEmail = 13;\r\n	DuplicateName = 14;\r\n	AccessDenied = 15;\r\n	Timeout = 16;\r\n	Banned = 17;\r\n	AccountNotFound = 18;\r\n	InvalidSteamID = 19;\r\n	ServiceUnavailable = 20;\r\n	NotLoggedOn = 21;\r\n	Pending = 22;\r\n	EncryptionFailure = 23;\r\n	InsufficientPrivilege = 24;\r\n	LimitExceeded = 25;\r\n	Revoked = 26;\r\n	Expired = 27;\r\n	AlreadyRedeemed = 28;\r\n	DuplicateRequest = 29;\r\n	AlreadyOwned = 30;\r\n	IPNotFound = 31;\r\n	PersistFailed = 32;\r\n	LockingFailed = 33;\r\n	LogonSessionReplaced = 34;\r\n	ConnectFailed = 35;\r\n	HandshakeFailed = 36;\r\n	IOFailure = 37;\r\n	RemoteDisconnect = 38;\r\n	ShoppingCartNotFound = 39;\r\n	Blocked = 40;\r\n	Ignored = 41;\r\n	NoMatch = 42;\r\n	AccountDisabled = 43;\r\n	ServiceReadOnly = 44;\r\n	AccountNotFeatured = 45;\r\n	AdministratorOK = 46;\r\n	ContentVersion = 47;\r\n	TryAnotherCM = 48;\r\n	PasswordRequiredToKickSession = 49;\r\n	AlreadyLoggedInElsewhere = 50;\r\n	Suspended = 51;\r\n	Cancelled = 52;\r\n	DataCorruption = 53;\r\n	DiskFull = 54;\r\n	RemoteCallFailed = 55;\r\n	PasswordNotSet = 56;\r\n	ExternalAccountUnlinked = 57;\r\n	PSNTicketInvalid = 58;\r\n	ExternalAccountAlreadyLinked = 59;\r\n	RemoteFileConflict = 60;\r\n	IllegalPassword = 61;\r\n	SameAsPreviousValue = 62;\r\n	AccountLogonDenied = 63;\r\n	CannotUseOldPassword = 64;\r\n	InvalidLoginAuthCode = 65;\r\n	AccountLogonDeniedNoMailSent = 66;\r\n	HardwareNotCapableOfIPT = 67;\r\n	IPTInitError = 68;\r\n	ParentalControlRestricted = 69;\r\n	FacebookQueryError = 70;\r\n	ExpiredLoginAuthCode = 71;\r\n	IPLoginRestrictionFailed = 72;\r\n	AccountLocked = 73;\r\n	AccountLogonDeniedVerifiedEmailRequired = 74;\r\n	NoMatchingURL = 75;\r\n	BadResponse = 76;\r\n	RequirePasswordReEntry = 77;\r\n	ValueOutOfRange = 78;\r\n	UnexpectedError = 79;\r\n	Disabled = 80;\r\n	InvalidCEGSubmission = 81;\r\n	RestrictedDevice = 82;\r\n	RegionLocked = 83;\r\n	RateLimitExceeded = 84;\r\n	AccountLogonDeniedNeedTwoFactorCode = 85;\r\n	ItemOrEntryHasBeenDeleted = 86; obsolete "renamed to ItemDeleted"\r\n	ItemDeleted = 86;\r\n	AccountLoginDeniedThrottle = 87;\r\n	TwoFactorCodeMismatch = 88;\r\n	NotModified = 91;\r\n};',"/node_modules/steam/resources/steam_language/enums.steamd":'\r\nenum EUniverse\r\n{\r\n	Invalid = 0;\r\n	\r\n	Public = 1;\r\n	Beta = 2;\r\n	Internal = 3;\r\n	Dev = 4;\r\n\r\n	Max = 5;\r\n};\r\n\r\nenum EChatEntryType\r\n{\r\n	Invalid = 0;\r\n	\r\n	ChatMsg = 1;\r\n	Typing = 2;\r\n	InviteGame = 3;\r\n	Emote = 4; obsolete "No longer supported by clients"\r\n	LobbyGameStart = 5;\r\n	LeftConversation = 6;\r\n	Entered = 7;\r\n	WasKicked = 8;\r\n	WasBanned = 9;\r\n	Disconnected = 10;\r\n	HistoricalChat = 11;\r\n};\r\n\r\nenum EPersonaState\r\n{\r\n	Offline = 0;\r\n\r\n	Online = 1;\r\n	Busy = 2;\r\n	Away = 3;\r\n	Snooze = 4;\r\n	LookingToTrade = 5;\r\n	LookingToPlay = 6;\r\n\r\n	Max = 7;\r\n};\r\n\r\nenum EAccountType\r\n{\r\n	Invalid = 0;\r\n\r\n	Individual = 1;\r\n	Multiseat = 2;\r\n	GameServer = 3;\r\n	AnonGameServer = 4;\r\n	Pending = 5;\r\n	ContentServer = 6;\r\n	Clan = 7;\r\n	Chat = 8;\r\n	ConsoleUser = 9;\r\n	AnonUser = 10;\r\n\r\n	Max = 11;\r\n};\r\n\r\nenum EFriendRelationship\r\n{\r\n	None = 0;\r\n	\r\n	Blocked = 1;\r\n	RequestRecipient = 2;\r\n	Friend = 3;\r\n	RequestInitiator = 4;\r\n	Ignored = 5;\r\n	IgnoredFriend = 6;\r\n	SuggestedFriend = 7;\r\n\r\n	Max = 8;\r\n};\r\n\r\nenum EAccountFlags flags\r\n{\r\n	NormalUser = 0;\r\n	\r\n	PersonaNameSet = 1;\r\n	Unbannable = 2;\r\n	PasswordSet = 4;\r\n	Support = 8;\r\n	Admin = 16;\r\n	Supervisor = 32;\r\n	AppEditor = 64;\r\n	HWIDSet = 128;\r\n	PersonalQASet = 256;\r\n	VacBeta = 512;\r\n	Debug = 1024;\r\n	Disabled = 2048;\r\n	LimitedUser = 4096;\r\n	LimitedUserForce = 8192;\r\n	EmailValidated = 16384;\r\n	MarketingTreatment = 32768;\r\n	OGGInviteOptOut = 65536;\r\n	ForcePasswordChange = 131072;\r\n	ForceEmailVerification = 262144;\r\n	LogonExtraSecurity = 524288;\r\n	LogonExtraSecurityDisabled = 1048576;\r\n	Steam2MigrationComplete = 2097152;\r\n	NeedLogs = 4194304;\r\n	Lockdown = 8388608;\r\n	MasterAppEditor = 16777216;\r\n	BannedFromWebAPI = 33554432;\r\n	ClansOnlyFromFriends = 67108864;\r\n	GlobalModerator = 134217728;\r\n};\r\n\r\nenum EClanPermission flags\r\n{\r\n	Nobody = 0;\r\n	\r\n	Owner = 1;\r\n	Officer = 2;\r\n	OwnerAndOfficer = 3;\r\n	Member = 4;\r\n	Moderator = 8;\r\n\r\n	OwnerOfficerModerator = Owner | Officer | Moderator; // 11\r\n	AllMembers = Owner | Officer | Moderator | Member ; // 15\r\n\r\n	OGGGameOwner = 16;\r\n\r\n	NonMember = 128;\r\n\r\n	MemberAllowed		= NonMember | Member; // 132\r\n	ModeratorAllowed	= NonMember | Member | Moderator; // 140\r\n	OfficerAllowed		= NonMember | Member | Moderator | Officer; // 142\r\n	OwnerAllowed		= NonMember | Member | Moderator | Officer | Owner; // 143\r\n	Anybody				= NonMember | Member | Moderator | Officer | Owner; // 143\r\n};\r\n\r\nenum EChatPermission flags\r\n{\r\n	Close = 1;\r\n	Invite = 2;\r\n	Talk = 8;\r\n	Kick = 16;\r\n	Mute = 32;\r\n	SetMetadata = 64;\r\n	ChangePermissions = 128;\r\n	Ban = 256;\r\n	ChangeAccess = 512;\r\n\r\n	EveryoneNotInClanDefault = Talk; // 8\r\n	EveryoneDefault = Talk | Invite; // 10\r\n\r\n	// todo: this doesn\'t seem correct...\r\n	MemberDefault = Ban | Kick | Talk | Invite; // 282\r\n\r\n	OfficerDefault = Ban | Kick | Talk | Invite; // 282\r\n	OwnerDefault = ChangeAccess | Ban | SetMetadata | Mute | Kick | Talk | Invite | Close; // 891\r\n\r\n	Mask = 1019;\r\n};\r\n\r\nenum EFriendFlags flags\r\n{\r\n	None = 0;\r\n	Blocked = 1;\r\n	FriendshipRequested = 2;\r\n	Immediate = 4;\r\n	ClanMember = 8;\r\n	OnGameServer = 16;\r\n	RequestingFriendship = 128;\r\n	RequestingInfo = 256;\r\n	Ignored = 512;\r\n	IgnoredFriend = 1024;\r\n	Suggested = 2048;\r\n\r\n	FlagAll = 65535;\r\n};\r\n\r\nenum EPersonaStateFlag flags\r\n{\r\n	HasRichPresence = 1;\r\n	InJoinableGame = 2;\r\n	\r\n	OnlineUsingWeb = 256;\r\n	OnlineUsingMobile = 512;\r\n	OnlineUsingBigPicture = 1024;\r\n};\r\n\r\nenum EClientPersonaStateFlag flags\r\n{\r\n	Status = 1;\r\n	PlayerName = 2;\r\n	QueryPort = 4;\r\n	SourceID = 8;\r\n	Presence = 16;\r\n	Metadata = 32;\r\n	LastSeen = 64;\r\n	ClanInfo = 128;\r\n	GameExtraInfo = 256;\r\n	GameDataBlob = 512;\r\n	ClanTag = 1024;\r\n	Facebook = 2048;\r\n};\r\n\r\nenum EAppUsageEvent\r\n{\r\n	GameLaunch = 1;\r\n	GameLaunchTrial = 2;\r\n	Media = 3;\r\n	PreloadStart = 4;\r\n	PreloadFinish = 5;\r\n	MarketingMessageView = 6;\r\n	InGameAdViewed = 7;\r\n	GameLaunchFreeWeekend = 8;\r\n};\r\n\r\nenum ELicenseFlags flags\r\n{\r\n	None = 0;\r\n	Renew = 0x01;\r\n	RenewalFailed = 0x02;\r\n	Pending = 0x04;\r\n	Expired = 0x08;\r\n	CancelledByUser = 0x10;\r\n	CancelledByAdmin = 0x20;\r\n	LowViolenceContent = 0x40;\r\n	ImportedFromSteam2 = 0x80;\r\n};\r\n\r\nenum ELicenseType\r\n{\r\n	NoLicense = 0;\r\n	SinglePurchase = 1;\r\n	SinglePurchaseLimitedUse = 2;\r\n	RecurringCharge = 3;\r\n	RecurringChargeLimitedUse = 4;\r\n	RecurringChargeLimitedUseWithOverages = 5;\r\n	RecurringOption = 6;\r\n};\r\n\r\nenum EPaymentMethod\r\n{\r\n	None = 0;\r\n	ActivationCode = 1;\r\n	CreditCard = 2;\r\n	Giropay = 3;\r\n	PayPal = 4;\r\n	Ideal = 5;\r\n	PaySafeCard = 6;\r\n	Sofort = 7;\r\n	GuestPass = 8;\r\n	WebMoney = 9;\r\n	MoneyBookers = 10;\r\n	AliPay = 11;\r\n	Yandex = 12;\r\n	Kiosk = 13;\r\n	Qiwi = 14;\r\n	GameStop = 15;\r\n	HardwarePromo = 16;\r\n	MoPay = 17;\r\n	BoletoBancario = 18;\r\n	BoaCompraGold = 19;\r\n	BancoDoBrasilOnline = 20;\r\n	ItauOnline = 21;\r\n	BradescoOnline = 22;\r\n	Pagseguro = 23;\r\n	VisaBrazil = 24;\r\n	AmexBrazil = 25;\r\n	Aura = 26;\r\n	Hipercard = 27;\r\n	MastercardBrazil = 28;\r\n	DinersCardBrazil = 29;\r\n	ClickAndBuy = 32;\r\n	AutoGrant = 64;\r\n	Wallet = 128;\r\n	Valve = 129;\r\n	OEMTicket = 256;\r\n	Split = 512;\r\n	Complimentary = 1024;\r\n};\r\n\r\nenum EIntroducerRouting\r\n{\r\n	FileShare = 0; obsolete\r\n	P2PVoiceChat = 1;\r\n	P2PNetworking = 2;\r\n};\r\n\r\nenum EServerFlags flags\r\n{\r\n	None = 0;\r\n	Active = 1;\r\n	Secure = 2;\r\n	Dedicated = 4;\r\n	Linux = 8;\r\n	Passworded = 16;\r\n	Private = 32;\r\n};\r\n\r\nenum EDenyReason\r\n{\r\n	InvalidVersion = 1;\r\n	Generic = 2;\r\n	NotLoggedOn = 3;\r\n	NoLicense = 4;\r\n	Cheater = 5;\r\n	LoggedInElseWhere = 6;\r\n	UnknownText = 7;\r\n	IncompatibleAnticheat = 8;\r\n	MemoryCorruption = 9;\r\n	IncompatibleSoftware = 10;\r\n	SteamConnectionLost = 11;\r\n	SteamConnectionError = 12;\r\n	SteamResponseTimedOut = 13;\r\n	SteamValidationStalled = 14;\r\n	SteamOwnerLeftGuestUser = 15;\r\n};\r\n\r\nenum EClanRank\r\n{\r\n	None = 0;\r\n	Owner = 1;\r\n	Officer = 2;\r\n	Member = 3;\r\n	Moderator = 4;\r\n};\r\n\r\nenum EClanRelationship\r\n{\r\n	None = 0;\r\n	Blocked = 1;\r\n	Invited = 2;\r\n	Member = 3;\r\n	Kicked = 4;\r\n	KickAcknowledged = 5;\r\n};\r\n\r\nenum EAuthSessionResponse\r\n{\r\n	OK = 0;\r\n	UserNotConnectedToSteam = 1;\r\n	NoLicenseOrExpired = 2;\r\n	VACBanned = 3;\r\n	LoggedInElseWhere = 4;\r\n	VACCheckTimedOut = 5;\r\n	AuthTicketCanceled = 6;\r\n	AuthTicketInvalidAlreadyUsed = 7;\r\n	AuthTicketInvalid = 8;\r\n};\r\n\r\nenum EChatRoomEnterResponse\r\n{\r\n	Success = 1;\r\n	DoesntExist = 2;\r\n	NotAllowed = 3;\r\n	Full = 4;\r\n	Error = 5;\r\n	Banned = 6;\r\n	Limited = 7;\r\n	ClanDisabled = 8;\r\n	CommunityBan = 9;\r\n	MemberBlockedYou = 10;\r\n	YouBlockedMember = 11;\r\n\r\n	// these appear to have been removed\r\n	NoRankingDataLobby = 12; obsolete\r\n	NoRankingDataUser = 13; obsolete\r\n	RankOutOfRange = 14; obsolete\r\n};\r\n\r\nenum EChatRoomType\r\n{\r\n	Friend = 1;\r\n	MUC = 2;\r\n	Lobby = 3;\r\n};\r\n\r\nenum EChatInfoType\r\n{\r\n	StateChange = 1;\r\n	InfoUpdate = 2;\r\n	MemberLimitChange = 3;\r\n};\r\n\r\nenum EChatAction\r\n{\r\n	InviteChat = 1;\r\n	Kick = 2;\r\n	Ban = 3;\r\n	UnBan = 4;\r\n	StartVoiceSpeak = 5;\r\n	EndVoiceSpeak = 6;\r\n	LockChat = 7;\r\n	UnlockChat = 8;\r\n	CloseChat = 9;\r\n	SetJoinable = 10;\r\n	SetUnjoinable = 11;\r\n	SetOwner = 12;\r\n	SetInvisibleToFriends = 13;\r\n	SetVisibleToFriends = 14;\r\n	SetModerated = 15;\r\n	SetUnmoderated = 16;\r\n};\r\n\r\nenum EChatActionResult\r\n{\r\n	Success = 1;\r\n	Error = 2;\r\n	NotPermitted = 3;\r\n	NotAllowedOnClanMember = 4;\r\n	NotAllowedOnBannedUser = 5;\r\n	NotAllowedOnChatOwner = 6;\r\n	NotAllowedOnSelf = 7;\r\n	ChatDoesntExist = 8;\r\n	ChatFull = 9;\r\n	VoiceSlotsFull = 10;\r\n};\r\n\r\nenum EAppInfoSection\r\n{\r\n	Unknown = 0;\r\n	All = 1;\r\n\r\n	First = 2;\r\n	Common = 2;\r\n	Extended = 3;\r\n	Config = 4;\r\n	Stats = 5;\r\n	Install = 6;\r\n	Depots = 7;\r\n	VAC = 8;\r\n	DRM = 9;\r\n	UFS = 10;\r\n	OGG = 11;\r\n	Items = 12; obsolete\r\n	ItemsUNUSED = 12; obsolete\r\n	Policies = 13;\r\n	SysReqs = 14;\r\n	Community = 15;\r\n\r\n	Max = 16;\r\n};\r\n\r\nenum EContentDownloadSourceType\r\n{\r\n	Invalid = 0;\r\n\r\n	CS = 1;\r\n	CDN = 2;\r\n	LCS = 3;\r\n	ProxyCache = 4;\r\n\r\n	Max = 5;\r\n};\r\n\r\nenum EPlatformType\r\n{\r\n	Unknown = 0;\r\n\r\n	Win32 = 1;\r\n	Win64 = 2;\r\n	Linux = 3;\r\n	OSX = 4;\r\n	PS3 = 5;\r\n\r\n	Max = 6;\r\n};\r\n\r\nenum EOSType\r\n{\r\n	Unknown = -1;\r\n\r\n	UMQ = -400;\r\n\r\n	PS3 = -300;\r\n\r\n	MacOSUnknown = -102;\r\n	MacOS104 = -101;\r\n	MacOS105 = -100;\r\n	MacOS1058 = -99;\r\n	MacOS106 = -95;\r\n	MacOS1063 = -94;\r\n	MacOS1064_slgu = -93;\r\n	MacOS1067 = -92;\r\n	MacOS107 = -90;\r\n	MacOS108 = -89;\r\n	MacOS109 = -88;\r\n	MacOS1010 = -87;\r\n\r\n	LinuxUnknown = -203;\r\n	Linux22 = -202;\r\n	Linux24 = -201;\r\n	Linux26 = -200;\r\n	Linux32 = -199;\r\n	Linux35 = -198;\r\n	Linux36 = -197;\r\n	Linux310 = -196;\r\n\r\n	WinUnknown = 0;\r\n	Win311 = 1;\r\n	Win95 = 2;\r\n	Win98 = 3;\r\n	WinME = 4;\r\n	WinNT = 5;\r\n	Win200 = 6;\r\n	WinXP = 7;\r\n	Win2003 = 8;\r\n	WinVista = 9;\r\n	Win7 = 10;\r\n	Windows7 = 10; obsolete "renamed to Win7"\r\n	Win2008 = 11;\r\n	Win2012 = 12;\r\n	Win8 = 13;\r\n	Windows8 = 13; obsolete "renamed to Win8"\r\n	Win81 = 14;\r\n	Windows81 = 14; obsolete "renamed to Win81"\r\n	Win2012R2 = 15;\r\n	Win10 = 16;\r\n\r\n	WinMAX = 15;\r\n\r\n	Max = 26;\r\n};\r\n\r\nenum EServerType\r\n{\r\n	Invalid = -1;\r\n	First = 0;\r\n\r\n	Shell = 0;\r\n	GM = 1;\r\n	BUM = 2;\r\n	AM = 3;\r\n	BS = 4;	\r\n	VS = 5;\r\n	ATS = 6;	\r\n	CM = 7;	\r\n	FBS = 8;	\r\n	FG = 9;	obsolete "renamed to BoxMonitor"\r\n	BoxMonitor = 9;\r\n	SS = 10;	\r\n	DRMS = 11;	\r\n	HubOBSOLETE = 12; obsolete\r\n	Console = 13;	\r\n	ASBOBSOLETE = 14; obsolete\r\n	PICS = 14;\r\n	Client = 15;	\r\n	BootstrapOBSOLETE = 16; obsolete;\r\n	DP = 17;\r\n	WG = 18;	\r\n	SM = 19;	\r\n	UFS = 21;	\r\n	Util = 23;	\r\n	DSS = 24; obsolete "renamed to Community"\r\n	Community = 24;\r\n	P2PRelayOBSOLETE = 25; obsolete\r\n	AppInformation = 26;	\r\n	Spare = 27;	\r\n	FTS = 28;	\r\n	EPM = 29;\r\n	PS = 30;	\r\n	IS = 31;	\r\n	CCS = 32;	\r\n	DFS = 33;	\r\n	LBS = 34;	\r\n	MDS = 35;	\r\n	CS = 36;	\r\n	GC = 37;	\r\n	NS = 38;	\r\n	OGS = 39;	\r\n	WebAPI = 40;	\r\n	UDS = 41;	\r\n	MMS = 42;	\r\n	GMS = 43;	\r\n	KGS = 44;	\r\n	UCM = 45;	\r\n	RM = 46;	\r\n	FS = 47;	\r\n	Econ = 48;\r\n	Backpack = 49;\r\n	UGS = 50;\r\n	Store = 51;\r\n	MoneyStats = 52;\r\n	CRE = 53;\r\n	UMQ = 54;\r\n	Workshop = 55;\r\n	BRP = 56;\r\n	GCH = 57;\r\n	MPAS = 58;\r\n	Trade = 59;\r\n	Secrets = 60;\r\n	Logsink = 61;\r\n	Market = 62;\r\n	Quest = 63;\r\n	WDS = 64;\r\n	ACS = 65;\r\n	PNP = 66;\r\n\r\n	Max = 67;\r\n};\r\n \r\nenum EBillingType\r\n{\r\n	NoCost = 0;\r\n	BillOnceOnly = 1;\r\n	BillMonthly = 2;\r\n	ProofOfPrepurchaseOnly = 3;\r\n	GuestPass = 4;\r\n	HardwarePromo = 5;\r\n	Gift = 6;\r\n	AutoGrant = 7;\r\n	OEMTicket = 8;\r\n	RecurringOption = 9;\r\n\r\n	NumBillingTypes = 10;\r\n};\r\n\r\nenum EActivationCodeClass<uint>\r\n{\r\n	WonCDKey = 0;\r\n	ValveCDKey = 1;\r\n	Doom3CDKey = 2;\r\n	DBLookup = 3;\r\n	Steam2010Key = 4;\r\n	Max = 5;\r\n	Test = 2147483647;\r\n	Invalid = 4294967295;\r\n};\r\n\r\n\r\nenum EChatMemberStateChange flags\r\n{\r\n	Entered = 0x01;\r\n	Left = 0x02;\r\n	Disconnected = 0x04;\r\n	Kicked = 0x08;\r\n	Banned = 0x10;\r\n\r\n	VoiceSpeaking = 0x1000;\r\n	VoiceDoneSpeaking = 0x2000;\r\n};\r\n\r\nenum ERegionCode<byte>\r\n{\r\n	USEast = 0x00;\r\n	USWest = 0x01;\r\n	SouthAmerica = 0x02;\r\n	Europe = 0x03;\r\n	Asia = 0x04;\r\n	Australia = 0x05;\r\n	MiddleEast = 0x06;\r\n	Africa = 0x07;\r\n	World = 0xFF;\r\n};\r\n\r\nenum ECurrencyCode\r\n{\r\n	Invalid = 0;\r\n\r\n	USD = 1;\r\n	GBP = 2;\r\n	EUR = 3;\r\n	CHF = 4;\r\n	RUB = 5;\r\n	PLN = 6;\r\n	BRL = 7;\r\n	NOK = 9;\r\n\r\n	Max = 10;\r\n};\r\n\r\nenum EDepotFileFlag flags\r\n{\r\n	UserConfig = 1;\r\n	VersionedUserConfig = 2;\r\n	Encrypted = 4;\r\n	ReadOnly = 8;\r\n	Hidden = 16;\r\n	Executable = 32;\r\n	Directory = 64;\r\n	CustomExecutable = 128;\r\n	InstallScript = 256;\r\n};\r\n\r\nenum EWorkshopEnumerationType\r\n{\r\n	RankedByVote = 0;\r\n	Recent = 1;\r\n	Trending = 2;\r\n	FavoriteOfFriends = 3;\r\n	VotedByFriends = 4;\r\n	ContentByFriends = 5;\r\n	RecentFromFollowedUsers = 6;\r\n};\r\n\r\nenum EPublishedFileVisibility\r\n{\r\n	Public = 0;\r\n	FriendsOnly = 1;\r\n	Private = 2;\r\n};\r\n\r\nenum EWorkshopFileType\r\n{\r\n	First = 0;\r\n\r\n	Community	= 0;\r\n	Microtransaction	= 1;\r\n	Collection	= 2;\r\n	Art	= 3;\r\n	Video	= 4;\r\n	Screenshot	= 5;\r\n	Game	= 6;\r\n	Software	= 7;\r\n	Concept	= 8;\r\n	WebGuide	= 9;\r\n	IntegratedGuide	= 10;\r\n	Merch	= 11;\r\n	ControllerBinding	= 12;\r\n	SteamworksAccessInvite = 13;\r\n\r\n	Max = 14;\r\n};\r\n\r\nenum EWorkshopFileAction\r\n{\r\n	Played = 0;\r\n	Completed = 1;\r\n};\r\n\r\nenum EEconTradeResponse\r\n{\r\n	Accepted = 0;\r\n	Declined = 1;\r\n	TradeBannedInitiator = 2;\r\n	TradeBannedTarget = 3;\r\n	TargetAlreadyTrading = 4;\r\n	Disabled = 5;\r\n	NotLoggedIn = 6;\r\n	Cancel = 7;\r\n	TooSoon = 8;\r\n	TooSoonPenalty = 9;\r\n	ConnectionFailed = 10;\r\n	AlreadyTrading = 11;\r\n	AlreadyHasTradeRequest = 12;\r\n	NoResponse = 13;\r\n	CyberCafeInitiator = 14;\r\n	CyberCafeTarget = 15;\r\n	SchoolLabInitiator = 16;\r\n	SchoolLabTarget = 16;\r\n	InitiatorBlockedTarget = 18;\r\n	InitiatorNeedsVerifiedEmail = 20;\r\n	InitiatorNeedsSteamGuard = 21;\r\n	TargetAccountCannotTrade = 22;\r\n	InitiatorSteamGuardDuration = 23;\r\n	InitiatorPasswordResetProbation = 24;\r\n	InitiatorNewDeviceCooldown = 25;\r\n	OKToDeliver = 50;\r\n};\r\n\r\nenum EMarketingMessageFlags flags\r\n{\r\n	None = 0;\r\n	\r\n	HighPriority = 1;\r\n	PlatformWindows = 2;\r\n	PlatformMac = 4;\r\n	PlatformLinux = 8;\r\n	PlatformRestrictions = PlatformWindows | PlatformMac | PlatformLinux;\r\n};\r\n\r\nenum ENewsUpdateType\r\n{\r\n	AppNews = 0;\r\n	SteamAds = 1;\r\n	SteamNews = 2;\r\n	CDDBUpdate = 3;\r\n	ClientUpdate = 4;\r\n};\r\n\r\nenum ESystemIMType\r\n{\r\n	RawText = 0;\r\n	InvalidCard = 1;\r\n	RecurringPurchaseFailed = 2;\r\n	CardWillExpire = 3;\r\n	SubscriptionExpired = 4;\r\n	GuestPassReceived = 5;\r\n	GuestPassGranted = 6;\r\n	GiftRevoked = 7;\r\n	SupportMessage = 8;\r\n	SupportMessageClearAlert = 9;\r\n\r\n	Max = 10;\r\n};\r\n\r\nenum EChatFlags flags\r\n{\r\n	Locked = 1;\r\n	InvisibleToFriends = 2;\r\n	Moderated = 4;\r\n	Unjoinable = 8;\r\n};\r\n\r\nenum ERemoteStoragePlatform flags\r\n{\r\n	None = 0;\r\n	\r\n	Windows = 1;\r\n	OSX = 2;\r\n	PS3 = 4;\r\n	Reserved1 = 8;\r\n	Reserved2 = 16;\r\n\r\n	All = -1;\r\n};\r\n\r\nenum EDRMBlobDownloadType flags\r\n{\r\n	Error = 0;\r\n	\r\n	File = 1;\r\n	Parts = 2;\r\n	Compressed = 4;\r\n	AllMask = 7;\r\n	IsJob = 8;\r\n	HighPriority = 16;\r\n	AddTimestamp = 32;\r\n	LowPriority = 64;\r\n};\r\n\r\nenum EDRMBlobDownloadErrorDetail\r\n{\r\n	None = 0;\r\n	\r\n	DownloadFailed = 1;\r\n	TargetLocked = 2;\r\n	OpenZip = 3;\r\n	ReadZipDirectory = 4;\r\n	UnexpectedZipEntry = 5;\r\n	UnzipFullFile = 6;\r\n	UnknownBlobType = 7;\r\n	UnzipStrips = 8;\r\n	UnzipMergeGuid = 9;\r\n	UnzipSignature = 10;\r\n	ApplyStrips = 11;\r\n	ApplyMergeGuid = 12;\r\n	ApplySignature = 13;\r\n	AppIdMismatch = 14;\r\n	AppIdUnexpected = 15;\r\n	AppliedSignatureCorrupt = 16;\r\n	ApplyValveSignatureHeader = 17;\r\n	UnzipValveSignatureHeader = 18;\r\n	PathManipulationError = 19;\r\n	\r\n	TargetLocked_Base = 65536;\r\n	TargetLocked_Max = 131071;\r\n	\r\n	NextBase = 131072;\r\n};\r\n\r\nenum EClientStat\r\n{\r\n	P2PConnectionsUDP = 0;\r\n	P2PConnectionsRelay = 1;\r\n	P2PGameConnections = 2;\r\n	P2PVoiceConnections = 3;\r\n	BytesDownloaded = 4;\r\n	\r\n	Max = 5;\r\n};\r\n\r\nenum EClientStatAggregateMethod\r\n{\r\n	LatestOnly = 0;\r\n	Sum = 1;\r\n	Event = 2;\r\n	Scalar = 3;\r\n};\r\n\r\nenum ELeaderboardDataRequest\r\n{\r\n	Global = 0;\r\n	GlobalAroundUser = 1;\r\n	Friends = 2;\r\n	Users = 3;\r\n};\r\n\r\nenum ELeaderboardSortMethod\r\n{\r\n	None = 0;\r\n	\r\n	Ascending = 1;\r\n	Descending = 2;\r\n};\r\n\r\nenum ELeaderboardUploadScoreMethod\r\n{\r\n	None = 0;\r\n	\r\n	KeepBest = 1;\r\n	ForceUpdate = 2;\r\n};\r\n\r\nenum EUCMFilePrivacyState flags\r\n{\r\n	Invalid = -1;\r\n	Private = 2;\r\n	FriendsOnly = 4;\r\n	Public = 8;\r\n	\r\n	All = Public | FriendsOnly | Private; // 14\r\n};\r\n'}},{}],195:[function(require,module){var path=require("path"),files=require("my-files/files.json");module.exports={readFileSync:function(file){return files[path.join(require("my-process").cwd(),file)]}}},{"my-files/files.json":194,"my-process":196,path:166}],196:[function(require,module){var cwd="/";module.exports={cwd:function(){return cwd},chdir:function(path){cwd=path}}},{}],197:[function(require,module,exports){var Type={None:0,String:1,Int32:2,Float32:3,Pointer:4,WideString:5,Color:6,UInt64:7,End:8};exports.decode=function(buffer){for(var object={};;){var type=buffer.readUint8();if(type==Type.End)break;var name=buffer.readCString();switch(type){case Type.None:object[name]=exports.decode(buffer);break;case Type.String:object[name]=buffer.readCString();break;case Type.Int32:case Type.Color:case Type.Pointer:object[name]=buffer.readInt32();break;case Type.UInt64:object[name]=buffer.readUint64();break;case Type.Float32:object[name]=buffer.readFloat()}}return object}},{}],198:[function(require,module){(function(Buffer){function Connection(){Socket.call(this),this.on("readable",this._readPacket.bind(this))}module.exports=Connection;var util=require("util"),Socket=require("chrome-net").Socket,MAGIC="VT01";util.inherits(Connection,Socket),Connection.prototype.send=function(data){this.sessionKey&&(data=require("./crypto_helper").symmetricEncrypt(data,this.sessionKey));var buffer=new Buffer(8+data.length);buffer.writeUInt32LE(data.length,0),buffer.write(MAGIC,4),data.copy(buffer,8),this.write(buffer)},Connection.prototype._readPacket=function(){if(!this._packetLen){var header=this.read(8);if(!header)return;this._packetLen=header.readUInt32LE(0)}var packet=this.read(this._packetLen);return packet?(delete this._packetLen,this.sessionKey&&(packet=require("./crypto_helper").symmetricDecrypt(packet,this.sessionKey)),this.emit("packet",packet),void this._readPacket()):void this.emit("debug","incomplete packet")}}).call(this,require("buffer").Buffer)},{"./crypto_helper":199,buffer:17,"chrome-net":190,util:187}],199:[function(require,module,exports){(function(Buffer){var crypto=require("crypto");exports.symmetricEncrypt=function(input,key){var iv=crypto.randomBytes(16),aesIv=crypto.createCipheriv("aes-256-ecb",key,"");aesIv.setAutoPadding(!1),aesIv.end(iv);var aesData=crypto.createCipheriv("aes-256-cbc",key,iv);return aesData.end(input),Buffer.concat([aesIv.read(),aesData.read()])},exports.symmetricDecrypt=function(input,key){var aesIv=crypto.createDecipheriv("aes-256-ecb",key,"");aesIv.setAutoPadding(!1),aesIv.end(input.slice(0,16));var aesData=crypto.createDecipheriv("aes-256-cbc",key,aesIv.read());return aesData.end(input.slice(16)),aesData.read()}}).call(this,require("buffer").Buffer)},{buffer:17,crypto:21}],200:[function(require){(function(Buffer){function toChatID(steamID){return"string"==typeof steamID&&(steamID=SteamID.decode(steamID)),steamID.accountType==Steam.EAccountType.Clan&&(steamID.accountInstance=SteamID.ChatInstanceFlags.Clan,steamID.accountType=Steam.EAccountType.Chat),steamID.encode()}function toClanID(steamID){return steamID=SteamID.decode(steamID),steamID.accountInstance==SteamID.ChatInstanceFlags.Clan&&(steamID.accountType=Steam.EAccountType.Clan,steamID.accountInstance=0),steamID.toString()}var ByteBuffer=require("bytebuffer/dist/ByteBufferNB.js"),Steam=require("../steam_client"),SteamID=require("../steamID"),EMsg=Steam.EMsg,schema=Steam.Internal,protoMask=2147483648,prototype=Steam.SteamClient.prototype;prototype.setPersonaName=function(name){this._send(EMsg.ClientChangeStatus|protoMask,new schema.CMsgClientChangeStatus({personaState:this._personaState,playerName:name}))},prototype.setPersonaState=function(state){this._personaState=state,this._send(EMsg.ClientChangeStatus|protoMask,new schema.CMsgClientChangeStatus({personaState:state}))},prototype.sendMessage=function(target,message,type){target=SteamID.decode(target),type=type||Steam.EChatEntryType.ChatMsg;var payload=new ByteBuffer(Buffer.byteLength(message)+1);if(payload.writeCString(message).flip(),target.accountType==Steam.EAccountType.Individual||target.accountType==Steam.EAccountType.ConsoleUser)this._send(EMsg.ClientFriendMsg|protoMask,new schema.CMsgClientFriendMsg({steamid:target.encode(),message:payload,chatEntryType:type}));else{var chatMsg=new schema.MsgClientChatMsg({steamIdChatter:this.steamID,steamIdChatRoom:toChatID(target),chatMsgType:type});this._send(EMsg.ClientChatMsg,ByteBuffer.concat([chatMsg.encode(),payload]))}},prototype.addFriend=function(steamID){this._send(EMsg.ClientAddFriend|protoMask,new schema.CMsgClientAddFriend({steamidToAdd:steamID}))},prototype.removeFriend=function(steamID){this._send(EMsg.ClientRemoveFriend|protoMask,new schema.CMsgClientRemoveFriend({friendid:steamID}))},prototype.joinChat=function(steamID){this._send(EMsg.ClientJoinChat,new schema.MsgClientJoinChat({steamIdChat:toChatID(steamID)}))},prototype.leaveChat=function(steamID){var leaveChat=new schema.MsgClientChatMemberInfo({steamIdChat:toChatID(steamID),type:Steam.EChatInfoType.StateChange}),payload=new ByteBuffer(20,ByteBuffer.LITTLE_ENDIAN);payload.writeUint64(ByteBuffer.Long.fromString(this.steamID)),payload.writeUint32(Steam.EChatMemberStateChange.Left),payload.writeUint64(ByteBuffer.Long.fromString(this.steamID)),this._send(EMsg.ClientChatMemberInfo,ByteBuffer.concat([leaveChat.encode(),payload.flip()])),delete this.chatRooms[steamID]},prototype.lockChat=function(steamID){this._send(EMsg.ClientChatAction,new schema.MsgClientChatAction({steamIdChat:toChatID(steamID),steamIdUserToActOn:toChatID(steamID),chatAction:Steam.EChatAction.LockChat}))},prototype.unlockChat=function(steamID){this._send(EMsg.ClientChatAction,new schema.MsgClientChatAction({steamIdChat:toChatID(steamID),steamIdUserToActOn:toChatID(steamID),chatAction:Steam.EChatAction.UnlockChat}))},prototype.setModerated=function(steamID){this._send(EMsg.ClientChatAction,new schema.MsgClientChatAction({steamIdChat:toChatID(steamID),steamIdUserToActOn:toChatID(steamID),chatAction:Steam.EChatAction.SetModerated}))},prototype.setUnmoderated=function(steamID){this._send(EMsg.ClientChatAction,new schema.MsgClientChatAction({steamIdChat:toChatID(steamID),steamIdUserToActOn:toChatID(steamID),chatAction:Steam.EChatAction.SetUnmoderated}))},prototype.kick=function(steamIdChat,steamIdMember){this._send(EMsg.ClientChatAction,new schema.MsgClientChatAction({steamIdChat:toChatID(steamIdChat),steamIdUserToActOn:steamIdMember,chatAction:Steam.EChatAction.Kick}))},prototype.ban=function(steamIdChat,steamIdMember){this._send(EMsg.ClientChatAction,new schema.MsgClientChatAction({steamIdChat:toChatID(steamIdChat),steamIdUserToActOn:steamIdMember,chatAction:Steam.EChatAction.Ban}))},prototype.unban=function(steamIdChat,steamIdMember){this._send(EMsg.ClientChatAction,new schema.MsgClientChatAction({steamIdChat:toChatID(steamIdChat),steamIdUserToActOn:steamIdMember,chatAction:Steam.EChatAction.UnBan}))},prototype.chatInvite=function(steamIdChat,steamIdInvited){this._send(EMsg.ClientChatInvite|protoMask,new schema.CMsgClientChatInvite({steamIdInvited:steamIdInvited,steamIdChat:toChatID(steamIdChat)}))},prototype.getSteamLevel=function(steamids,callback){var accountids=steamids.map(function(steamid){return SteamID.decode(steamid).accountID});this._send(EMsg.ClientFSGetFriendsSteamLevels|protoMask,new schema.CMsgClientFSGetFriendsSteamLevels({accountids:accountids}),callback)};var defaultInfoRequest=Steam.EClientPersonaStateFlag.PlayerName|Steam.EClientPersonaStateFlag.Presence|Steam.EClientPersonaStateFlag.SourceID|Steam.EClientPersonaStateFlag.GameExtraInfo;prototype.requestFriendData=function(steamIdList,requestedData){this._send(EMsg.ClientRequestFriendData|protoMask,new schema.CMsgClientRequestFriendData({friends:steamIdList,personaStateRequested:requestedData||defaultInfoRequest}))};var handlers=prototype._handlers;handlers[EMsg.ClientPersonaState]=function(data){schema.CMsgClientPersonaState.decode(data).friends.forEach(function(friend){for(var field in friend)null==friend[field]?delete friend[field]:ByteBuffer.isByteBuffer(friend[field])?friend[field]=friend[field].toBuffer():ByteBuffer.Long.isLong(friend[field])&&(friend[field]=friend[field].toString());if("gameServerIp"in friend){var buf=new Buffer(4);buf.writeUInt32BE(friend.gameServerIp,0),friend.gameServerIp=Array.prototype.join.call(buf,".")}["lastLogoff","lastLogon"].forEach(function(field){field in friend&&(friend[field]=new Date(1e3*friend[field]))}),this.emit("user",friend),this.users[friend.friendid]||(this.users[friend.friendid]={});for(var field in friend)this.users[friend.friendid][field]=friend[field]}.bind(this))},handlers[EMsg.ClientRichPresenceInfo]=function(data){var info=schema.CMsgClientRichPresenceInfo.decode(data).richPresence[0],vdf=require("../VDF").decode(info.richPresenceKv).RP;this.emit.apply(this,["richPresence",info.steamidUser.toString(),vdf.status].concat(Object.keys(vdf).filter(function(key){return!key.indexOf("param")}).map(function(key){return vdf[key]})))},handlers[EMsg.ClientFriendsList]=function(data){var list=schema.CMsgClientFriendsList.decode(data);list.friends.forEach(function(relationship){var steamID=relationship.ulfriendid,isClan=SteamID.decode(steamID).accountType==Steam.EAccountType.Clan;list.bincremental&&this.emit(isClan?"group":"friend",steamID.toString(),relationship.efriendrelationship),relationship.efriendrelationship==Steam.EFriendRelationship.None?delete this[isClan?"groups":"friends"][steamID]:this[isClan?"groups":"friends"][steamID]=relationship.efriendrelationship}.bind(this)),list.bincremental||this.emit("relationships")},handlers[EMsg.ClientFriendMsgIncoming]=function(data){var friendMsg=schema.CMsgClientFriendMsgIncoming.decode(data),message=friendMsg.message.toString("utf8").split("\x00")[0];this.emit("message",friendMsg.steamidFrom.toString(),message,friendMsg.chatEntryType),this.emit("friendMsg",friendMsg.steamidFrom.toString(),message,friendMsg.chatEntryType)},handlers[EMsg.ClientChatMsg]=function(data){var chatMsg=schema.MsgClientChatMsg.decode(data),message=data.toString("utf8").split("\x00")[0];this.emit("message",toClanID(chatMsg.steamIdChatRoom),message,chatMsg.chatMsgType,chatMsg.steamIdChatter.toString()),this.emit("chatMsg",toClanID(chatMsg.steamIdChatRoom),message,chatMsg.chatMsgType,chatMsg.steamIdChatter.toString())},handlers[EMsg.ClientChatEnter]=function(data){var chatEnter=schema.MsgClientChatEnter.decode(data);if(chatEnter.enterResponse==Steam.EChatRoomEnterResponse.Success)for(var numObj=data.readUint32(),chatRoom=(data.readCString(),this.chatRooms[chatEnter.steamIdClan||chatEnter.steamIdChat]={});numObj--;){var object=require("../VDF").decode(data).MessageObject;chatRoom[object.steamid]={rank:object.Details,permissions:object.permissions}}this.emit("chatEnter",(chatEnter.steamIdClan||chatEnter.steamIdChat).toString(),chatEnter.enterResponse)},handlers[EMsg.ClientChatMemberInfo]=function(data){var membInfo=schema.MsgClientChatMemberInfo.decode(data),clanID=toClanID(membInfo.steamIdChat);if(membInfo.type==Steam.EChatInfoType.StateChange){var chatterActedOn=data.readUint64().toString(),stateChange=data.readInt32(),chatterActedBy=data.readUint64().toString();this.emit("chatStateChange",stateChange,chatterActedOn,clanID,chatterActedBy)}if(this.chatRooms[clanID])if(membInfo.type==Steam.EChatInfoType.InfoUpdate||stateChange==Steam.EChatMemberStateChange.Entered){var object=require("../VDF").decode(data).MessageObject;this.chatRooms[clanID][object.steamid]={rank:object.Details,permissions:object.permissions}}else chatterActedOn==this.steamID?delete this.chatRooms[clanID]:stateChange<Steam.EChatMemberStateChange.VoiceSpeaking&&delete this.chatRooms[clanID][chatterActedOn]},handlers[EMsg.ClientChatInvite]=function(data){var chatInvite=schema.CMsgClientChatInvite.decode(data);this.emit("chatInvite",toClanID(chatInvite.steamIdChat),chatInvite.chatName,chatInvite.steamIdPatron.toString())},handlers[EMsg.ClientClanState]=function(data){var clanState=schema.CMsgClientClanState.decode(data);clanState.announcements.length&&this.emit("announcement",clanState.steamidClan.toString(),clanState.announcements[0].headline)},handlers[EMsg.ClientFSGetFriendsSteamLevelsResponse]=function(data,callback){var friends=schema.CMsgClientFSGetFriendsSteamLevelsResponse.decode(data).friends,output={};friends.forEach(function(friend){output[new SteamID({accountUniverse:1,accountType:1,accountInstance:1,accountID:friend.accountid})]=friend.level}),callback(output)}}).call(this,require("buffer").Buffer)},{"../VDF":197,"../steamID":205,"../steam_client":206,buffer:17,"bytebuffer/dist/ByteBufferNB.js":222}],201:[function(require){(function(Buffer){var Steam=require("../steam_client"),EMsg=Steam.EMsg,schema=Steam.Internal,protoMask=2147483648,prototype=Steam.SteamClient.prototype;prototype.toGC=function(appid,type,body){if(arguments.length>3){var sourceJobID=++this._currentJobID;this._jobs[sourceJobID]=Array.prototype.slice.call(arguments,3);

}var header;header=type&protoMask?new schema.MsgGCHdrProtoBuf({msg:type>>>0,proto:{jobIdSource:sourceJobID||null}}):new schema.MsgGCHdr({sourceJobID:sourceJobID}),this._send(EMsg.ClientToGC|protoMask,new schema.CMsgGCClient({msgtype:type,appid:appid,payload:Buffer.concat([header.toBuffer(),body])}))};var handlers=prototype._handlers;handlers[EMsg.ClientFromGC]=function(data){var header,targetJobID,msg=schema.CMsgGCClient.decode(data);msg.msgtype&protoMask?(header=schema.MsgGCHdrProtoBuf.decode(msg.payload),targetJobID=header.proto.jobIdTarget):(header=schema.MsgGCHdr.decode(msg.payload),targetJobID=header.targetJobID),this.emit.apply(this,["fromGC",msg.appid,msg.msgtype,msg.payload.toBuffer()].concat(this._jobs[targetJobID]||[]))}}).call(this,require("buffer").Buffer)},{"../steam_client":206,buffer:17}],202:[function(require){var Steam=require("../steam_client"),EMsg=Steam.EMsg,schema=Steam.Internal,protoMask=2147483648,prototype=Steam.SteamClient.prototype;prototype.trade=function(user){this._send(EMsg.EconTrading_InitiateTradeRequest|protoMask,new schema.CMsgTrading_InitiateTradeRequest({otherSteamid:user}))},prototype.respondToTrade=function(tradeId,acceptTrade){this._send(EMsg.EconTrading_InitiateTradeResponse|protoMask,new schema.CMsgTrading_InitiateTradeResponse({tradeRequestId:tradeId,response:+!acceptTrade}))},prototype.cancelTrade=function(user){this._send(EMsg.EconTrading_CancelTradeRequest|protoMask,new schema.CMsgTrading_CancelTradeRequest({otherSteamid:user}))};var handlers=prototype._handlers;handlers[EMsg.EconTrading_InitiateTradeProposed]=function(data){var tradeProp=schema.CMsgTrading_InitiateTradeRequest.decode(data);this.emit("tradeProposed",tradeProp.tradeRequestId,tradeProp.otherSteamid.toString(),tradeProp.otherName)},handlers[EMsg.EconTrading_InitiateTradeResult]=function(data){var tradeResult=schema.CMsgTrading_InitiateTradeResponse.decode(data);this.emit("tradeResult",tradeResult.tradeRequestId,tradeResult.response,tradeResult.otherSteamid.toString())},handlers[EMsg.EconTrading_StartSession]=function(data){var startSess=schema.CMsgTrading_StartSession.decode(data);this.emit("sessionStart",startSess.otherSteamid.toString())}},{"../steam_client":206}],203:[function(require){(function(Buffer,__dirname){var Steam=require("../steam_client"),EMsg=Steam.EMsg,EResult=Steam.EResult,schema=Steam.Internal,protoMask=2147483648,prototype=Steam.SteamClient.prototype;Steam.servers=require("../servers"),prototype.logOn=function(logOnDetails){this.logOff(),this._logOnDetails=logOnDetails,this._jobs={},this._currentJobID=0,this.steamID=new(require("../steamID"))({accountInstance:1,accountUniverse:Steam.EUniverse.Public,accountType:Steam.EAccountType.Individual}).toString(),this._sessionID=0;var server=Steam.servers[Math.floor(Math.random()*Steam.servers.length)];this.emit("debug","connecting to "+server.host+":"+server.port),this._connection=new(require("../connection")),this._connection.on("packet",this._netMsgReceived.bind(this)),this._connection.on("close",this._disconnected.bind(this));var self=this;this._connection.on("error",function(err){self.emit("debug","socket error: "+err)}),this._connection.on("connect",function(){self.emit("debug","connected"),delete self._timeout}),this._connection.on("end",function(){self.emit("debug","socket ended")}),this._connection.setTimeout(1e3,function(){self.emit("debug","socket timed out"),self._connection.destroy()}),this._connection.connect(server.port,server.host)},prototype.logOff=function(){this._connection?(this._connection.destroy(),this._connection.removeAllListeners(),this.loggedOn&&(this.loggedOn=!1,clearInterval(this._heartBeatFunc))):this._scheduledConnection&&(clearTimeout(this._scheduledConnection),delete this._scheduledConnection)},prototype.webLogOn=function(callback){var sessionKey=require("crypto").randomBytes(32),cryptedSessionKey=require("crypto").publicEncrypt(require("my-fs").readFileSync(__dirname+"/../public.pub"),sessionKey),cryptedLoginKey=require("../crypto_helper").symmetricEncrypt(this._webLoginKey,sessionKey),data="steamid="+this.steamID+"&sessionkey="+cryptedSessionKey.toString("hex").replace(/../g,"%$&")+"&encrypted_loginkey="+cryptedLoginKey.toString("hex").replace(/../g,"%$&"),options={hostname:"api.steampowered.com",path:"/ISteamUserAuth/AuthenticateUser/v1",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":data.length}},self=this,req=require("https").request(options,function(res){200==res.statusCode?res.on("data",function(chunk){var response=JSON.parse(chunk);callback(["sessionid="+self._webSessionID,"steamLogin="+response.authenticateuser.token,"steamLoginSecure="+response.authenticateuser.tokensecure])}):(self.emit("debug","web authentication "+res.statusCode+", retrying"),self._send(EMsg.ClientRequestWebAPIAuthenticateUserNonce|protoMask,new schema.CMsgClientRequestWebAPIAuthenticateUserNonce,function(){self.webLogOn(callback)}),res.resume())});req.on("error",function(err){self.emit("debug","web authentication "+err+", retrying"),self.webLogOn(callback)}),req.end(data)},prototype.gamesPlayed=function(appIDs){this._send(EMsg.ClientGamesPlayed|protoMask,new schema.CMsgClientGamesPlayed({gamesPlayed:appIDs.map(function(appID){return{gameId:appID}})}))};var handlers=prototype._handlers;handlers[EMsg.ClientLogOnResponse]=function(data){var logonResp=schema.CMsgClientLogonResponse.decode(data),eresult=logonResp.eresult;if(eresult==EResult.OK){var hbDelay=logonResp.outOfGameHeartbeatSeconds;return this._heartBeatFunc=setInterval(function(){this._send(EMsg.ClientHeartBeat,new schema.CMsgClientHeartBeat)}.bind(this),1e3*hbDelay),this._webLoginKey=logonResp.webapiAuthenticateUserNonce,this.chatRooms={},this.friends={},this.groups={},this.users={},this.loggedOn=!0,void this.emit("loggedOn")}if(this.emit("debug","logon fail: "+eresult+", sessionID: "+this._sessionID),!~[EResult.Fail,EResult.ServiceUnavailable,EResult.TryAnotherCM].indexOf(eresult)){this._connection.removeAllListeners(),delete this._connection;var e=new Error("Logon fail: "+eresult);e.cause="logonFail",e.eresult=eresult,this.emit("error",e)}},handlers[EMsg.ClientNewLoginKey]=function(data){var loginKey=schema.CMsgClientNewLoginKey.decode(data);this._send(EMsg.ClientNewLoginKeyAccepted|protoMask,new schema.CMsgClientNewLoginKeyAccepted({uniqueId:loginKey.uniqueId})),this._webSessionID=new Buffer(loginKey.uniqueId.toString()).toString("base64"),this.emit("webSessionID",this._webSessionID)},handlers[EMsg.ClientRequestWebAPIAuthenticateUserNonceResponse]=function(data,callback){var nonce=schema.CMsgClientRequestWebAPIAuthenticateUserNonceResponse.decode(data);this._webLoginKey=nonce.webapiAuthenticateUserNonce,callback()},handlers[EMsg.ClientLoggedOff]=function(data){this.loggedOn=!1,clearInterval(this._heartBeatFunc);var eresult=schema.CMsgClientLoggedOff.decode(data).eresult;if(eresult==EResult.ServiceUnavailable)this.emit("loggedOff");else{this._connection.removeAllListeners(),delete this._connection;var e=new Error("Logged off: "+eresult);e.cause="loggedOff",e.eresult=eresult,this.emit("error",e)}},handlers[EMsg.ClientUpdateMachineAuth]=function(data,jobID){var sha=require("crypto").createHash("sha1");sha.update(schema.CMsgClientUpdateMachineAuth.decode(data).bytes.toBuffer()),sha=new Buffer(sha.digest(),"binary"),this._send(EMsg.ClientUpdateMachineAuthResponse|protoMask,new schema.CMsgClientUpdateMachineAuthResponse({shaFile:sha}),jobID),this.emit("sentry",sha)},handlers[EMsg.ClientUserNotifications]=function(data){var notifications=schema.CMsgClientUserNotifications.decode(data).notifications;this.emit("tradeOffers",notifications.length?notifications[0].count:0)}}).call(this,require("buffer").Buffer,"/node_modules/steam/lib/handlers")},{"../connection":198,"../crypto_helper":199,"../servers":204,"../steamID":205,"../steam_client":206,buffer:17,crypto:21,https:163,"my-fs":195}],204:[function(require,module){module.exports=[{host:"72.165.61.174",port:27017},{host:"72.165.61.174",port:27018},{host:"72.165.61.175",port:27017},{host:"72.165.61.175",port:27018},{host:"72.165.61.176",port:27017},{host:"72.165.61.176",port:27018},{host:"72.165.61.185",port:27017},{host:"72.165.61.185",port:27018},{host:"72.165.61.187",port:27017},{host:"72.165.61.187",port:27018},{host:"72.165.61.188",port:27017},{host:"72.165.61.188",port:27018},{host:"146.66.152.12",port:27017},{host:"146.66.152.12",port:27018},{host:"146.66.152.12",port:27019},{host:"146.66.152.13",port:27017},{host:"146.66.152.13",port:27018},{host:"146.66.152.13",port:27019},{host:"146.66.152.14",port:27017},{host:"146.66.152.14",port:27018},{host:"146.66.152.14",port:27019},{host:"146.66.152.15",port:27017},{host:"146.66.152.15",port:27018},{host:"146.66.152.15",port:27019},{host:"209.197.29.196",port:27017},{host:"209.197.29.197",port:27017}]},{}],205:[function(require,module){function SteamID(object){this.accountID=object.accountID||0,this.accountInstance=object.accountInstance||0,this.accountType=object.accountType||0,this.accountUniverse=object.accountUniverse||0}var Long=require("bytebuffer/dist/ByteBufferNB.js").Long;module.exports=SteamID,SteamID.ChatInstanceFlags={Clan:524288,Lobby:262144,MMSLobby:131072},SteamID.decode=function(steamID){return steamID=Long.fromValue(steamID),new SteamID({accountID:steamID.low,accountInstance:1048575&steamID.high,accountType:steamID.high>>20&15,accountUniverse:steamID.high>>24&255})},SteamID.prototype.encode=function(){return new Long(this.accountID,this.accountInstance|this.accountType<<20|this.accountUniverse<<24)},SteamID.prototype.toString=function(){return this.encode().toString()}},{"bytebuffer/dist/ByteBufferNB.js":222}],206:[function(require,module,exports){(function(Buffer,__dirname){function SteamClient(){EventEmitter.call(this)}var ByteBuffer=require("bytebuffer/dist/ByteBufferNB.js"),EventEmitter=require("events").EventEmitter,ProtoBuf=require("protobufjs"),Steam=exports,fs=require("my-fs"),path=require("path");ProtoBuf.convertFieldsToCamelCase=!0;var builder=ProtoBuf.newBuilder();ProtoBuf.loadProtoFile(path.join(__dirname,"../resources/protobufs/steamclient/steammessages_clientserver.proto"),builder),ProtoBuf.loadProtoFile(path.join(__dirname,"../resources/protobufs/steamclient/steammessages_clientserver_2.proto"),builder);var schema=Steam.Internal=builder.build();Steam.GC={Internal:ProtoBuf.loadProtoFile(path.join(__dirname,"../resources/protobufs/dota/steammessages.proto")).build()},require("../resources/steam_language_parser");var EMsg=Steam.EMsg,protoMask=2147483648;require("util").inherits(SteamClient,EventEmitter),SteamClient.prototype._send=function(eMsg,body,job){if("function"==typeof job){var sourceJobID=++this._currentJobID;this._jobs[sourceJobID]=job}else var targetJobID=job;var header;header=eMsg==EMsg.ChannelEncryptResponse?new schema.MsgHdr({msg:eMsg,sourceJobID:sourceJobID,targetJobID:targetJobID}):eMsg&protoMask?new schema.MsgHdrProtoBuf({msg:eMsg,proto:{clientSessionid:this._sessionID,steamid:this.steamID,jobidSource:sourceJobID||null,jobidTarget:targetJobID||null}}):new schema.ExtendedClientMsgHdr({msg:eMsg,steamID:this.steamID,sessionID:this._sessionID,sourceJobID:sourceJobID,targetJobID:targetJobID}),this._connection.send(Buffer.concat([header.toBuffer(),body.toBuffer()]))},SteamClient.prototype._netMsgReceived=function(data){var rawEMsg=data.readUInt32LE(0),eMsg=rawEMsg&~protoMask;data=ByteBuffer.wrap(data,ByteBuffer.LITTLE_ENDIAN);var header,sourceJobID,targetJobID;eMsg==EMsg.ChannelEncryptRequest||eMsg==EMsg.ChannelEncryptResult?(header=schema.MsgHdr.decode(data),sourceJobID=header.sourceJobID,targetJobID=header.targetJobID):rawEMsg&protoMask?(header=schema.MsgHdrProtoBuf.decode(data),!this._sessionID&&header.headerLength>0&&(this._sessionID=header.proto.clientSessionid,this.steamID=header.proto.steamid.toString()),sourceJobID=header.proto.jobidSource,targetJobID=header.proto.jobidTarget):(header=schema.ExtendedClientMsgHdr.decode(data),sourceJobID=header.sourceJobID,targetJobID=header.targetJobID),eMsg in this._handlers?this._handlers[eMsg].call(this,data,this._jobs[targetJobID]||sourceJobID):this.emit("unhandled",eMsg)},SteamClient.prototype._disconnected=function(had_error){if(this.emit("debug","socket closed"+(had_error?" with an error":"")),delete this._connection,this.loggedOn&&(this.emit("debug","unexpected disconnection"),this.loggedOn=!1,clearInterval(this._heartBeatFunc),this.emit("loggedOff")),!had_error)return void this.logOn(this._logOnDetails);var timeout=this._timeout||1;this.emit("debug","waiting "+timeout+" secs"),this._scheduledConnection=setTimeout(function(){delete this._scheduledConnection,this.logOn(this._logOnDetails)}.bind(this),1e3*timeout),this._timeout=2*timeout};var handlers=SteamClient.prototype._handlers={};handlers[EMsg.ChannelEncryptRequest]=function(){this._connection.setTimeout(0),this.emit("debug","encrypt request"),this._tempSessionKey=require("crypto").randomBytes(32);var cryptedSessKey=require("crypto").publicEncrypt(fs.readFileSync(__dirname+"/public.pub"),this._tempSessionKey),keyCrc=require("buffer-crc32").signed(cryptedSessKey),encResp=(new schema.MsgChannelEncryptResponse).encode(),body=new ByteBuffer(encResp.limit+128+4+4,ByteBuffer.LITTLE_ENDIAN);body.append(encResp),body.append(cryptedSessKey),body.writeInt32(keyCrc),body.writeUint32(0),this._send(EMsg.ChannelEncryptResponse,body.flip())},handlers[EMsg.ChannelEncryptResult]=function(data){var encResult=schema.MsgChannelEncryptResult.decode(data);return encResult.result!=Steam.EResult.OK?void this.emit("error",new Error("Encryption fail: "+encResult.result)):(this._connection.sessionKey=this._tempSessionKey,this.emit("debug","handshake complete"),this._logOnDetails.protocolVersion=65575,void this._send(EMsg.ClientLogon|protoMask,new schema.CMsgClientLogon(this._logOnDetails)))},handlers[EMsg.Multi]=function(data){var msgMulti=schema.CMsgMulti.decode(data),payload=msgMulti.messageBody.toBuffer();if(msgMulti.sizeUnzipped){var zip=new(require("adm-zip"))(payload);payload=zip.readFile("z")}for(;payload.length;){var subSize=payload.readUInt32LE(0);this._netMsgReceived(payload.slice(4,4+subSize)),payload=payload.slice(4+subSize)}},handlers[EMsg.ClientCMList]=function(data){var list=schema.CMsgClientCMList.decode(data),servers=list.cmAddresses.map(function(number,index){var buf=new Buffer(4);return buf.writeUInt32BE(number,0),{host:[].join.call(buf,"."),port:list.cmPorts[index]}});this.emit("servers",servers),Steam.servers=servers},Steam.SteamClient=SteamClient,require("./handlers/friends"),require("./handlers/game_coordinator"),require("./handlers/trading"),require("./handlers/user")}).call(this,require("buffer").Buffer,"/node_modules/steam/lib")},{"../resources/steam_language_parser":229,"./handlers/friends":200,"./handlers/game_coordinator":201,"./handlers/trading":202,"./handlers/user":203,"adm-zip":207,buffer:17,"buffer-crc32":221,"bytebuffer/dist/ByteBufferNB.js":222,crypto:21,events:158,"my-fs":195,path:166,protobufjs:226,util:187}],207:[function(require,module){(function(Buffer){var fs=require("my-fs"),pth=require("path");fs.existsSync=fs.existsSync||pth.existsSync;var ZipEntry=require("./zipEntry"),ZipFile=require("./zipFile"),Utils=require("./util");module.exports=function(input){function getEntry(entry){if(entry&&_zip){var item;if("string"==typeof entry&&(item=_zip.getEntry(entry)),"object"==typeof entry&&void 0!=entry.entryName&&void 0!=entry.header&&(item=_zip.getEntry(entry.entryName)),item)return item}return null}var _zip=void 0,_filename="";if(input&&"string"==typeof input){if(!fs.existsSync(input))throw Utils.Errors.INVALID_FILENAME;_filename=input,_zip=new ZipFile(input,Utils.Constants.FILE)}else _zip=input&&Buffer.isBuffer(input)?new ZipFile(input,Utils.Constants.BUFFER):new ZipFile(null,Utils.Constants.NONE);return{readFile:function(entry){var item=getEntry(entry);return item&&item.getData()||null},readFileAsync:function(entry,callback){var item=getEntry(entry);item?item.getDataAsync(callback):callback(null,"getEntry failed for:"+entry)},readAsText:function(entry,encoding){var item=getEntry(entry);if(item){var data=item.getData();if(data&&data.length)return data.toString(encoding||"utf8")}return""},readAsTextAsync:function(entry,callback,encoding){var item=getEntry(entry);item?item.getDataAsync(function(data){callback(data&&data.length?data.toString(encoding||"utf8"):"")}):callback("")},deleteFile:function(entry){var item=getEntry(entry);item&&_zip.deleteEntry(item.entryName)},addZipComment:function(comment){_zip.comment=comment},getZipComment:function(){return _zip.comment||""},addZipEntryComment:function(entry,comment){var item=getEntry(entry);item&&(item.comment=comment)},getZipEntryComment:function(entry){var item=getEntry(entry);return item?item.comment||"":""},updateFile:function(entry,content){var item=getEntry(entry);item&&item.setData(content)},addLocalFile:function(localPath,zipPath,zipName){if(!fs.existsSync(localPath))throw Utils.Errors.FILE_NOT_FOUND.replace("%s",localPath);zipPath?(zipPath=zipPath.split("\\").join("/"),"/"!=zipPath.charAt(zipPath.length-1)&&(zipPath+="/")):zipPath="";var p=localPath.split("\\").join("/").split("/").pop();zipName?this.addFile(zipPath+zipName,fs.readFileSync(localPath),"",0):this.addFile(zipPath+p,fs.readFileSync(localPath),"",0)},addLocalFolder:function(localPath,zipPath,filter){if(void 0===filter?filter=function(){return!0}:filter instanceof RegExp&&(filter=function(filter){return function(filename){return filter.test(filename)}}(filter)),zipPath?(zipPath=zipPath.split("\\").join("/"),"/"!=zipPath.charAt(zipPath.length-1)&&(zipPath+="/")):zipPath="",localPath=localPath.split("\\").join("/"),localPath=pth.normalize(localPath),"/"!=localPath.charAt(localPath.length-1)&&(localPath+="/"),!fs.existsSync(localPath))throw Utils.Errors.FILE_NOT_FOUND.replace("%s",localPath);var items=Utils.findFiles(localPath),self=this;items.length&&items.forEach(function(path){var p=path.split("\\").join("/").replace(new RegExp(localPath,"i"),"");filter(p)&&("/"!==p.charAt(p.length-1)?self.addFile(zipPath+p,fs.readFileSync(path),"",0):self.addFile(zipPath+p,new Buffer(0),"",0))})},addFile:function(entryName,content,comment,attr){var entry=new ZipEntry;entry.entryName=entryName,entry.comment=comment||"",entry.attr=attr||438,entry.isDirectory&&content.length,entry.setData(content),_zip.setEntry(entry)},getEntries:function(){return _zip?_zip.entries:[]},getEntry:function(name){return getEntry(name)},extractEntryTo:function(entry,targetPath,maintainEntryPath,overwrite){overwrite=overwrite||!1,maintainEntryPath="undefined"==typeof maintainEntryPath?!0:maintainEntryPath;var item=getEntry(entry);if(!item)throw Utils.Errors.NO_ENTRY;var target=pth.resolve(targetPath,maintainEntryPath?item.entryName:pth.basename(item.entryName));if(item.isDirectory){target=pth.resolve(target,"..");var children=_zip.getEntryChildren(item);return children.forEach(function(child){if(!child.isDirectory){var content=child.getData();if(!content)throw Utils.Errors.CANT_EXTRACT_FILE;Utils.writeFileTo(pth.resolve(targetPath,maintainEntryPath?child.entryName:child.entryName.substr(item.entryName.length)),content,overwrite)}}),!0}var content=item.getData();if(!content)throw Utils.Errors.CANT_EXTRACT_FILE;if(fs.existsSync(target)&&!overwrite)throw Utils.Errors.CANT_OVERRIDE;return Utils.writeFileTo(target,content,overwrite),!0},extractAllTo:function(targetPath,overwrite){if(overwrite=overwrite||!1,!_zip)throw Utils.Errors.NO_ZIP;_zip.entries.forEach(function(entry){if(entry.isDirectory)return void Utils.makeDir(pth.resolve(targetPath,entry.entryName.toString()));var content=entry.getData();if(!content)throw Utils.Errors.CANT_EXTRACT_FILE+"2";Utils.writeFileTo(pth.resolve(targetPath,entry.entryName.toString()),content,overwrite)})},extractAllToAsync:function(targetPath,overwrite,callback){if(overwrite=overwrite||!1,!_zip)return void callback(new Error(Utils.Errors.NO_ZIP));var entries=_zip.entries,i=entries.length;entries.forEach(function(entry){return 0>=i?void 0:entry.isDirectory?(Utils.makeDir(pth.resolve(targetPath,entry.entryName.toString())),void(0==--i&&callback(void 0))):void entry.getDataAsync(function(content){return 0>=i?void 0:content?void Utils.writeFileToAsync(pth.resolve(targetPath,entry.entryName.toString()),content,overwrite,function(succ){return 0>=i?void 0:succ?void(0==--i&&callback(void 0)):(i=0,void callback(new Error("Unable to write")))}):(i=0,void callback(new Error(Utils.Errors.CANT_EXTRACT_FILE+"2")))})})},writeZip:function(targetFileName,callback){if(1==arguments.length&&"function"==typeof targetFileName&&(callback=targetFileName,targetFileName=""),!targetFileName&&_filename&&(targetFileName=_filename),targetFileName){var zipData=_zip.compressToBuffer();if(zipData){var ok=Utils.writeFileTo(targetFileName,zipData,!0);"function"==typeof callback&&callback(ok?null:new Error("failed"),"")}}},toBuffer:function(onSuccess,onFail,onItemStart,onItemEnd){return this.valueOf=2,"function"==typeof onSuccess?(_zip.toAsyncBuffer(onSuccess,onFail,onItemStart,onItemEnd),null):_zip.compressToBuffer()}}}}).call(this,require("buffer").Buffer)},{"./util":217,"./zipEntry":219,"./zipFile":220,buffer:17,"my-fs":195,path:166}],208:[function(require,module){(function(Buffer){var Utils=require("../util"),Constants=Utils.Constants;module.exports=function(){function setTime(val){var val=new Date(val);_time=(val.getFullYear()-1980&127)<<25|val.getMonth()+1<<21|val.getDay()<<16|val.getHours()<<11|val.getMinutes()<<5|val.getSeconds()>>1}var _verMade=10,_version=10,_flags=0,_method=0,_time=0,_crc=0,_compressedSize=0,_size=0,_fnameLen=0,_extraLen=0,_comLen=0,_diskStart=0,_inattr=0,_attr=0,_offset=0,_dataHeader={};return setTime(+new Date),{get made(){return _verMade},set made(val){_verMade=val},get version(){return _version},set version(val){_version=val},get flags(){return _flags},set flags(val){_flags=val},get method(){return _method},set method(val){_method=val},get time(){return new Date((_time>>25&127)+1980,(_time>>21&15)-1,_time>>16&31,_time>>11&31,_time>>5&63,(31&_time)<<1)},set time(val){setTime(val)},get crc(){return _crc},set crc(val){_crc=val},get compressedSize(){return _compressedSize},set compressedSize(val){_compressedSize=val},get size(){return _size},set size(val){_size=val},get fileNameLength(){return _fnameLen},set fileNameLength(val){_fnameLen=val},get extraLength(){return _extraLen},set extraLength(val){_extraLen=val},get commentLength(){return _comLen},set commentLength(val){_comLen=val},get diskNumStart(){return _diskStart},set diskNumStart(val){_diskStart=val},get inAttr(){return _inattr},set inAttr(val){_inattr=val},get attr(){return _attr},set attr(val){_attr=val},get offset(){return _offset},set offset(val){_offset=val},get encripted(){return 1==(1&_flags)},get entryHeaderSize(){return Constants.CENHDR+_fnameLen+_extraLen+_comLen},get realDataOffset(){return _offset+Constants.LOCHDR+_dataHeader.fnameLen+_dataHeader.extraLen},get dataHeader(){return _dataHeader},loadDataHeaderFromBinary:function(input){var data=input.slice(_offset,_offset+Constants.LOCHDR);if(data.readUInt32LE(0)!=Constants.LOCSIG)throw Utils.Errors.INVALID_LOC;_dataHeader={version:data.readUInt16LE(Constants.LOCVER),flags:data.readUInt16LE(Constants.LOCFLG),method:data.readUInt16LE(Constants.LOCHOW),time:data.readUInt32LE(Constants.LOCTIM),crc:data.readUInt32LE(Constants.LOCCRC),compressedSize:data.readUInt32LE(Constants.LOCSIZ),size:data.readUInt32LE(Constants.LOCLEN),fnameLen:data.readUInt16LE(Constants.LOCNAM),extraLen:data.readUInt16LE(Constants.LOCEXT)}},loadFromBinary:function(data){if(data.length!=Constants.CENHDR||data.readUInt32LE(0)!=Constants.CENSIG)throw Utils.Errors.INVALID_CEN;_verMade=data.readUInt16LE(Constants.CENVEM),_version=data.readUInt16LE(Constants.CENVER),_flags=data.readUInt16LE(Constants.CENFLG),_method=data.readUInt16LE(Constants.CENHOW),_time=data.readUInt32LE(Constants.CENTIM),_crc=data.readUInt32LE(Constants.CENCRC),_compressedSize=data.readUInt32LE(Constants.CENSIZ),_size=data.readUInt32LE(Constants.CENLEN),_fnameLen=data.readUInt16LE(Constants.CENNAM),_extraLen=data.readUInt16LE(Constants.CENEXT),_comLen=data.readUInt16LE(Constants.CENCOM),_diskStart=data.readUInt16LE(Constants.CENDSK),_inattr=data.readUInt16LE(Constants.CENATT),_attr=data.readUInt32LE(Constants.CENATX),_offset=data.readUInt32LE(Constants.CENOFF)},dataHeaderToBinary:function(){var data=new Buffer(Constants.LOCHDR);return data.writeUInt32LE(Constants.LOCSIG,0),data.writeUInt16LE(_version,Constants.LOCVER),data.writeUInt16LE(_flags,Constants.LOCFLG),data.writeUInt16LE(_method,Constants.LOCHOW),data.writeUInt32LE(_time,Constants.LOCTIM),data.writeUInt32LE(_crc,Constants.LOCCRC),data.writeUInt32LE(_compressedSize,Constants.LOCSIZ),data.writeUInt32LE(_size,Constants.LOCLEN),data.writeUInt16LE(_fnameLen,Constants.LOCNAM),data.writeUInt16LE(_extraLen,Constants.LOCEXT),data},entryHeaderToBinary:function(){var data=new Buffer(Constants.CENHDR+_fnameLen+_extraLen+_comLen);return data.writeUInt32LE(Constants.CENSIG,0),data.writeUInt16LE(_verMade,Constants.CENVEM),data.writeUInt16LE(_version,Constants.CENVER),data.writeUInt16LE(_flags,Constants.CENFLG),data.writeUInt16LE(_method,Constants.CENHOW),data.writeUInt32LE(_time,Constants.CENTIM),data.writeInt32LE(_crc,Constants.CENCRC,!0),data.writeUInt32LE(_compressedSize,Constants.CENSIZ),data.writeUInt32LE(_size,Constants.CENLEN),data.writeUInt16LE(_fnameLen,Constants.CENNAM),data.writeUInt16LE(_extraLen,Constants.CENEXT),data.writeUInt16LE(_comLen,Constants.CENCOM),data.writeUInt16LE(_diskStart,Constants.CENDSK),data.writeUInt16LE(_inattr,Constants.CENATT),data.writeUInt32LE(_attr,Constants.CENATX),data.writeUInt32LE(_offset,Constants.CENOFF),data.fill(0,Constants.CENHDR),data},toString:function(){return'{\n	"made" : '+_verMade+',\n	"version" : '+_version+',\n	"flags" : '+_flags+',\n	"method" : '+Utils.methodToString(_method)+',\n	"time" : '+_time+',\n	"crc" : 0x'+_crc.toString(16).toUpperCase()+',\n	"compressedSize" : '+_compressedSize+' bytes,\n	"size" : '+_size+' bytes,\n	"fileNameLength" : '+_fnameLen+',\n	"extraLength" : '+_extraLen+' bytes,\n	"commentLength" : '+_comLen+' bytes,\n	"diskNumStart" : '+_diskStart+',\n	"inAttr" : '+_inattr+',\n	"attr" : '+_attr+',\n	"offset" : '+_offset+',\n	"entryHeaderSize" : '+(Constants.CENHDR+_fnameLen+_extraLen+_comLen)+" bytes\n}"}}}}).call(this,require("buffer").Buffer)},{"../util":217,buffer:17}],209:[function(require,module,exports){exports.EntryHeader=require("./entryHeader"),exports.MainHeader=require("./mainHeader")},{"./entryHeader":208,"./mainHeader":210}],210:[function(require,module){(function(Buffer){var Utils=require("../util"),Constants=Utils.Constants;module.exports=function(){var _volumeEntries=0,_totalEntries=0,_size=0,_offset=0,_commentLength=0;return{get diskEntries(){return _volumeEntries},set diskEntries(val){_volumeEntries=_totalEntries=val},get totalEntries(){return _totalEntries},set totalEntries(val){_totalEntries=_volumeEntries=val},get size(){return _size},set size(val){_size=val},get offset(){return _offset},set offset(val){_offset=val},get commentLength(){return _commentLength},set commentLength(val){_commentLength=val},get mainHeaderSize(){return Constants.ENDHDR+_commentLength},loadFromBinary:function(data){if(data.length!=Constants.ENDHDR||data.readUInt32LE(0)!=Constants.ENDSIG)throw Utils.Errors.INVALID_END;_volumeEntries=data.readUInt16LE(Constants.ENDSUB),_totalEntries=data.readUInt16LE(Constants.ENDTOT),_size=data.readUInt32LE(Constants.ENDSIZ),_offset=data.readUInt32LE(Constants.ENDOFF),_commentLength=data.readUInt16LE(Constants.ENDCOM)},toBinary:function(){var b=new Buffer(Constants.ENDHDR+_commentLength);return b.writeUInt32LE(Constants.ENDSIG,0),b.writeUInt32LE(0,4),b.writeUInt16LE(_volumeEntries,Constants.ENDSUB),b.writeUInt16LE(_totalEntries,Constants.ENDTOT),b.writeUInt32LE(_size,Constants.ENDSIZ),b.writeUInt32LE(_offset,Constants.ENDOFF),b.writeUInt16LE(_commentLength,Constants.ENDCOM),b.fill(" ",Constants.ENDHDR),b},toString:function(){return'{\n	"diskEntries" : '+_volumeEntries+',\n	"totalEntries" : '+_totalEntries+',\n	"size" : '+_size+' bytes,\n	"offset" : 0x'+_offset.toString(16).toUpperCase()+',\n	"commentLength" : 0x'+_commentLength+"\n}"}}}}).call(this,require("buffer").Buffer)},{"../util":217,buffer:17}],211:[function(require,module){(function(Buffer){function JSDeflater(inbuf){function deflate(buffData,level){zip_deflate_data=buffData,zip_deflate_pos=0,zip_deflate_start(level);var i,buff=new Array(1024),pages=[],totalSize=0;for(i=0;1024>i;i++)buff[i]=0;for(;(i=zip_deflate_internal(buff,0,buff.length))>0;){var buf=new Buffer(buff.slice(0,i));pages.push(buf),totalSize+=buf.length}if(1==pages.length)return pages[0];var result=new Buffer(totalSize),index=0;for(i=0;i<pages.length;i++)pages[i].copy(result,index),index+=pages[i].length;return result}var zip_free_queue,zip_qhead,zip_qtail,zip_initflag,zip_outcnt,zip_outoff,zip_complete,zip_window,zip_d_buf,zip_l_buf,zip_prev,zip_bi_buf,zip_bi_valid,zip_block_start,zip_ins_h,zip_hash_head,zip_prev_match,zip_match_available,zip_match_length,zip_prev_length,zip_strstart,zip_match_start,zip_eofile,zip_lookahead,zip_max_chain_length,zip_max_lazy_match,zip_compr_level,zip_good_match,zip_nice_match,zip_dyn_ltree,zip_dyn_dtree,zip_static_ltree,zip_static_dtree,zip_bl_tree,zip_l_desc,zip_d_desc,zip_bl_desc,zip_bl_count,zip_heap,zip_heap_len,zip_heap_max,zip_depth,zip_length_code,zip_dist_code,zip_base_length,zip_base_dist,zip_flag_buf,zip_last_lit,zip_last_dist,zip_last_flags,zip_flags,zip_flag_bit,zip_opt_len,zip_static_len,zip_deflate_data,zip_deflate_pos,WSIZE=32768,zip_STORED_BLOCK=0,zip_STATIC_TREES=1,zip_DYN_TREES=2,zip_DEFAULT_LEVEL=6,zip_FULL_SEARCH=!0,zip_INBUFSIZ=32768,zip_INBUF_EXTRA=64,zip_OUTBUFSIZ=8192,zip_window_size=2*WSIZE,MIN_MATCH=3,MAX_MATCH=258,zip_BITS=16,LIT_BUFSIZE=8192,zip_HASH_BITS=13,zip_DIST_BUFSIZE=LIT_BUFSIZE,zip_HASH_SIZE=1<<zip_HASH_BITS,zip_HASH_MASK=zip_HASH_SIZE-1,zip_WMASK=WSIZE-1,zip_NIL=0,zip_TOO_FAR=4096,zip_MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,zip_MAX_DIST=WSIZE-zip_MIN_LOOKAHEAD,zip_SMALLEST=1,zip_MAX_BITS=15,zip_MAX_BL_BITS=7,zip_LENGTH_CODES=29,zip_LITERALS=256,zip_END_BLOCK=256,zip_L_CODES=zip_LITERALS+1+zip_LENGTH_CODES,zip_D_CODES=30,zip_BL_CODES=19,zip_REP_3_6=16,zip_REPZ_3_10=17,zip_REPZ_11_138=18,zip_HEAP_SIZE=2*zip_L_CODES+1,zip_H_SHIFT=parseInt((zip_HASH_BITS+MIN_MATCH-1)/MIN_MATCH),zip_outbuf=null,zip_DeflateCT=function(){this.fc=0,this.dl=0},zip_DeflateTreeDesc=function(){this.dyn_tree=null,this.static_tree=null,this.extra_bits=null,this.extra_base=0,this.elems=0,this.max_length=0,this.max_code=0},zip_DeflateConfiguration=function(a,b,c,d){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d},zip_DeflateBuffer=function(){this.next=null,this.len=0,this.ptr=new Array(zip_OUTBUFSIZ),this.off=0},zip_extra_lbits=new Array(0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0),zip_extra_dbits=new Array(0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13),zip_extra_blbits=new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7),zip_bl_order=new Array(16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15),zip_configuration_table=new Array(new zip_DeflateConfiguration(0,0,0,0),new zip_DeflateConfiguration(4,4,8,4),new zip_DeflateConfiguration(4,5,16,8),new zip_DeflateConfiguration(4,6,32,32),new zip_DeflateConfiguration(4,4,16,16),new zip_DeflateConfiguration(8,16,32,32),new zip_DeflateConfiguration(8,16,128,128),new zip_DeflateConfiguration(8,32,128,256),new zip_DeflateConfiguration(32,128,258,1024),new zip_DeflateConfiguration(32,258,258,4096)),zip_deflate_start=function(level){var i;if(level?1>level?level=1:level>9&&(level=9):level=zip_DEFAULT_LEVEL,zip_compr_level=level,zip_initflag=!1,zip_eofile=!1,null==zip_outbuf){for(zip_free_queue=zip_qhead=zip_qtail=null,zip_outbuf=new Array(zip_OUTBUFSIZ),zip_window=new Array(zip_window_size),zip_d_buf=new Array(zip_DIST_BUFSIZE),
zip_l_buf=new Array(zip_INBUFSIZ+zip_INBUF_EXTRA),zip_prev=new Array(1<<zip_BITS),zip_dyn_ltree=new Array(zip_HEAP_SIZE),i=0;zip_HEAP_SIZE>i;i++)zip_dyn_ltree[i]=new zip_DeflateCT;for(zip_dyn_dtree=new Array(2*zip_D_CODES+1),i=0;2*zip_D_CODES+1>i;i++)zip_dyn_dtree[i]=new zip_DeflateCT;for(zip_static_ltree=new Array(zip_L_CODES+2),i=0;zip_L_CODES+2>i;i++)zip_static_ltree[i]=new zip_DeflateCT;for(zip_static_dtree=new Array(zip_D_CODES),i=0;zip_D_CODES>i;i++)zip_static_dtree[i]=new zip_DeflateCT;for(zip_bl_tree=new Array(2*zip_BL_CODES+1),i=0;2*zip_BL_CODES+1>i;i++)zip_bl_tree[i]=new zip_DeflateCT;zip_l_desc=new zip_DeflateTreeDesc,zip_d_desc=new zip_DeflateTreeDesc,zip_bl_desc=new zip_DeflateTreeDesc,zip_bl_count=new Array(zip_MAX_BITS+1),zip_heap=new Array(2*zip_L_CODES+1),zip_depth=new Array(2*zip_L_CODES+1),zip_length_code=new Array(MAX_MATCH-MIN_MATCH+1),zip_dist_code=new Array(512),zip_base_length=new Array(zip_LENGTH_CODES),zip_base_dist=new Array(zip_D_CODES),zip_flag_buf=new Array(parseInt(LIT_BUFSIZE/8))}},zip_reuse_queue=function(p){p.next=zip_free_queue,zip_free_queue=p},zip_new_queue=function(){var p;return null!=zip_free_queue?(p=zip_free_queue,zip_free_queue=zip_free_queue.next):p=new zip_DeflateBuffer,p.next=null,p.len=p.off=0,p},zip_head1=function(i){return zip_prev[WSIZE+i]},zip_head2=function(i,val){return zip_prev[WSIZE+i]=val},zip_put_byte=function(c){zip_outbuf[zip_outoff+zip_outcnt++]=c,zip_outoff+zip_outcnt==zip_OUTBUFSIZ&&zip_qoutbuf()},zip_put_short=function(w){w&=65535,zip_OUTBUFSIZ-2>zip_outoff+zip_outcnt?(zip_outbuf[zip_outoff+zip_outcnt++]=255&w,zip_outbuf[zip_outoff+zip_outcnt++]=w>>>8):(zip_put_byte(255&w),zip_put_byte(w>>>8))},zip_INSERT_STRING=function(){zip_ins_h=(zip_ins_h<<zip_H_SHIFT^255&zip_window[zip_strstart+MIN_MATCH-1])&zip_HASH_MASK,zip_hash_head=zip_head1(zip_ins_h),zip_prev[zip_strstart&zip_WMASK]=zip_hash_head,zip_head2(zip_ins_h,zip_strstart)},zip_SEND_CODE=function(c,tree){zip_send_bits(tree[c].fc,tree[c].dl)},zip_D_CODE=function(dist){return 255&(256>dist?zip_dist_code[dist]:zip_dist_code[256+(dist>>7)])},zip_SMALLER=function(tree,n,m){return tree[n].fc<tree[m].fc||tree[n].fc==tree[m].fc&&zip_depth[n]<=zip_depth[m]},zip_read_buff=function(buff,offset,n){var i;for(i=0;n>i&&zip_deflate_pos<zip_deflate_data.length;i++)buff[offset+i]=255&zip_deflate_data[zip_deflate_pos++];return i},zip_lm_init=function(){var j;for(j=0;zip_HASH_SIZE>j;j++)zip_prev[WSIZE+j]=0;if(zip_max_lazy_match=zip_configuration_table[zip_compr_level].max_lazy,zip_good_match=zip_configuration_table[zip_compr_level].good_length,zip_FULL_SEARCH||(zip_nice_match=zip_configuration_table[zip_compr_level].nice_length),zip_max_chain_length=zip_configuration_table[zip_compr_level].max_chain,zip_strstart=0,zip_block_start=0,zip_lookahead=zip_read_buff(zip_window,0,2*WSIZE),0>=zip_lookahead)return zip_eofile=!0,void(zip_lookahead=0);for(zip_eofile=!1;zip_MIN_LOOKAHEAD>zip_lookahead&&!zip_eofile;)zip_fill_window();for(zip_ins_h=0,j=0;MIN_MATCH-1>j;j++)zip_ins_h=(zip_ins_h<<zip_H_SHIFT^255&zip_window[j])&zip_HASH_MASK},zip_longest_match=function(cur_match){var matchp,len,chain_length=zip_max_chain_length,scanp=zip_strstart,best_len=zip_prev_length,limit=zip_strstart>zip_MAX_DIST?zip_strstart-zip_MAX_DIST:zip_NIL,strendp=zip_strstart+MAX_MATCH,scan_end1=zip_window[scanp+best_len-1],scan_end=zip_window[scanp+best_len];zip_prev_length>=zip_good_match&&(chain_length>>=2);do if(matchp=cur_match,zip_window[matchp+best_len]==scan_end&&zip_window[matchp+best_len-1]==scan_end1&&zip_window[matchp]==zip_window[scanp]&&zip_window[++matchp]==zip_window[scanp+1]){scanp+=2,matchp++;do;while(zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&zip_window[++scanp]==zip_window[++matchp]&&strendp>scanp);if(len=MAX_MATCH-(strendp-scanp),scanp=strendp-MAX_MATCH,len>best_len){if(zip_match_start=cur_match,best_len=len,zip_FULL_SEARCH){if(len>=MAX_MATCH)break}else if(len>=zip_nice_match)break;scan_end1=zip_window[scanp+best_len-1],scan_end=zip_window[scanp+best_len]}}while((cur_match=zip_prev[cur_match&zip_WMASK])>limit&&0!=--chain_length);return best_len},zip_fill_window=function(){var n,m,more=zip_window_size-zip_lookahead-zip_strstart;if(-1==more)more--;else if(zip_strstart>=WSIZE+zip_MAX_DIST){for(n=0;WSIZE>n;n++)zip_window[n]=zip_window[n+WSIZE];for(zip_match_start-=WSIZE,zip_strstart-=WSIZE,zip_block_start-=WSIZE,n=0;zip_HASH_SIZE>n;n++)m=zip_head1(n),zip_head2(n,m>=WSIZE?m-WSIZE:zip_NIL);for(n=0;WSIZE>n;n++)m=zip_prev[n],zip_prev[n]=m>=WSIZE?m-WSIZE:zip_NIL;more+=WSIZE}zip_eofile||(n=zip_read_buff(zip_window,zip_strstart+zip_lookahead,more),0>=n?zip_eofile=!0:zip_lookahead+=n)},zip_deflate_fast=function(){for(;0!=zip_lookahead&&null==zip_qhead;){var flush;if(zip_INSERT_STRING(),zip_hash_head!=zip_NIL&&zip_MAX_DIST>=zip_strstart-zip_hash_head&&(zip_match_length=zip_longest_match(zip_hash_head),zip_match_length>zip_lookahead&&(zip_match_length=zip_lookahead)),zip_match_length>=MIN_MATCH)if(flush=zip_ct_tally(zip_strstart-zip_match_start,zip_match_length-MIN_MATCH),zip_lookahead-=zip_match_length,zip_max_lazy_match>=zip_match_length){zip_match_length--;do zip_strstart++,zip_INSERT_STRING();while(0!=--zip_match_length);zip_strstart++}else zip_strstart+=zip_match_length,zip_match_length=0,zip_ins_h=255&zip_window[zip_strstart],zip_ins_h=(zip_ins_h<<zip_H_SHIFT^255&zip_window[zip_strstart+1])&zip_HASH_MASK;else flush=zip_ct_tally(0,255&zip_window[zip_strstart]),zip_lookahead--,zip_strstart++;for(flush&&(zip_flush_block(0),zip_block_start=zip_strstart);zip_MIN_LOOKAHEAD>zip_lookahead&&!zip_eofile;)zip_fill_window()}},zip_deflate_better=function(){for(;0!=zip_lookahead&&null==zip_qhead;){if(zip_INSERT_STRING(),zip_prev_length=zip_match_length,zip_prev_match=zip_match_start,zip_match_length=MIN_MATCH-1,zip_hash_head!=zip_NIL&&zip_max_lazy_match>zip_prev_length&&zip_MAX_DIST>=zip_strstart-zip_hash_head&&(zip_match_length=zip_longest_match(zip_hash_head),zip_match_length>zip_lookahead&&(zip_match_length=zip_lookahead),zip_match_length==MIN_MATCH&&zip_strstart-zip_match_start>zip_TOO_FAR&&zip_match_length--),zip_prev_length>=MIN_MATCH&&zip_prev_length>=zip_match_length){var flush;flush=zip_ct_tally(zip_strstart-1-zip_prev_match,zip_prev_length-MIN_MATCH),zip_lookahead-=zip_prev_length-1,zip_prev_length-=2;do zip_strstart++,zip_INSERT_STRING();while(0!=--zip_prev_length);zip_match_available=0,zip_match_length=MIN_MATCH-1,zip_strstart++,flush&&(zip_flush_block(0),zip_block_start=zip_strstart)}else 0!=zip_match_available?(zip_ct_tally(0,255&zip_window[zip_strstart-1])&&(zip_flush_block(0),zip_block_start=zip_strstart),zip_strstart++,zip_lookahead--):(zip_match_available=1,zip_strstart++,zip_lookahead--);for(;zip_MIN_LOOKAHEAD>zip_lookahead&&!zip_eofile;)zip_fill_window()}},zip_init_deflate=function(){zip_eofile||(zip_bi_buf=0,zip_bi_valid=0,zip_ct_init(),zip_lm_init(),zip_qhead=null,zip_outcnt=0,zip_outoff=0,zip_match_available=0,3>=zip_compr_level?(zip_prev_length=MIN_MATCH-1,zip_match_length=0):(zip_match_length=MIN_MATCH-1,zip_match_available=0,zip_match_available=0),zip_complete=!1)},zip_deflate_internal=function(buff,off,buff_size){var n;return zip_initflag||(zip_init_deflate(),zip_initflag=!0,0!=zip_lookahead)?(n=zip_qcopy(buff,off,buff_size))==buff_size?buff_size:zip_complete?n:(3>=zip_compr_level?zip_deflate_fast():zip_deflate_better(),0==zip_lookahead&&(0!=zip_match_available&&zip_ct_tally(0,255&zip_window[zip_strstart-1]),zip_flush_block(1),zip_complete=!0),n+zip_qcopy(buff,n+off,buff_size-n)):(zip_complete=!0,0)},zip_qcopy=function(buff,off,buff_size){var n,i,j;for(n=0;null!=zip_qhead&&buff_size>n;){for(i=buff_size-n,i>zip_qhead.len&&(i=zip_qhead.len),j=0;i>j;j++)buff[off+n+j]=zip_qhead.ptr[zip_qhead.off+j];if(zip_qhead.off+=i,zip_qhead.len-=i,n+=i,0==zip_qhead.len){var p;p=zip_qhead,zip_qhead=zip_qhead.next,zip_reuse_queue(p)}}if(n==buff_size)return n;if(zip_outcnt>zip_outoff){for(i=buff_size-n,i>zip_outcnt-zip_outoff&&(i=zip_outcnt-zip_outoff),j=0;i>j;j++)buff[off+n+j]=zip_outbuf[zip_outoff+j];zip_outoff+=i,n+=i,zip_outcnt==zip_outoff&&(zip_outcnt=zip_outoff=0)}return n},zip_ct_init=function(){var n,bits,length,code,dist;if(0==zip_static_dtree[0].dl){for(zip_l_desc.dyn_tree=zip_dyn_ltree,zip_l_desc.static_tree=zip_static_ltree,zip_l_desc.extra_bits=zip_extra_lbits,zip_l_desc.extra_base=zip_LITERALS+1,zip_l_desc.elems=zip_L_CODES,zip_l_desc.max_length=zip_MAX_BITS,zip_l_desc.max_code=0,zip_d_desc.dyn_tree=zip_dyn_dtree,zip_d_desc.static_tree=zip_static_dtree,zip_d_desc.extra_bits=zip_extra_dbits,zip_d_desc.extra_base=0,zip_d_desc.elems=zip_D_CODES,zip_d_desc.max_length=zip_MAX_BITS,zip_d_desc.max_code=0,zip_bl_desc.dyn_tree=zip_bl_tree,zip_bl_desc.static_tree=null,zip_bl_desc.extra_bits=zip_extra_blbits,zip_bl_desc.extra_base=0,zip_bl_desc.elems=zip_BL_CODES,zip_bl_desc.max_length=zip_MAX_BL_BITS,zip_bl_desc.max_code=0,length=0,code=0;zip_LENGTH_CODES-1>code;code++)for(zip_base_length[code]=length,n=0;n<1<<zip_extra_lbits[code];n++)zip_length_code[length++]=code;for(zip_length_code[length-1]=code,dist=0,code=0;16>code;code++)for(zip_base_dist[code]=dist,n=0;n<1<<zip_extra_dbits[code];n++)zip_dist_code[dist++]=code;for(dist>>=7;zip_D_CODES>code;code++)for(zip_base_dist[code]=dist<<7,n=0;n<1<<zip_extra_dbits[code]-7;n++)zip_dist_code[256+dist++]=code;for(bits=0;zip_MAX_BITS>=bits;bits++)zip_bl_count[bits]=0;for(n=0;143>=n;)zip_static_ltree[n++].dl=8,zip_bl_count[8]++;for(;255>=n;)zip_static_ltree[n++].dl=9,zip_bl_count[9]++;for(;279>=n;)zip_static_ltree[n++].dl=7,zip_bl_count[7]++;for(;287>=n;)zip_static_ltree[n++].dl=8,zip_bl_count[8]++;for(zip_gen_codes(zip_static_ltree,zip_L_CODES+1),n=0;zip_D_CODES>n;n++)zip_static_dtree[n].dl=5,zip_static_dtree[n].fc=zip_bi_reverse(n,5);zip_init_block()}},zip_init_block=function(){var n;for(n=0;zip_L_CODES>n;n++)zip_dyn_ltree[n].fc=0;for(n=0;zip_D_CODES>n;n++)zip_dyn_dtree[n].fc=0;for(n=0;zip_BL_CODES>n;n++)zip_bl_tree[n].fc=0;zip_dyn_ltree[zip_END_BLOCK].fc=1,zip_opt_len=zip_static_len=0,zip_last_lit=zip_last_dist=zip_last_flags=0,zip_flags=0,zip_flag_bit=1},zip_pqdownheap=function(tree,k){for(var v=zip_heap[k],j=k<<1;zip_heap_len>=j&&(zip_heap_len>j&&zip_SMALLER(tree,zip_heap[j+1],zip_heap[j])&&j++,!zip_SMALLER(tree,v,zip_heap[j]));)zip_heap[k]=zip_heap[j],k=j,j<<=1;zip_heap[k]=v},zip_gen_bitlen=function(desc){var h,n,m,bits,xbits,f,tree=desc.dyn_tree,extra=desc.extra_bits,base=desc.extra_base,max_code=desc.max_code,max_length=desc.max_length,stree=desc.static_tree,overflow=0;for(bits=0;zip_MAX_BITS>=bits;bits++)zip_bl_count[bits]=0;for(tree[zip_heap[zip_heap_max]].dl=0,h=zip_heap_max+1;zip_HEAP_SIZE>h;h++)n=zip_heap[h],bits=tree[tree[n].dl].dl+1,bits>max_length&&(bits=max_length,overflow++),tree[n].dl=bits,n>max_code||(zip_bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[n].fc,zip_opt_len+=f*(bits+xbits),null!=stree&&(zip_static_len+=f*(stree[n].dl+xbits)));if(0!=overflow){do{for(bits=max_length-1;0==zip_bl_count[bits];)bits--;zip_bl_count[bits]--,zip_bl_count[bits+1]+=2,zip_bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;0!=bits;bits--)for(n=zip_bl_count[bits];0!=n;)m=zip_heap[--h],m>max_code||(tree[m].dl!=bits&&(zip_opt_len+=(bits-tree[m].dl)*tree[m].fc,tree[m].fc=bits),n--)}},zip_gen_codes=function(tree,max_code){var bits,n,next_code=new Array(zip_MAX_BITS+1),code=0;for(bits=1;zip_MAX_BITS>=bits;bits++)code=code+zip_bl_count[bits-1]<<1,next_code[bits]=code;for(n=0;max_code>=n;n++){var len=tree[n].dl;0!=len&&(tree[n].fc=zip_bi_reverse(next_code[len]++,len))}},zip_build_tree=function(desc){var n,m,tree=desc.dyn_tree,stree=desc.static_tree,elems=desc.elems,max_code=-1,node=elems;for(zip_heap_len=0,zip_heap_max=zip_HEAP_SIZE,n=0;elems>n;n++)0!=tree[n].fc?(zip_heap[++zip_heap_len]=max_code=n,zip_depth[n]=0):tree[n].dl=0;for(;2>zip_heap_len;){var xnew=zip_heap[++zip_heap_len]=2>max_code?++max_code:0;tree[xnew].fc=1,zip_depth[xnew]=0,zip_opt_len--,null!=stree&&(zip_static_len-=stree[xnew].dl)}for(desc.max_code=max_code,n=zip_heap_len>>1;n>=1;n--)zip_pqdownheap(tree,n);do n=zip_heap[zip_SMALLEST],zip_heap[zip_SMALLEST]=zip_heap[zip_heap_len--],zip_pqdownheap(tree,zip_SMALLEST),m=zip_heap[zip_SMALLEST],zip_heap[--zip_heap_max]=n,zip_heap[--zip_heap_max]=m,tree[node].fc=tree[n].fc+tree[m].fc,zip_depth[node]=zip_depth[n]>zip_depth[m]+1?zip_depth[n]:zip_depth[m]+1,tree[n].dl=tree[m].dl=node,zip_heap[zip_SMALLEST]=node++,zip_pqdownheap(tree,zip_SMALLEST);while(zip_heap_len>=2);zip_heap[--zip_heap_max]=zip_heap[zip_SMALLEST],zip_gen_bitlen(desc),zip_gen_codes(tree,max_code)},zip_scan_tree=function(tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[0].dl,count=0,max_count=7,min_count=4;for(0==nextlen&&(max_count=138,min_count=3),tree[max_code+1].dl=65535,n=0;max_code>=n;n++)curlen=nextlen,nextlen=tree[n+1].dl,++count<max_count&&curlen==nextlen||(min_count>count?zip_bl_tree[curlen].fc+=count:0!=curlen?(curlen!=prevlen&&zip_bl_tree[curlen].fc++,zip_bl_tree[zip_REP_3_6].fc++):10>=count?zip_bl_tree[zip_REPZ_3_10].fc++:zip_bl_tree[zip_REPZ_11_138].fc++,count=0,prevlen=curlen,0==nextlen?(max_count=138,min_count=3):curlen==nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))},zip_send_tree=function(tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[0].dl,count=0,max_count=7,min_count=4;for(0==nextlen&&(max_count=138,min_count=3),n=0;max_code>=n;n++)if(curlen=nextlen,nextlen=tree[n+1].dl,!(++count<max_count&&curlen==nextlen)){if(min_count>count)do zip_SEND_CODE(curlen,zip_bl_tree);while(0!=--count);else 0!=curlen?(curlen!=prevlen&&(zip_SEND_CODE(curlen,zip_bl_tree),count--),zip_SEND_CODE(zip_REP_3_6,zip_bl_tree),zip_send_bits(count-3,2)):10>=count?(zip_SEND_CODE(zip_REPZ_3_10,zip_bl_tree),zip_send_bits(count-3,3)):(zip_SEND_CODE(zip_REPZ_11_138,zip_bl_tree),zip_send_bits(count-11,7));count=0,prevlen=curlen,0==nextlen?(max_count=138,min_count=3):curlen==nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}},zip_build_bl_tree=function(){var max_blindex;for(zip_scan_tree(zip_dyn_ltree,zip_l_desc.max_code),zip_scan_tree(zip_dyn_dtree,zip_d_desc.max_code),zip_build_tree(zip_bl_desc),max_blindex=zip_BL_CODES-1;max_blindex>=3&&0==zip_bl_tree[zip_bl_order[max_blindex]].dl;max_blindex--);return zip_opt_len+=3*(max_blindex+1)+5+5+4,max_blindex},zip_send_all_trees=function(lcodes,dcodes,blcodes){var rank;for(zip_send_bits(lcodes-257,5),zip_send_bits(dcodes-1,5),zip_send_bits(blcodes-4,4),rank=0;blcodes>rank;rank++)zip_send_bits(zip_bl_tree[zip_bl_order[rank]].dl,3);zip_send_tree(zip_dyn_ltree,lcodes-1),zip_send_tree(zip_dyn_dtree,dcodes-1)},zip_flush_block=function(eof){var opt_lenb,static_lenb,max_blindex,stored_len;if(stored_len=zip_strstart-zip_block_start,zip_flag_buf[zip_last_flags]=zip_flags,zip_build_tree(zip_l_desc),zip_build_tree(zip_d_desc),max_blindex=zip_build_bl_tree(),opt_lenb=zip_opt_len+3+7>>3,static_lenb=zip_static_len+3+7>>3,opt_lenb>=static_lenb&&(opt_lenb=static_lenb),opt_lenb>=stored_len+4&&zip_block_start>=0){var i;for(zip_send_bits((zip_STORED_BLOCK<<1)+eof,3),zip_bi_windup(),zip_put_short(stored_len),zip_put_short(~stored_len),i=0;stored_len>i;i++)zip_put_byte(zip_window[zip_block_start+i])}else static_lenb==opt_lenb?(zip_send_bits((zip_STATIC_TREES<<1)+eof,3),zip_compress_block(zip_static_ltree,zip_static_dtree)):(zip_send_bits((zip_DYN_TREES<<1)+eof,3),zip_send_all_trees(zip_l_desc.max_code+1,zip_d_desc.max_code+1,max_blindex+1),zip_compress_block(zip_dyn_ltree,zip_dyn_dtree));zip_init_block(),0!=eof&&zip_bi_windup()},zip_ct_tally=function(dist,lc){if(zip_l_buf[zip_last_lit++]=lc,0==dist?zip_dyn_ltree[lc].fc++:(dist--,zip_dyn_ltree[zip_length_code[lc]+zip_LITERALS+1].fc++,zip_dyn_dtree[zip_D_CODE(dist)].fc++,zip_d_buf[zip_last_dist++]=dist,zip_flags|=zip_flag_bit),zip_flag_bit<<=1,0==(7&zip_last_lit)&&(zip_flag_buf[zip_last_flags++]=zip_flags,zip_flags=0,zip_flag_bit=1),zip_compr_level>2&&0==(4095&zip_last_lit)){var dcode,out_length=8*zip_last_lit,in_length=zip_strstart-zip_block_start;for(dcode=0;zip_D_CODES>dcode;dcode++)out_length+=zip_dyn_dtree[dcode].fc*(5+zip_extra_dbits[dcode]);if(out_length>>=3,zip_last_dist<parseInt(zip_last_lit/2)&&out_length<parseInt(in_length/2))return!0}return zip_last_lit==LIT_BUFSIZE-1||zip_last_dist==zip_DIST_BUFSIZE},zip_compress_block=function(ltree,dtree){var dist,lc,code,extra,lx=0,dx=0,fx=0,flag=0;if(0!=zip_last_lit)do 0==(7&lx)&&(flag=zip_flag_buf[fx++]),lc=255&zip_l_buf[lx++],0==(1&flag)?zip_SEND_CODE(lc,ltree):(code=zip_length_code[lc],zip_SEND_CODE(code+zip_LITERALS+1,ltree),extra=zip_extra_lbits[code],0!=extra&&(lc-=zip_base_length[code],zip_send_bits(lc,extra)),dist=zip_d_buf[dx++],code=zip_D_CODE(dist),zip_SEND_CODE(code,dtree),extra=zip_extra_dbits[code],0!=extra&&(dist-=zip_base_dist[code],zip_send_bits(dist,extra))),flag>>=1;while(zip_last_lit>lx);zip_SEND_CODE(zip_END_BLOCK,ltree)},zip_Buf_size=16,zip_send_bits=function(value,length){zip_bi_valid>zip_Buf_size-length?(zip_bi_buf|=value<<zip_bi_valid,zip_put_short(zip_bi_buf),zip_bi_buf=value>>zip_Buf_size-zip_bi_valid,zip_bi_valid+=length-zip_Buf_size):(zip_bi_buf|=value<<zip_bi_valid,zip_bi_valid+=length)},zip_bi_reverse=function(code,len){var res=0;do res|=1&code,code>>=1,res<<=1;while(--len>0);return res>>1},zip_bi_windup=function(){zip_bi_valid>8?zip_put_short(zip_bi_buf):zip_bi_valid>0&&zip_put_byte(zip_bi_buf),zip_bi_buf=0,zip_bi_valid=0},zip_qoutbuf=function(){if(0!=zip_outcnt){var q,i;for(q=zip_new_queue(),null==zip_qhead?zip_qhead=zip_qtail=q:zip_qtail=zip_qtail.next=q,q.len=zip_outcnt-zip_outoff,i=0;i<q.len;i++)q.ptr[i]=zip_outbuf[zip_outoff+i];zip_outcnt=zip_outoff=0}};return{deflate:function(){return deflate(inbuf,8)}}}module.exports=function(inbuf){var zlib=require("zlib");return{deflate:function(){return new JSDeflater(inbuf).deflate()},deflateAsync:function(callback){var tmp=zlib.createDeflateRaw({chunkSize:1024*(parseInt(inbuf.length/1024)+1)}),parts=[],total=0;tmp.on("data",function(data){parts.push(data),total+=data.length}),tmp.on("end",function(){var buf=new Buffer(total),written=0;buf.fill(0);for(var i=0;i<parts.length;i++){var part=parts[i];part.copy(buf,written),written+=part.length}callback&&callback(buf)}),tmp.end(inbuf)}}}}).call(this,require("buffer").Buffer)},{buffer:17,zlib:16}],212:[function(require,module,exports){exports.Deflater=require("./deflater"),exports.Inflater=require("./inflater")},{"./deflater":211,"./inflater":213}],213:[function(require,module){function JSInflater(input){function HuffTable(clen,cnum,cval,blist,elist,lookupm){this.status=0,this.root=null,this.maxbit=0;var el,f,tail,offsets=[],countTbl=[],sTbl=[],values=[],tentry={extra:0,bitcnt:0,lbase:0,next:null};tail=this.root=null;for(var i=0;17>i;i++)countTbl[i]=0,sTbl[i]=0,offsets[i]=0;for(i=0;288>i;i++)values[i]=0;el=cnum>256?clen[256]:16;for(var pidx=-1;++pidx<cnum;)countTbl[clen[pidx]]++;if(countTbl[0]!=cnum){for(var j=1;16>=j&&0==countTbl[j];j++);var bitLen=j;for(i=16;0!=i&&0==countTbl[i];i--);var maxLen=i;j>lookupm&&(lookupm=j);for(var dCodes=1<<j;i>j;j++,dCodes<<=1)if((dCodes-=countTbl[j])<0)return this.status=2,void(this.maxbit=lookupm);if((dCodes-=countTbl[i])<0)return this.status=2,void(this.maxbit=lookupm);countTbl[i]+=dCodes,offsets[1]=j=0,pidx=1;for(var xp=2;--i>0;)offsets[xp++]=j+=countTbl[pidx++];pidx=0,i=0;do(j=clen[pidx++])&&(values[offsets[j]++]=i);while(++i<cnum);cnum=offsets[maxLen],offsets[0]=i=0,pidx=0;for(var level=-1,w=sTbl[0]=0,cnode=null,tblCnt=0,tblStack=[];maxLen>=bitLen;bitLen++)for(var kccnt=countTbl[bitLen];kccnt-->0;){for(;bitLen>w+sTbl[1+level];){if(w+=sTbl[1+level],level++,tblCnt=(tblCnt=maxLen-w)>lookupm?lookupm:tblCnt,(f=1<<(j=bitLen-w))>kccnt+1)for(f-=kccnt+1,xp=bitLen;++j<tblCnt&&!((f<<=1)<=countTbl[++xp]);)f-=countTbl[xp];for(w+j>el&&el>w&&(j=el-w),tblCnt=1<<j,sTbl[1+level]=j,cnode=[];cnode.length<tblCnt;)cnode.push({extra:0,bitcnt:0,lbase:0,next:null});tail=null==tail?this.root={next:null,list:null}:tail.next={next:null,list:null},tail.next=null,tail.list=cnode,tblStack[level]=cnode,level>0&&(offsets[level]=i,tentry.bitcnt=sTbl[level],tentry.extra=16+j,tentry.next=cnode,j=(i&(1<<w)-1)>>w-sTbl[level],tblStack[level-1][j].extra=tentry.extra,tblStack[level-1][j].bitcnt=tentry.bitcnt,tblStack[level-1][j].lbase=tentry.lbase,tblStack[level-1][j].next=tentry.next)}for(tentry.bitcnt=bitLen-w,pidx>=cnum?tentry.extra=99:values[pidx]<cval?(tentry.extra=values[pidx]<256?16:15,tentry.lbase=values[pidx++]):(tentry.extra=elist[values[pidx]-cval],tentry.lbase=blist[values[pidx++]-cval]),f=1<<bitLen-w,j=i>>w;tblCnt>j;j+=f)cnode[j].extra=tentry.extra,cnode[j].bitcnt=tentry.bitcnt,cnode[j].lbase=tentry.lbase,cnode[j].next=tentry.next;for(j=1<<bitLen-1;0!=(i&j);j>>=1)i^=j;for(i^=j;(i&(1<<w)-1)!=offsets[level];)w-=sTbl[level],level--}this.maxbit=sTbl[1],this.status=0!=dCodes&&1!=maxLen?1:0}}function addBits(n){for(;n>bitLen;)bitBuf|=input[inputPosition++]<<bitLen,bitLen+=8;return bitBuf}function cutBits(n){return bitLen-=n,bitBuf>>=n}function maskBits(n){for(;n>bitLen;)bitBuf|=input[inputPosition++]<<bitLen,bitLen+=8;var res=bitBuf&MASK_BITS[n];return bitBuf>>=n,bitLen-=n,res}function codes(buff,off,size){var e,t;if(0==size)return 0;for(var n=0;;){for(t=tblList.list[addBits(bitList)&MASK_BITS[bitList]],e=t.extra;e>16;){if(99==e)return-1;cutBits(t.bitcnt),e-=16,t=t.next[addBits(e)&MASK_BITS[e]],e=t.extra}if(cutBits(t.bitcnt),16!=e){if(15==e)break;for(copyLen=t.lbase+maskBits(e),t=tblDist.list[addBits(bitdist)&MASK_BITS[bitdist]],e=t.extra;e>16;){if(99==e)return-1;cutBits(t.bitcnt),e-=16,t=t.next[addBits(e)&MASK_BITS[e]],e=t.extra}for(cutBits(t.bitcnt),copyDist=windowPos-t.lbase-maskBits(e);copyLen>0&&size>n;)copyLen--,copyDist&=WSIZE-1,windowPos&=WSIZE-1,buff[off+n++]=slide[windowPos++]=slide[copyDist++];if(n==size)return size}else if(windowPos&=WSIZE-1,buff[off+n++]=slide[windowPos++]=t.lbase,n==size)return size}return method=-1,n}function stored(buff,off,size){cutBits(7&bitLen);var n=maskBits(16);if(n!=(65535&~maskBits(16)))return-1;for(copyLen=n,n=0;copyLen>0&&size>n;)copyLen--,windowPos&=WSIZE-1,buff[off+n++]=slide[windowPos++]=maskBits(8);return 0==copyLen&&(method=-1),n}function fixed(buff,off,size){var fixed_bd=0;if(null==fixedTableList){for(var lengths=[],symbol=0;144>symbol;symbol++)lengths[symbol]=8;for(;256>symbol;symbol++)lengths[symbol]=9;for(;280>symbol;symbol++)lengths[symbol]=7;for(;288>symbol;symbol++)lengths[symbol]=8;fixedLookup=7;var htbl=new HuffTable(lengths,288,257,LENS,LEXT,fixedLookup);if(0!=htbl.status)return-1;for(fixedTableList=htbl.root,fixedLookup=htbl.maxbit,symbol=0;30>symbol;symbol++)lengths[symbol]=5;if(fixed_bd=5,htbl=new HuffTable(lengths,30,0,DISTS,DEXT,fixed_bd),htbl.status>1)return fixedTableList=null,-1;fixedTableDist=htbl.root,fixed_bd=htbl.maxbit}return tblList=fixedTableList,tblDist=fixedTableDist,bitList=fixedLookup,bitdist=fixed_bd,codes(buff,off,size)}function dynamic(buff,off,size){for(var ll=new Array(572),m=0;572>m;m++)ll[m]=0;var llencnt=257+maskBits(5),dcodescnt=1+maskBits(5),bitlencnt=4+maskBits(4);if(llencnt>286||dcodescnt>30)return-1;for(var j=0;bitlencnt>j;j++)ll[BITORDER[j]]=maskBits(3);for(;19>j;j++)ll[BITORDER[j]]=0;bitList=7;var hufTable=new HuffTable(ll,19,19,null,null,bitList);if(0!=hufTable.status)return-1;tblList=hufTable.root,bitList=hufTable.maxbit;for(var lencnt=llencnt+dcodescnt,i=0,lastLen=0;lencnt>i;){var hufLcode=tblList.list[addBits(bitList)&MASK_BITS[bitList]];if(j=hufLcode.bitcnt,cutBits(j),j=hufLcode.lbase,16>j)ll[i++]=lastLen=j;else if(16==j){if(j=3+maskBits(2),i+j>lencnt)return-1;for(;j-->0;)ll[i++]=lastLen}else if(17==j){if(j=3+maskBits(3),i+j>lencnt)return-1;for(;j-->0;)ll[i++]=0;lastLen=0}else{if(j=11+maskBits(7),i+j>lencnt)return-1;for(;j-->0;)ll[i++]=0;lastLen=0}}if(bitList=9,hufTable=new HuffTable(ll,llencnt,257,LENS,LEXT,bitList),0==bitList&&(hufTable.status=1),0!=hufTable.status)return-1;for(tblList=hufTable.root,bitList=hufTable.maxbit,i=0;dcodescnt>i;i++)ll[i]=ll[i+llencnt];return bitdist=6,hufTable=new HuffTable(ll,dcodescnt,0,DISTS,DEXT,bitdist),tblDist=hufTable.root,bitdist=hufTable.maxbit,0==bitdist&&llencnt>257||0!=hufTable.status?-1:codes(buff,off,size)}var fixedTableDist,fixedLookup,tblList,tblDist,bitList,bitdist,WSIZE=32768,slide=new Buffer(65536),windowPos=0,fixedTableList=null,bitBuf=0,bitLen=0,method=-1,eof=!1,copyLen=0,copyDist=0,inputPosition=0,MASK_BITS=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],LENS=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],LEXT=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],DISTS=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],DEXT=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],BITORDER=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];return{inflate:function(outputBuffer){tblList=null;for(var i,size=outputBuffer.length,offset=0;size>offset;){if(eof&&-1==method)return;if(copyLen>0){if(0!=method)for(;copyLen>0&&size>offset;)copyLen--,copyDist&=WSIZE-1,windowPos&=WSIZE-1,outputBuffer[offset++]=slide[windowPos++]=slide[copyDist++];else{for(;copyLen>0&&size>offset;)copyLen--,windowPos&=WSIZE-1,outputBuffer[offset++]=slide[windowPos++]=maskBits(8);0==copyLen&&(method=-1)}if(offset==size)return}if(-1==method){if(eof)break;eof=0!=maskBits(1),method=maskBits(2),tblList=null,copyLen=0}switch(method){case 0:i=stored(outputBuffer,offset,size-offset);break;case 1:i=null!=tblList?codes(outputBuffer,offset,size-offset):fixed(outputBuffer,offset,size-offset);break;case 2:i=null!=tblList?codes(outputBuffer,offset,size-offset):dynamic(outputBuffer,offset,size-offset);break;default:i=-1}if(-1==i)return;offset+=i}}}}var Buffer=require("buffer").Buffer;module.exports=function(inbuf){var zlib=require("zlib");return{inflateAsync:function(callback){var tmp=zlib.createInflateRaw(),parts=[],total=0;tmp.on("data",function(data){parts.push(data),total+=data.length}),tmp.on("end",function(){var buf=new Buffer(total),written=0;buf.fill(0);for(var i=0;i<parts.length;i++){var part=parts[i];part.copy(buf,written),written+=part.length}callback&&callback(buf)}),tmp.end(inbuf)},inflate:function(outputBuffer){var x={x:new JSInflater(inbuf)};x.x.inflate(outputBuffer),delete x.x}}}},{buffer:17,zlib:16}],214:[function(require,module){module.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,FLG_ENC:0,FLG_COMP1:1,FLG_COMP2:2,FLG_DESC:4,FLG_ENH:8,FLG_STR:16,FLG_LNG:1024,FLG_MSK:4096,FILE:0,BUFFER:1,NONE:2,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}},{}],215:[function(require,module){module.exports={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"}},{}],216:[function(require,module){var fs=require("my-fs"),pth=require("path");fs.existsSync=fs.existsSync||pth.existsSync,module.exports=function(path){function newAttr(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}var _path=path||"",_obj=newAttr(),_stat=null;return _path&&fs.existsSync(_path)?(_stat=fs.statSync(_path),_obj.directory=_stat.isDirectory(),_obj.mtime=_stat.mtime,_obj.atime=_stat.atime,_obj.executable=!!(1&parseInt((_stat.mode&parseInt("777",8)).toString(8)[0])),_obj.readonly=!!(2&parseInt((_stat.mode&parseInt("777",8)).toString(8)[0])),_obj.hidden="."===pth.basename(_path)[0]):console.warn("Invalid path: "+_path),{get directory(){return _obj.directory},get readOnly(){return _obj.readonly},get hidden(){return _obj.hidden},get mtime(){return _obj.mtime},get atime(){return _obj.atime},get executable(){return _obj.executable},decodeAttributes:function(){},encodeAttributes:function(){},toString:function(){return'{\n	"path" : "'+_path+',\n	"isDirectory" : '+_obj.directory+',\n	"isReadOnly" : '+_obj.readonly+',\n	"isHidden" : '+_obj.hidden+',\n	"isExecutable" : '+_obj.executable+',\n	"mTime" : '+_obj.mtime+'\n	"aTime" : '+_obj.atime+"\n}"}}}},{"my-fs":195,path:166}],217:[function(require,module){module.exports=require("./utils"),module.exports.Constants=require("./constants"),module.exports.Errors=require("./errors"),module.exports.FileAttr=require("./fattr")},{"./constants":214,"./errors":215,"./fattr":216,"./utils":218}],218:[function(require,module){(function(Buffer){var fs=require("my-fs"),pth=require("path");fs.existsSync=fs.existsSync||pth.existsSync,module.exports=function(){function mkdirSync(path){var resolvedPath=path.split(PATH_SEPARATOR)[0];path.split(PATH_SEPARATOR).forEach(function(name){if(name&&":"!=name.substr(-1,1)){resolvedPath+=PATH_SEPARATOR+name;var stat;try{stat=fs.statSync(resolvedPath)}catch(e){fs.mkdirSync(resolvedPath)}if(stat&&stat.isFile())throw Errors.FILE_IN_THE_WAY.replace("%s",resolvedPath)}})}function findSync(root,pattern,recoursive){"boolean"==typeof pattern&&(recoursive=pattern,pattern=void 0);var files=[];return fs.readdirSync(root).forEach(function(file){var path=pth.join(root,file);fs.statSync(path).isDirectory()&&recoursive&&(files=files.concat(findSync(path,pattern,recoursive))),(!pattern||pattern.test(path))&&files.push(pth.normalize(path)+(fs.statSync(path).isDirectory()?PATH_SEPARATOR:""))}),files}var crcTable=[],Constants=require("./constants"),Errors=require("./errors"),PATH_SEPARATOR=pth.normalize("/");return{makeDir:function(path){mkdirSync(path)},crc32:function(buf){var b=new Buffer(4);if(!crcTable.length)for(var n=0;256>n;n++){for(var c=n,k=8;--k>=0;)0!=(1&c)?c=3988292384^c>>>1:c>>>=1;0>c&&(b.writeInt32LE(c,0),c=b.readUInt32LE(0)),
crcTable[n]=c}for(var crc=0,off=0,len=buf.length,c1=~crc;--len>=0;)c1=crcTable[255&(c1^buf[off++])]^c1>>>8;return crc=~c1,b.writeInt32LE(4294967295&crc,0),b.readUInt32LE(0)},methodToString:function(method){switch(method){case Constants.STORED:return"STORED ("+method+")";case Constants.DEFLATED:return"DEFLATED ("+method+")";default:return"UNSUPPORTED ("+method+")"}},writeFileTo:function(path,content,overwrite,attr){if(fs.existsSync(path)){if(!overwrite)return!1;var stat=fs.statSync(path);if(stat.isDirectory())return!1}var folder=pth.dirname(path);fs.existsSync(folder)||mkdirSync(folder);var fd;try{fd=fs.openSync(path,"w",438)}catch(e){fs.chmodSync(path,438),fd=fs.openSync(path,"w",438)}return fd&&(fs.writeSync(fd,content,0,content.length,0),fs.closeSync(fd)),fs.chmodSync(path,attr||438),!0},writeFileToAsync:function(path,content,overwrite,attr,callback){"function"==typeof attr&&(callback=attr,attr=void 0),fs.exists(path,function(exists){return exists&&!overwrite?callback(!1):void fs.stat(path,function(err,stat){if(exists&&stat.isDirectory())return callback(!1);var folder=pth.dirname(path);fs.exists(folder,function(exists){exists||mkdirSync(folder),fs.open(path,"w",438,function(err,fd){err?fs.chmod(path,438,function(){fs.open(path,"w",438,function(err,fd){fs.write(fd,content,0,content.length,0,function(){fs.close(fd,function(){fs.chmod(path,attr||438,function(){callback(!0)})})})})}):fd?fs.write(fd,content,0,content.length,0,function(){fs.close(fd,function(){fs.chmod(path,attr||438,function(){callback(!0)})})}):fs.chmod(path,attr||438,function(){callback(!0)})})})})})},findFiles:function(path){return findSync(path,!0)},getAttributes:function(){},setAttributes:function(){},toBuffer:function(input){return Buffer.isBuffer(input)?input:0==input.length?new Buffer(0):new Buffer(input,"utf8")},Constants:Constants,Errors:Errors}}()}).call(this,require("buffer").Buffer)},{"./constants":214,"./errors":215,buffer:17,"my-fs":195,path:166}],219:[function(require,module){(function(Buffer){var Utils=require("./util"),Headers=require("./headers"),Constants=Utils.Constants,Methods=require("./methods");module.exports=function(input){function getCompressedDataFromZip(){return input&&Buffer.isBuffer(input)?(_entryHeader.loadDataHeaderFromBinary(input),input.slice(_entryHeader.realDataOffset,_entryHeader.realDataOffset+_entryHeader.compressedSize)):new Buffer(0)}function crc32OK(data){return _entryHeader.flags&!1&&Utils.crc32(data)!=_entryHeader.crc?!1:!0}function decompress(async,callback,pass){if("undefined"==typeof callback&&"string"==typeof async&&(pass=async,async=void 0),_isDirectory)return async&&callback&&callback(new Buffer(0),Utils.Errors.DIRECTORY_CONTENT_ERROR),new Buffer(0);var compressedData=getCompressedDataFromZip();if(0==compressedData.length)return async&&callback&&callback(compressedData,Utils.Errors.NO_DATA),compressedData;var data=new Buffer(_entryHeader.size);switch(data.fill(0),_entryHeader.method){case Utils.Constants.STORED:return compressedData.copy(data),crc32OK(data)?(async&&callback&&callback(data),data):(async&&callback&&callback(data,Utils.Errors.BAD_CRC),Utils.Errors.BAD_CRC);case Utils.Constants.DEFLATED:var inflater=new Methods.Inflater(compressedData);if(!async)return inflater.inflate(data),crc32OK(data)||console.warn(Utils.Errors.BAD_CRC+" "+_entryName.toString()),data;inflater.inflateAsync(function(result){result.copy(data,0),crc32OK(data)?callback&&callback(data):callback&&callback(data,Utils.Errors.BAD_CRC)});break;default:return async&&callback&&callback(new Buffer(0),Utils.Errors.UNKNOWN_METHOD),Utils.Errors.UNKNOWN_METHOD}}function compress(async,callback){if((!uncompressedData||!uncompressedData.length)&&Buffer.isBuffer(input))return async&&callback&&callback(getCompressedDataFromZip()),getCompressedDataFromZip();if(uncompressedData.length&&!_isDirectory){var compressedData;switch(_entryHeader.method){case Utils.Constants.STORED:return _entryHeader.compressedSize=_entryHeader.size,compressedData=new Buffer(uncompressedData.length),uncompressedData.copy(compressedData),async&&callback&&callback(compressedData),compressedData;default:case Utils.Constants.DEFLATED:var deflater=new Methods.Deflater(uncompressedData);if(!async){var deflated=deflater.deflate();return _entryHeader.compressedSize=deflated.length,deflated}deflater.deflateAsync(function(data){compressedData=new Buffer(data.length),_entryHeader.compressedSize=data.length,data.copy(compressedData),callback&&callback(compressedData)}),deflater=null}}else{if(!async||!callback)return new Buffer(0);callback(new Buffer(0))}}function readUInt64LE(buffer,offset){return(buffer.readUInt32LE(offset+4)<<4)+buffer.readUInt32LE(offset)}function parseExtra(data){for(var signature,size,part,offset=0;offset<data.length;)signature=data.readUInt16LE(offset),offset+=2,size=data.readUInt16LE(offset),offset+=2,part=data.slice(offset,offset+size),offset+=size,Constants.ID_ZIP64===signature&&parseZip64ExtendedInformation(part)}function parseZip64ExtendedInformation(data){var size,compressedSize,offset,diskNumStart;data.length>=Constants.EF_ZIP64_SCOMP&&(size=readUInt64LE(data,Constants.EF_ZIP64_SUNCOMP),_entryHeader.size===Constants.EF_ZIP64_OR_32&&(_entryHeader.size=size)),data.length>=Constants.EF_ZIP64_RHO&&(compressedSize=readUInt64LE(data,Constants.EF_ZIP64_SCOMP),_entryHeader.compressedSize===Constants.EF_ZIP64_OR_32&&(_entryHeader.compressedSize=compressedSize)),data.length>=Constants.EF_ZIP64_DSN&&(offset=readUInt64LE(data,Constants.EF_ZIP64_RHO),_entryHeader.offset===Constants.EF_ZIP64_OR_32&&(_entryHeader.offset=offset)),data.length>=Constants.EF_ZIP64_DSN+4&&(diskNumStart=data.readUInt32LE(Constants.EF_ZIP64_DSN),_entryHeader.diskNumStart===Constants.EF_ZIP64_OR_16&&(_entryHeader.diskNumStart=diskNumStart))}var _entryHeader=new Headers.EntryHeader,_entryName=new Buffer(0),_comment=new Buffer(0),_isDirectory=!1,uncompressedData=null,_extra=new Buffer(0);return{get entryName(){return _entryName.toString()},get rawEntryName(){return _entryName},set entryName(val){_entryName=Utils.toBuffer(val);var lastChar=_entryName[_entryName.length-1];_isDirectory=47==lastChar||92==lastChar,_entryHeader.fileNameLength=_entryName.length},get extra(){return _extra},set extra(val){_extra=val,_entryHeader.extraLength=val.length,parseExtra(val)},get comment(){return _comment.toString()},set comment(val){_comment=Utils.toBuffer(val),_entryHeader.commentLength=_comment.length},get name(){var n=_entryName.toString();return _isDirectory?n.substr(n.length-1).split("/").pop():n.split("/").pop()},get isDirectory(){return _isDirectory},getCompressedData:function(){return compress(!1,null)},getCompressedDataAsync:function(callback){compress(!0,callback)},setData:function(value){uncompressedData=Utils.toBuffer(value),!_isDirectory&&uncompressedData.length?(_entryHeader.size=uncompressedData.length,_entryHeader.method=Utils.Constants.DEFLATED,_entryHeader.crc=Utils.crc32(value)):_entryHeader.method=Utils.Constants.STORED},getData:function(pass){return decompress(!1,null,pass)},getDataAsync:function(callback,pass){decompress(!0,callback,pass)},set attr(attr){_entryHeader.attr=attr},get attr(){return _entryHeader.attr},set header(data){_entryHeader.loadFromBinary(data)},get header(){return _entryHeader},packHeader:function(){var header=_entryHeader.entryHeaderToBinary();return _entryName.copy(header,Utils.Constants.CENHDR),_entryHeader.extraLength&&_extra.copy(header,Utils.Constants.CENHDR+_entryName.length),_entryHeader.commentLength&&_comment.copy(header,Utils.Constants.CENHDR+_entryName.length+_entryHeader.extraLength,_comment.length),header},toString:function(){return'{\n	"entryName" : "'+_entryName.toString()+'",\n	"name" : "'+_entryName.toString().split("/").pop()+'",\n	"comment" : "'+_comment.toString()+'",\n	"isDirectory" : '+_isDirectory+',\n	"header" : '+_entryHeader.toString().replace(/\t/gm,"		")+',\n	"compressedData" : <'+(input&&input.length+" bytes buffer"||"null")+'>\n	"data" : <'+(uncompressedData&&uncompressedData.length+" bytes buffer"||"null")+">\n}"}}}}).call(this,require("buffer").Buffer)},{"./headers":209,"./methods":212,"./util":217,buffer:17}],220:[function(require,module){(function(Buffer){var ZipEntry=require("./zipEntry"),Headers=require("./headers"),Utils=require("./util");module.exports=function(input,inputType){function readEntries(){entryTable={},entryList=new Array(mainHeader.diskEntries);for(var index=mainHeader.offset,i=0;i<entryList.length;i++){var tmp=index,entry=new ZipEntry(inBuffer);entry.header=inBuffer.slice(tmp,tmp+=Utils.Constants.CENHDR),entry.entryName=inBuffer.slice(tmp,tmp+=entry.header.fileNameLength),entry.header.extraLength&&(entry.extra=inBuffer.slice(tmp,tmp+=entry.header.extraLength)),entry.header.commentLength&&(entry.comment=inBuffer.slice(tmp,tmp+entry.header.commentLength)),index+=entry.header.entryHeaderSize,entryList[i]=entry,entryTable[entry.entryName]=entry}}function readMainHeader(){var i=inBuffer.length-Utils.Constants.ENDHDR,n=Math.max(0,i-65535),endOffset=-1;for(i;i>=n;i--)if(80==inBuffer[i]&&inBuffer.readUInt32LE(i)==Utils.Constants.ENDSIG){endOffset=i;break}if(!~endOffset)throw Utils.Errors.INVALID_FORMAT;mainHeader.loadFromBinary(inBuffer.slice(endOffset,endOffset+Utils.Constants.ENDHDR)),mainHeader.commentLength&&(_comment=inBuffer.slice(endOffset+Utils.Constants.ENDHDR)),readEntries()}var entryList=[],entryTable={},_comment=new Buffer(0),filename="",fs=require("my-fs"),inBuffer=null,mainHeader=new Headers.MainHeader;return inputType==Utils.Constants.FILE?(filename=input,inBuffer=fs.readFileSync(filename),readMainHeader()):inputType==Utils.Constants.BUFFER&&(inBuffer=input,readMainHeader()),{get entries(){return entryList},get comment(){return _comment.toString()},set comment(val){mainHeader.commentLength=val.length,_comment=val},getEntry:function(entryName){return entryTable[entryName]||null},setEntry:function(entry){entryList.push(entry),entryTable[entry.entryName]=entry,mainHeader.totalEntries=entryList.length},deleteEntry:function(entryName){var entry=entryTable[entryName];if(entry&&entry.isDirectory){var _self=this;this.getEntryChildren(entry).forEach(function(child){child.entryName!=entryName&&_self.deleteEntry(child.entryName)})}entryList.splice(entryList.indexOf(entry),1),delete entryTable[entryName],mainHeader.totalEntries=entryList.length},getEntryChildren:function(entry){if(entry.isDirectory){var list=[],name=entry.entryName,len=name.length;return entryList.forEach(function(zipEntry){zipEntry.entryName.substr(0,len)==name&&list.push(zipEntry)}),list}return[]},compressToBuffer:function(){entryList.length>1&&entryList.sort(function(a,b){var nameA=a.entryName.toLowerCase(),nameB=b.entryName.toLowerCase();return nameB>nameA?-1:nameA>nameB?1:0});var totalSize=0,dataBlock=[],entryHeaders=[],dindex=0;mainHeader.size=0,mainHeader.offset=0,entryList.forEach(function(entry){entry.header.offset=dindex;var compressedData=entry.getCompressedData(),dataHeader=entry.header.dataHeaderToBinary(),postHeader=new Buffer(entry.entryName+entry.extra.toString()),dataLength=dataHeader.length+postHeader.length+compressedData.length;dindex+=dataLength,dataBlock.push(dataHeader),dataBlock.push(postHeader),dataBlock.push(compressedData);var entryHeader=entry.packHeader();entryHeaders.push(entryHeader),mainHeader.size+=entryHeader.length,totalSize+=dataLength+entryHeader.length}),totalSize+=mainHeader.mainHeaderSize,mainHeader.offset=dindex,dindex=0;var outBuffer=new Buffer(totalSize);dataBlock.forEach(function(content){content.copy(outBuffer,dindex),dindex+=content.length}),entryHeaders.forEach(function(content){content.copy(outBuffer,dindex),dindex+=content.length});var mh=mainHeader.toBinary();return _comment&&_comment.copy(mh,Utils.Constants.ENDHDR),mh.copy(outBuffer,dindex),outBuffer},toAsyncBuffer:function(onSuccess,onFail,onItemStart,onItemEnd){entryList.length>1&&entryList.sort(function(a,b){var nameA=a.entryName.toLowerCase(),nameB=b.entryName.toLowerCase();return nameA>nameB?-1:nameB>nameA?1:0});var totalSize=0,dataBlock=[],entryHeaders=[],dindex=0;mainHeader.size=0,mainHeader.offset=0;var compress=function(entryList){var entry,self=arguments.callee;if(entryList.length){var entry=entryList.pop(),name=entry.entryName+entry.extra.toString();onItemStart&&onItemStart(name),entry.getCompressedDataAsync(function(compressedData){onItemEnd&&onItemEnd(name),entry.header.offset=dindex;var dataHeader=entry.header.dataHeaderToBinary(),postHeader=new Buffer(name),dataLength=dataHeader.length+postHeader.length+compressedData.length;dindex+=dataLength,dataBlock.push(dataHeader),dataBlock.push(postHeader),dataBlock.push(compressedData);var entryHeader=entry.packHeader();if(entryHeaders.push(entryHeader),mainHeader.size+=entryHeader.length,totalSize+=dataLength+entryHeader.length,entryList.length)self(entryList);else{totalSize+=mainHeader.mainHeaderSize,mainHeader.offset=dindex,dindex=0;var outBuffer=new Buffer(totalSize);dataBlock.forEach(function(content){content.copy(outBuffer,dindex),dindex+=content.length}),entryHeaders.forEach(function(content){content.copy(outBuffer,dindex),dindex+=content.length});var mh=mainHeader.toBinary();_comment&&_comment.copy(mh,Utils.Constants.ENDHDR),mh.copy(outBuffer,dindex),onSuccess(outBuffer)}})}};compress(entryList)}}}}).call(this,require("buffer").Buffer)},{"./headers":209,"./util":217,"./zipEntry":219,buffer:17,"my-fs":195}],221:[function(require,module){function bufferizeInt(num){var tmp=Buffer(4);return tmp.writeInt32BE(num,0),tmp}function _crc32(buf,previous){Buffer.isBuffer(buf)||(buf=Buffer(buf)),Buffer.isBuffer(previous)&&(previous=previous.readUInt32BE(0));for(var crc=-1^~~previous,n=0;n<buf.length;n++)crc=CRC_TABLE[255&(crc^buf[n])]^crc>>>8;return-1^crc}function crc32(){return bufferizeInt(_crc32.apply(null,arguments))}var Buffer=require("buffer").Buffer,CRC_TABLE=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!=typeof Int32Array&&(CRC_TABLE=new Int32Array(CRC_TABLE)),crc32.signed=function(){return _crc32.apply(null,arguments)},crc32.unsigned=function(){return _crc32.apply(null,arguments)>>>0},module.exports=crc32},{buffer:17}],222:[function(require,module){module.exports=function(){"use strict";function stringSource(s){var i=0;return function(){return i<s.length?s.charCodeAt(i++):null}}function stringDestination(){var cs=[],ps=[];return function(){return 0===arguments.length?ps.join("")+stringFromCharCode.apply(String,cs):(cs.length+arguments.length>1024&&(ps.push(stringFromCharCode.apply(String,cs)),cs.length=0),void Array.prototype.push.apply(cs,arguments))}}var buffer=require("buffer"),Buffer=buffer.Buffer,Long=(buffer.SlowBuffer,require("long")),memcpy=null;try{memcpy=require("memcpy")}catch(e){}var ByteBuffer=function(capacity,littleEndian,noAssert){if("undefined"==typeof capacity&&(capacity=ByteBuffer.DEFAULT_CAPACITY),"undefined"==typeof littleEndian&&(littleEndian=ByteBuffer.DEFAULT_ENDIAN),"undefined"==typeof noAssert&&(noAssert=ByteBuffer.DEFAULT_NOASSERT),!noAssert){if(capacity=0|capacity,0>capacity)throw RangeError("Illegal capacity");littleEndian=!!littleEndian,noAssert=!!noAssert}this.buffer=0===capacity?EMPTY_BUFFER:new Buffer(capacity),this.offset=0,this.markedOffset=-1,this.limit=capacity,this.littleEndian="undefined"!=typeof littleEndian?!!littleEndian:!1,this.noAssert=!!noAssert};ByteBuffer.VERSION="3.5.4",ByteBuffer.LITTLE_ENDIAN=!0,ByteBuffer.BIG_ENDIAN=!1,ByteBuffer.DEFAULT_CAPACITY=16,ByteBuffer.DEFAULT_ENDIAN=ByteBuffer.BIG_ENDIAN,ByteBuffer.DEFAULT_NOASSERT=!1,ByteBuffer.Long=Long;var ByteBufferPrototype=ByteBuffer.prototype,EMPTY_BUFFER=new Buffer(0),stringFromCharCode=String.fromCharCode;ByteBuffer.allocate=function(capacity,littleEndian,noAssert){return new ByteBuffer(capacity,littleEndian,noAssert)},ByteBuffer.concat=function(buffers,encoding,littleEndian,noAssert){("boolean"==typeof encoding||"string"!=typeof encoding)&&(noAssert=littleEndian,littleEndian=encoding,encoding=void 0);for(var length,capacity=0,i=0,k=buffers.length;k>i;++i)ByteBuffer.isByteBuffer(buffers[i])||(buffers[i]=ByteBuffer.wrap(buffers[i],encoding)),length=buffers[i].limit-buffers[i].offset,length>0&&(capacity+=length);if(0===capacity)return new ByteBuffer(0,littleEndian,noAssert);var bi,bb=new ByteBuffer(capacity,littleEndian,noAssert);for(i=0;k>i;)bi=buffers[i++],length=bi.limit-bi.offset,0>=length||(bi.buffer.copy(bb.buffer,bb.offset,bi.offset,bi.limit),bb.offset+=length);return bb.limit=bb.offset,bb.offset=0,bb},ByteBuffer.isByteBuffer=function(bb){return(bb&&bb instanceof ByteBuffer)===!0},ByteBuffer.type=function(){return Buffer},ByteBuffer.wrap=function(buffer,encoding,littleEndian,noAssert){if("string"!=typeof encoding&&(noAssert=littleEndian,littleEndian=encoding,encoding=void 0),"string"==typeof buffer)switch("undefined"==typeof encoding&&(encoding="utf8"),encoding){case"base64":return ByteBuffer.fromBase64(buffer,littleEndian);case"hex":return ByteBuffer.fromHex(buffer,littleEndian);case"binary":return ByteBuffer.fromBinary(buffer,littleEndian);case"utf8":return ByteBuffer.fromUTF8(buffer,littleEndian);case"debug":return ByteBuffer.fromDebug(buffer,littleEndian);default:throw Error("Unsupported encoding: "+encoding)}if(null===buffer||"object"!=typeof buffer)throw TypeError("Illegal buffer");var bb;if(ByteBuffer.isByteBuffer(buffer))return bb=ByteBufferPrototype.clone.call(buffer),bb.markedOffset=-1,bb;var b,i=0,k=0;if(buffer instanceof Uint8Array){if(b=new Buffer(buffer.length),memcpy)memcpy(b,0,buffer.buffer,buffer.byteOffset,buffer.byteOffset+buffer.length);else for(i=0,k=buffer.length;k>i;++i)b[i]=buffer[i];buffer=b}else if(buffer instanceof ArrayBuffer){if(b=new Buffer(buffer.byteLength),memcpy)memcpy(b,0,buffer,0,buffer.byteLength);else for(buffer=new Uint8Array(buffer),i=0,k=buffer.length;k>i;++i)b[i]=buffer[i];buffer=b}else if(!(buffer instanceof Buffer)){if("[object Array]"!==Object.prototype.toString.call(buffer))throw TypeError("Illegal buffer");buffer=new Buffer(buffer)}return bb=new ByteBuffer(0,littleEndian,noAssert),buffer.length>0&&(bb.buffer=buffer,bb.limit=buffer.length),bb},ByteBufferPrototype.writeInt8=function(value,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!==0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value|=0,"number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}offset+=1;var capacity0=this.buffer.length;return offset>capacity0&&this.resize((capacity0*=2)>offset?capacity0:offset),offset-=1,this.buffer[offset]=value,relative&&(this.offset+=1),this},ByteBufferPrototype.writeByte=ByteBufferPrototype.writeInt8,ByteBufferPrototype.readInt8=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+1>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+1) <= "+this.buffer.length)}var value=this.buffer[offset];return 128===(128&value)&&(value=-(255-value+1)),relative&&(this.offset+=1),value},ByteBufferPrototype.readByte=ByteBufferPrototype.readInt8,ByteBufferPrototype.writeUint8=function(value,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!==0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value>>>=0,"number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}offset+=1;var capacity1=this.buffer.length;return offset>capacity1&&this.resize((capacity1*=2)>offset?capacity1:offset),offset-=1,this.buffer[offset]=value,relative&&(this.offset+=1),this},ByteBufferPrototype.readUint8=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+1>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+1) <= "+this.buffer.length)}var value=this.buffer[offset];return relative&&(this.offset+=1),value},ByteBufferPrototype.writeInt16=function(value,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!==0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value|=0,"number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}offset+=2;var capacity2=this.buffer.length;return offset>capacity2&&this.resize((capacity2*=2)>offset?capacity2:offset),offset-=2,this.littleEndian?(this.buffer[offset+1]=(65280&value)>>>8,this.buffer[offset]=255&value):(this.buffer[offset]=(65280&value)>>>8,this.buffer[offset+1]=255&value),relative&&(this.offset+=2),this},ByteBufferPrototype.writeShort=ByteBufferPrototype.writeInt16,ByteBufferPrototype.readInt16=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+2>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+2) <= "+this.buffer.length)}var value=0;return this.littleEndian?(value=this.buffer[offset],value|=this.buffer[offset+1]<<8):(value=this.buffer[offset]<<8,value|=this.buffer[offset+1]),32768===(32768&value)&&(value=-(65535-value+1)),relative&&(this.offset+=2),value},ByteBufferPrototype.readShort=ByteBufferPrototype.readInt16,ByteBufferPrototype.writeUint16=function(value,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!==0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value>>>=0,"number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}offset+=2;var capacity3=this.buffer.length;return offset>capacity3&&this.resize((capacity3*=2)>offset?capacity3:offset),offset-=2,this.littleEndian?(this.buffer[offset+1]=(65280&value)>>>8,this.buffer[offset]=255&value):(this.buffer[offset]=(65280&value)>>>8,this.buffer[offset+1]=255&value),relative&&(this.offset+=2),this},ByteBufferPrototype.readUint16=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+2>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+2) <= "+this.buffer.length)}var value=0;return this.littleEndian?(value=this.buffer[offset],value|=this.buffer[offset+1]<<8):(value=this.buffer[offset]<<8,value|=this.buffer[offset+1]),relative&&(this.offset+=2),value},ByteBufferPrototype.writeInt32=function(value,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!==0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value|=0,"number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}offset+=4;var capacity4=this.buffer.length;return offset>capacity4&&this.resize((capacity4*=2)>offset?capacity4:offset),offset-=4,this.littleEndian?(this.buffer[offset+3]=value>>>24&255,this.buffer[offset+2]=value>>>16&255,this.buffer[offset+1]=value>>>8&255,this.buffer[offset]=255&value):(this.buffer[offset]=value>>>24&255,this.buffer[offset+1]=value>>>16&255,this.buffer[offset+2]=value>>>8&255,this.buffer[offset+3]=255&value),relative&&(this.offset+=4),this},ByteBufferPrototype.writeInt=ByteBufferPrototype.writeInt32,ByteBufferPrototype.readInt32=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+4>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+4) <= "+this.buffer.length)}var value=0;return this.littleEndian?(value=this.buffer[offset+2]<<16,value|=this.buffer[offset+1]<<8,value|=this.buffer[offset],value+=this.buffer[offset+3]<<24>>>0):(value=this.buffer[offset+1]<<16,value|=this.buffer[offset+2]<<8,value|=this.buffer[offset+3],value+=this.buffer[offset]<<24>>>0),value|=0,relative&&(this.offset+=4),value},ByteBufferPrototype.readInt=ByteBufferPrototype.readInt32,ByteBufferPrototype.writeUint32=function(value,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!==0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value>>>=0,"number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}offset+=4;var capacity5=this.buffer.length;return offset>capacity5&&this.resize((capacity5*=2)>offset?capacity5:offset),offset-=4,this.littleEndian?(this.buffer[offset+3]=value>>>24&255,this.buffer[offset+2]=value>>>16&255,this.buffer[offset+1]=value>>>8&255,this.buffer[offset]=255&value):(this.buffer[offset]=value>>>24&255,this.buffer[offset+1]=value>>>16&255,this.buffer[offset+2]=value>>>8&255,this.buffer[offset+3]=255&value),relative&&(this.offset+=4),this},ByteBufferPrototype.readUint32=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+4>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+4) <= "+this.buffer.length)}var value=0;return this.littleEndian?(value=this.buffer[offset+2]<<16,value|=this.buffer[offset+1]<<8,value|=this.buffer[offset],value+=this.buffer[offset+3]<<24>>>0):(value=this.buffer[offset+1]<<16,value|=this.buffer[offset+2]<<8,value|=this.buffer[offset+3],value+=this.buffer[offset]<<24>>>0),relative&&(this.offset+=4),value},Long&&(ByteBufferPrototype.writeInt64=function(value,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"==typeof value)value=Long.fromNumber(value);else if(!(value&&value instanceof Long))throw TypeError("Illegal value: "+value+" (not an integer or Long)");if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}"number"==typeof value&&(value=Long.fromNumber(value)),offset+=8;var capacity6=this.buffer.length;offset>capacity6&&this.resize((capacity6*=2)>offset?capacity6:offset),offset-=8;var lo=value.low,hi=value.high;return this.littleEndian?(this.buffer[offset+3]=lo>>>24&255,this.buffer[offset+2]=lo>>>16&255,this.buffer[offset+1]=lo>>>8&255,this.buffer[offset]=255&lo,offset+=4,this.buffer[offset+3]=hi>>>24&255,this.buffer[offset+2]=hi>>>16&255,this.buffer[offset+1]=hi>>>8&255,this.buffer[offset]=255&hi):(this.buffer[offset]=hi>>>24&255,this.buffer[offset+1]=hi>>>16&255,this.buffer[offset+2]=hi>>>8&255,this.buffer[offset+3]=255&hi,offset+=4,this.buffer[offset]=lo>>>24&255,this.buffer[offset+1]=lo>>>16&255,this.buffer[offset+2]=lo>>>8&255,this.buffer[offset+3]=255&lo),relative&&(this.offset+=8),this},ByteBufferPrototype.writeLong=ByteBufferPrototype.writeInt64,ByteBufferPrototype.readInt64=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+8>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+8) <= "+this.buffer.length)}var lo=0,hi=0;this.littleEndian?(lo=this.buffer[offset+2]<<16,lo|=this.buffer[offset+1]<<8,lo|=this.buffer[offset],lo+=this.buffer[offset+3]<<24>>>0,offset+=4,hi=this.buffer[offset+2]<<16,hi|=this.buffer[offset+1]<<8,hi|=this.buffer[offset],hi+=this.buffer[offset+3]<<24>>>0):(hi=this.buffer[offset+1]<<16,hi|=this.buffer[offset+2]<<8,hi|=this.buffer[offset+3],hi+=this.buffer[offset]<<24>>>0,offset+=4,lo=this.buffer[offset+1]<<16,lo|=this.buffer[offset+2]<<8,lo|=this.buffer[offset+3],lo+=this.buffer[offset]<<24>>>0);var value=new Long(lo,hi,!1);return relative&&(this.offset+=8),value},ByteBufferPrototype.readLong=ByteBufferPrototype.readInt64,
ByteBufferPrototype.writeUint64=function(value,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"==typeof value)value=Long.fromNumber(value);else if(!(value&&value instanceof Long))throw TypeError("Illegal value: "+value+" (not an integer or Long)");if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}"number"==typeof value&&(value=Long.fromNumber(value)),offset+=8;var capacity7=this.buffer.length;offset>capacity7&&this.resize((capacity7*=2)>offset?capacity7:offset),offset-=8;var lo=value.low,hi=value.high;return this.littleEndian?(this.buffer[offset+3]=lo>>>24&255,this.buffer[offset+2]=lo>>>16&255,this.buffer[offset+1]=lo>>>8&255,this.buffer[offset]=255&lo,offset+=4,this.buffer[offset+3]=hi>>>24&255,this.buffer[offset+2]=hi>>>16&255,this.buffer[offset+1]=hi>>>8&255,this.buffer[offset]=255&hi):(this.buffer[offset]=hi>>>24&255,this.buffer[offset+1]=hi>>>16&255,this.buffer[offset+2]=hi>>>8&255,this.buffer[offset+3]=255&hi,offset+=4,this.buffer[offset]=lo>>>24&255,this.buffer[offset+1]=lo>>>16&255,this.buffer[offset+2]=lo>>>8&255,this.buffer[offset+3]=255&lo),relative&&(this.offset+=8),this},ByteBufferPrototype.readUint64=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+8>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+8) <= "+this.buffer.length)}var lo=0,hi=0;this.littleEndian?(lo=this.buffer[offset+2]<<16,lo|=this.buffer[offset+1]<<8,lo|=this.buffer[offset],lo+=this.buffer[offset+3]<<24>>>0,offset+=4,hi=this.buffer[offset+2]<<16,hi|=this.buffer[offset+1]<<8,hi|=this.buffer[offset],hi+=this.buffer[offset+3]<<24>>>0):(hi=this.buffer[offset+1]<<16,hi|=this.buffer[offset+2]<<8,hi|=this.buffer[offset+3],hi+=this.buffer[offset]<<24>>>0,offset+=4,lo=this.buffer[offset+1]<<16,lo|=this.buffer[offset+2]<<8,lo|=this.buffer[offset+3],lo+=this.buffer[offset]<<24>>>0);var value=new Long(lo,hi,!0);return relative&&(this.offset+=8),value}),ByteBufferPrototype.writeFloat32=function(value,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value)throw TypeError("Illegal value: "+value+" (not a number)");if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}offset+=4;var capacity8=this.buffer.length;return offset>capacity8&&this.resize((capacity8*=2)>offset?capacity8:offset),offset-=4,this.littleEndian?this.buffer.writeFloatLE(value,offset,!0):this.buffer.writeFloatBE(value,offset,!0),relative&&(this.offset+=4),this},ByteBufferPrototype.writeFloat=ByteBufferPrototype.writeFloat32,ByteBufferPrototype.readFloat32=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+4>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+4) <= "+this.buffer.length)}var value=this.littleEndian?this.buffer.readFloatLE(offset,!0):this.buffer.readFloatBE(offset,!0);return relative&&(this.offset+=4),value},ByteBufferPrototype.readFloat=ByteBufferPrototype.readFloat32,ByteBufferPrototype.writeFloat64=function(value,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value)throw TypeError("Illegal value: "+value+" (not a number)");if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}offset+=8;var capacity9=this.buffer.length;return offset>capacity9&&this.resize((capacity9*=2)>offset?capacity9:offset),offset-=8,this.littleEndian?this.buffer.writeDoubleLE(value,offset,!0):this.buffer.writeDoubleBE(value,offset,!0),relative&&(this.offset+=8),this},ByteBufferPrototype.writeDouble=ByteBufferPrototype.writeFloat64,ByteBufferPrototype.readFloat64=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+8>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+8) <= "+this.buffer.length)}var value=this.littleEndian?this.buffer.readDoubleLE(offset,!0):this.buffer.readDoubleBE(offset,!0);return relative&&(this.offset+=8),value},ByteBufferPrototype.readDouble=ByteBufferPrototype.readFloat64,ByteBuffer.MAX_VARINT32_BYTES=5,ByteBuffer.calculateVarint32=function(value){return value>>>=0,128>value?1:16384>value?2:1<<21>value?3:1<<28>value?4:5},ByteBuffer.zigZagEncode32=function(n){return((n|=0)<<1^n>>31)>>>0},ByteBuffer.zigZagDecode32=function(n){return n>>>1^-(1&n)|0},ByteBufferPrototype.writeVarint32=function(value,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof value||value%1!==0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value|=0,"number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}var b,size=ByteBuffer.calculateVarint32(value);offset+=size;var capacity10=this.buffer.length;return offset>capacity10&&this.resize((capacity10*=2)>offset?capacity10:offset),offset-=size,this.buffer[offset]=b=128|value,value>>>=0,value>=128?(b=value>>7|128,this.buffer[offset+1]=b,value>=16384?(b=value>>14|128,this.buffer[offset+2]=b,value>=1<<21?(b=value>>21|128,this.buffer[offset+3]=b,value>=1<<28?(this.buffer[offset+4]=value>>28&15,size=5):(this.buffer[offset+3]=127&b,size=4)):(this.buffer[offset+2]=127&b,size=3)):(this.buffer[offset+1]=127&b,size=2)):(this.buffer[offset]=127&b,size=1),relative?(this.offset+=size,this):size},ByteBufferPrototype.writeVarint32ZigZag=function(value,offset){return this.writeVarint32(ByteBuffer.zigZagEncode32(value),offset)},ByteBufferPrototype.readVarint32=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+1>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+1) <= "+this.buffer.length)}var temp,ioffset,size=0,value=0;do{if(ioffset=offset+size,!this.noAssert&&ioffset>this.limit){var err=Error("Truncated");throw err.truncated=!0,err}temp=this.buffer[ioffset],5>size&&(value|=(127&temp)<<7*size>>>0),++size}while(128===(128&temp));return value=0|value,relative?(this.offset+=size,value):{value:value,length:size}},ByteBufferPrototype.readVarint32ZigZag=function(offset){var val=this.readVarint32(offset);return"object"==typeof val?val.value=ByteBuffer.zigZagDecode32(val.value):val=ByteBuffer.zigZagDecode32(val),val},Long&&(ByteBuffer.MAX_VARINT64_BYTES=10,ByteBuffer.calculateVarint64=function(value){"number"==typeof value&&(value=Long.fromNumber(value));var part0=value.toInt()>>>0,part1=value.shiftRightUnsigned(28).toInt()>>>0,part2=value.shiftRightUnsigned(56).toInt()>>>0;return 0==part2?0==part1?16384>part0?128>part0?1:2:1<<21>part0?3:4:16384>part1?128>part1?5:6:1<<21>part1?7:8:128>part2?9:10},ByteBuffer.zigZagEncode64=function(value){return"number"==typeof value?value=Long.fromNumber(value,!1):value.unsigned!==!1&&(value=value.toSigned()),value.shiftLeft(1).xor(value.shiftRight(63)).toUnsigned()},ByteBuffer.zigZagDecode64=function(value){return"number"==typeof value?value=Long.fromNumber(value,!1):value.unsigned!==!1&&(value=value.toSigned()),value.shiftRightUnsigned(1).xor(value.and(Long.ONE).toSigned().negate()).toSigned()},ByteBufferPrototype.writeVarint64=function(value,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"==typeof value)value=Long.fromNumber(value);else if(!(value&&value instanceof Long))throw TypeError("Illegal value: "+value+" (not an integer or Long)");if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}"number"==typeof value?value=Long.fromNumber(value,!1):value.unsigned!==!1&&(value=value.toSigned());var size=ByteBuffer.calculateVarint64(value),part0=value.toInt()>>>0,part1=value.shiftRightUnsigned(28).toInt()>>>0,part2=value.shiftRightUnsigned(56).toInt()>>>0;offset+=size;var capacity11=this.buffer.length;switch(offset>capacity11&&this.resize((capacity11*=2)>offset?capacity11:offset),offset-=size,size){case 10:this.buffer[offset+9]=part2>>>7&1;case 9:this.buffer[offset+8]=9!==size?128|part2:127&part2;case 8:this.buffer[offset+7]=8!==size?part1>>>21|128:part1>>>21&127;case 7:this.buffer[offset+6]=7!==size?part1>>>14|128:part1>>>14&127;case 6:this.buffer[offset+5]=6!==size?part1>>>7|128:part1>>>7&127;case 5:this.buffer[offset+4]=5!==size?128|part1:127&part1;case 4:this.buffer[offset+3]=4!==size?part0>>>21|128:part0>>>21&127;case 3:this.buffer[offset+2]=3!==size?part0>>>14|128:part0>>>14&127;case 2:this.buffer[offset+1]=2!==size?part0>>>7|128:part0>>>7&127;case 1:this.buffer[offset]=1!==size?128|part0:127&part0}return relative?(this.offset+=size,this):size},ByteBufferPrototype.writeVarint64ZigZag=function(value,offset){return this.writeVarint64(ByteBuffer.zigZagEncode64(value),offset)},ByteBufferPrototype.readVarint64=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+1>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+1) <= "+this.buffer.length)}var start=offset,part0=0,part1=0,part2=0,b=0;if(b=this.buffer[offset++],part0=127&b,128&b&&(b=this.buffer[offset++],part0|=(127&b)<<7,(128&b||this.noAssert&&"undefined"==typeof b)&&(b=this.buffer[offset++],part0|=(127&b)<<14,(128&b||this.noAssert&&"undefined"==typeof b)&&(b=this.buffer[offset++],part0|=(127&b)<<21,(128&b||this.noAssert&&"undefined"==typeof b)&&(b=this.buffer[offset++],part1=127&b,(128&b||this.noAssert&&"undefined"==typeof b)&&(b=this.buffer[offset++],part1|=(127&b)<<7,(128&b||this.noAssert&&"undefined"==typeof b)&&(b=this.buffer[offset++],part1|=(127&b)<<14,(128&b||this.noAssert&&"undefined"==typeof b)&&(b=this.buffer[offset++],part1|=(127&b)<<21,(128&b||this.noAssert&&"undefined"==typeof b)&&(b=this.buffer[offset++],part2=127&b,(128&b||this.noAssert&&"undefined"==typeof b)&&(b=this.buffer[offset++],part2|=(127&b)<<7,128&b||this.noAssert&&"undefined"==typeof b))))))))))throw Error("Buffer overrun");var value=Long.fromBits(part0|part1<<28,part1>>>4|part2<<24,!1);return relative?(this.offset=offset,value):{value:value,length:offset-start}},ByteBufferPrototype.readVarint64ZigZag=function(offset){var val=this.readVarint64(offset);return val&&val.value instanceof Long?val.value=ByteBuffer.zigZagDecode64(val.value):val=ByteBuffer.zigZagDecode64(val),val}),ByteBufferPrototype.writeCString=function(str,offset){var relative="undefined"==typeof offset;relative&&(offset=this.offset);var i,k=str.length;if(!this.noAssert){if("string"!=typeof str)throw TypeError("Illegal str: Not a string");for(i=0;k>i;++i)if(0===str.charCodeAt(i))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}var start=offset;k=Buffer.byteLength(str,"utf8"),offset+=k+1;var capacity12=this.buffer.length;return offset>capacity12&&this.resize((capacity12*=2)>offset?capacity12:offset),offset-=k+1,offset+=this.buffer.write(str,offset,k,"utf8"),this.buffer[offset++]=0,relative?(this.offset=offset-start,this):k},ByteBufferPrototype.readCString=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+1>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+1) <= "+this.buffer.length)}var temp,start=offset;do{if(offset>=this.buffer.length)throw RangeError("Index out of range: "+offset+" <= "+this.buffer.length);temp=this.buffer[offset++]}while(0!==temp);var str=this.buffer.toString("utf8",start,offset-1);return relative?(this.offset=offset,str):{string:str,length:offset-start}},ByteBufferPrototype.writeIString=function(str,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("string"!=typeof str)throw TypeError("Illegal str: Not a string");if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}var k,start=offset;k=Buffer.byteLength(str,"utf8"),offset+=4+k;var capacity13=this.buffer.length;return offset>capacity13&&this.resize((capacity13*=2)>offset?capacity13:offset),offset-=4+k,this.littleEndian?(this.buffer[offset+3]=k>>>24&255,this.buffer[offset+2]=k>>>16&255,this.buffer[offset+1]=k>>>8&255,this.buffer[offset]=255&k):(this.buffer[offset]=k>>>24&255,this.buffer[offset+1]=k>>>16&255,this.buffer[offset+2]=k>>>8&255,this.buffer[offset+3]=255&k),offset+=4,offset+=this.buffer.write(str,offset,k,"utf8"),relative?(this.offset=offset,this):offset-start},ByteBufferPrototype.readIString=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+4>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+4) <= "+this.buffer.length)}var str,temp=0,start=offset;if(this.littleEndian?(temp=this.buffer[offset+2]<<16,temp|=this.buffer[offset+1]<<8,temp|=this.buffer[offset],temp+=this.buffer[offset+3]<<24>>>0):(temp=this.buffer[offset+1]<<16,temp|=this.buffer[offset+2]<<8,temp|=this.buffer[offset+3],temp+=this.buffer[offset]<<24>>>0),offset+=4,offset+temp>this.buffer.length)throw RangeError("Index out of bounds: "+offset+" + "+temp+" <= "+this.buffer.length);return str=this.buffer.toString("utf8",offset,offset+temp),offset+=temp,relative?(this.offset=offset,str):{string:str,length:offset-start}},ByteBuffer.METRICS_CHARS="c",ByteBuffer.METRICS_BYTES="b",ByteBufferPrototype.writeUTF8String=function(str,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}var k;k=Buffer.byteLength(str,"utf8"),offset+=k;var capacity14=this.buffer.length;return offset>capacity14&&this.resize((capacity14*=2)>offset?capacity14:offset),offset-=k,offset+=this.buffer.write(str,offset,k,"utf8"),relative?(this.offset=offset,this):k},ByteBufferPrototype.writeString=ByteBufferPrototype.writeUTF8String,ByteBuffer.calculateUTF8Chars=function(str){return utfx.calculateUTF16asUTF8(stringSource(str))[0]},ByteBuffer.calculateUTF8Bytes=function(str){if("string"!=typeof str)throw TypeError("Illegal argument: "+typeof str);return Buffer.byteLength(str,"utf8")},ByteBufferPrototype.readUTF8String=function(length,metrics,offset){"number"==typeof metrics&&(offset=metrics,metrics=void 0);var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),"undefined"==typeof metrics&&(metrics=ByteBuffer.METRICS_CHARS),!this.noAssert){if("number"!=typeof length||length%1!==0)throw TypeError("Illegal length: "+length+" (not an integer)");if(length|=0,"number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}var temp,sd,i=0,start=offset;if(metrics===ByteBuffer.METRICS_CHARS){if(sd=stringDestination(),utfx.decodeUTF8(function(){return length>i&&offset<this.limit?this.buffer[offset++]:null}.bind(this),function(cp){++i,utfx.UTF8toUTF16(cp,sd)}.bind(this)),i!==length)throw RangeError("Illegal range: Truncated data, "+i+" == "+length);return relative?(this.offset=offset,sd()):{string:sd(),length:offset-start}}if(metrics===ByteBuffer.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+length>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+"+length+") <= "+this.buffer.length)}return temp=this.buffer.toString("utf8",offset,offset+length),relative?(this.offset+=length,temp):{string:temp,length:length}}throw TypeError("Unsupported metrics: "+metrics)},ByteBufferPrototype.readString=ByteBufferPrototype.readUTF8String,ByteBufferPrototype.writeVString=function(str,offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("string"!=typeof str)throw TypeError("Illegal str: Not a string");if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}var k,l,start=offset;k=Buffer.byteLength(str,"utf8"),l=ByteBuffer.calculateVarint32(k),offset+=l+k;var capacity15=this.buffer.length;return offset>capacity15&&this.resize((capacity15*=2)>offset?capacity15:offset),offset-=l+k,offset+=this.writeVarint32(k,offset),offset+=this.buffer.write(str,offset,k,"utf8"),relative?(this.offset=offset,this):offset-start},ByteBufferPrototype.readVString=function(offset){var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+1>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+1) <= "+this.buffer.length)}var str,temp=this.readVarint32(offset),start=offset;if(offset+=temp.length,temp=temp.value,offset+temp>this.buffer.length)throw RangeError("Index out of bounds: "+offset+" + "+val.value+" <= "+this.buffer.length);return str=this.buffer.toString("utf8",offset,offset+temp),offset+=temp,relative?(this.offset=offset,str):{string:str,length:offset-start}},ByteBufferPrototype.append=function(source,encoding,offset){("number"==typeof encoding||"string"!=typeof encoding)&&(offset=encoding,encoding=void 0);var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}source instanceof ByteBuffer||(source=ByteBuffer.wrap(source,encoding));var length=source.limit-source.offset;if(0>=length)return this;offset+=length;var capacity16=this.buffer.length;return offset>capacity16&&this.resize((capacity16*=2)>offset?capacity16:offset),offset-=length,source.buffer.copy(this.buffer,offset,source.offset,source.limit),source.offset+=length,relative&&(this.offset+=length),this},ByteBufferPrototype.appendTo=function(target,offset){return target.append(this,offset),this},ByteBufferPrototype.assert=function(assert){return this.noAssert=!assert,this},ByteBufferPrototype.capacity=function(){return this.buffer.length},ByteBufferPrototype.clear=function(){return this.offset=0,this.limit=this.buffer.length,this.markedOffset=-1,this},ByteBufferPrototype.clone=function(copy){var bb=new ByteBuffer(0,this.littleEndian,this.noAssert);if(copy){var buffer=new Buffer(this.buffer.length);this.buffer.copy(buffer),bb.buffer=buffer}else bb.buffer=this.buffer;return bb.offset=this.offset,bb.markedOffset=this.markedOffset,bb.limit=this.limit,bb},ByteBufferPrototype.compact=function(begin,end){if("undefined"==typeof begin&&(begin=this.offset),"undefined"==typeof end&&(end=this.limit),!this.noAssert){if("number"!=typeof begin||begin%1!==0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!==0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,0>begin||begin>end||end>this.buffer.length)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.length)}if(0===begin&&end===this.buffer.length)return this;var len=end-begin;if(0===len)return this.buffer=EMPTY_BUFFER,this.markedOffset>=0&&(this.markedOffset-=begin),this.offset=0,this.limit=0,this;var buffer=new Buffer(len);return this.buffer.copy(buffer,0,begin,end),this.buffer=buffer,this.markedOffset>=0&&(this.markedOffset-=begin),this.offset=0,this.limit=len,this},ByteBufferPrototype.copy=function(begin,end){if("undefined"==typeof begin&&(begin=this.offset),"undefined"==typeof end&&(end=this.limit),!this.noAssert){if("number"!=typeof begin||begin%1!==0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!==0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,0>begin||begin>end||end>this.buffer.length)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.length)}if(begin===end)return new ByteBuffer(0,this.littleEndian,this.noAssert);var capacity=end-begin,bb=new ByteBuffer(capacity,this.littleEndian,this.noAssert);return bb.offset=0,bb.limit=capacity,bb.markedOffset>=0&&(bb.markedOffset-=begin),this.copyTo(bb,0,begin,end),bb},ByteBufferPrototype.copyTo=function(target,targetOffset,sourceOffset,sourceLimit){var relative,targetRelative;if(!this.noAssert&&!ByteBuffer.isByteBuffer(target))throw TypeError("Illegal target: Not a ByteBuffer");if(targetOffset=(targetRelative="undefined"==typeof targetOffset)?target.offset:0|targetOffset,sourceOffset=(relative="undefined"==typeof sourceOffset)?this.offset:0|sourceOffset,sourceLimit="undefined"==typeof sourceLimit?this.limit:0|sourceLimit,0>targetOffset||targetOffset>target.buffer.length)throw RangeError("Illegal target range: 0 <= "+targetOffset+" <= "+target.buffer.length);if(0>sourceOffset||sourceLimit>this.buffer.length)throw RangeError("Illegal source range: 0 <= "+sourceOffset+" <= "+this.buffer.length);var len=sourceLimit-sourceOffset;return 0===len?target:(target.ensureCapacity(targetOffset+len),this.buffer.copy(target.buffer,targetOffset,sourceOffset,sourceLimit),relative&&(this.offset+=len),targetRelative&&(target.offset+=len),this)},ByteBufferPrototype.ensureCapacity=function(capacity){var current=this.buffer.length;return capacity>current?this.resize((current*=2)>capacity?current:capacity):this},ByteBufferPrototype.fill=function(value,begin,end){var relative="undefined"==typeof begin;if(relative&&(begin=this.offset),"string"==typeof value&&value.length>0&&(value=value.charCodeAt(0)),"undefined"==typeof begin&&(begin=this.offset),"undefined"==typeof end&&(end=this.limit),!this.noAssert){if("number"!=typeof value||value%1!==0)throw TypeError("Illegal value: "+value+" (not an integer)");if(value|=0,"number"!=typeof begin||begin%1!==0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!==0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,0>begin||begin>end||end>this.buffer.length)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.length)}return begin>=end?this:(this.buffer.fill(value,begin,end),begin=end,relative&&(this.offset=begin),this)},ByteBufferPrototype.flip=function(){return this.limit=this.offset,this.offset=0,this},ByteBufferPrototype.mark=function(offset){if(offset="undefined"==typeof offset?this.offset:offset,!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}return this.markedOffset=offset,this},ByteBufferPrototype.order=function(littleEndian){if(!this.noAssert&&"boolean"!=typeof littleEndian)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!littleEndian,this},ByteBufferPrototype.LE=function(littleEndian){return this.littleEndian="undefined"!=typeof littleEndian?!!littleEndian:!0,this},ByteBufferPrototype.BE=function(bigEndian){return this.littleEndian="undefined"!=typeof bigEndian?!bigEndian:!1,this},ByteBufferPrototype.prepend=function(source,encoding,offset){("number"==typeof encoding||"string"!=typeof encoding)&&(offset=encoding,encoding=void 0);var relative="undefined"==typeof offset;if(relative&&(offset=this.offset),!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: "+offset+" (not an integer)");if(offset>>>=0,0>offset||offset+0>this.buffer.length)throw RangeError("Illegal offset: 0 <= "+offset+" (+0) <= "+this.buffer.length)}source instanceof ByteBuffer||(source=ByteBuffer.wrap(source,encoding));var len=source.limit-source.offset;if(0>=len)return this;var diff=len-offset;if(diff>0){var buffer=new Buffer(this.buffer.length+diff);this.buffer.copy(buffer,len,offset,this.buffer.length),this.buffer=buffer,this.offset+=diff,this.markedOffset>=0&&(this.markedOffset+=diff),this.limit+=diff,offset+=diff}return source.buffer.copy(this.buffer,offset-len,source.offset,source.limit),source.offset=source.limit,relative&&(this.offset-=len),this},ByteBufferPrototype.prependTo=function(target,offset){return target.prepend(this,offset),this},ByteBufferPrototype.printDebug=function(out){"function"!=typeof out&&(out=console.log.bind(console)),out(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},ByteBufferPrototype.remaining=function(){return this.limit-this.offset},ByteBufferPrototype.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},ByteBufferPrototype.resize=function(capacity){if(!this.noAssert){if("number"!=typeof capacity||capacity%1!==0)throw TypeError("Illegal capacity: "+capacity+" (not an integer)");if(capacity|=0,0>capacity)throw RangeError("Illegal capacity: 0 <= "+capacity)}if(this.buffer.length<capacity){var buffer=new Buffer(capacity);this.buffer.copy(buffer),this.buffer=buffer}return this},ByteBufferPrototype.reverse=function(begin,end){if("undefined"==typeof begin&&(begin=this.offset),"undefined"==typeof end&&(end=this.limit),!this.noAssert){if("number"!=typeof begin||begin%1!==0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!==0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,0>begin||begin>end||end>this.buffer.length)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.length)}return begin===end?this:(Array.prototype.reverse.call(this.buffer.slice(begin,end)),this)},ByteBufferPrototype.skip=function(length){if(!this.noAssert){if("number"!=typeof length||length%1!==0)throw TypeError("Illegal length: "+length+" (not an integer)");length|=0}var offset=this.offset+length;if(!this.noAssert&&(0>offset||offset>this.buffer.length))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+length+" <= "+this.buffer.length);return this.offset=offset,this},ByteBufferPrototype.slice=function(begin,end){if("undefined"==typeof begin&&(begin=this.offset),"undefined"==typeof end&&(end=this.limit),!this.noAssert){if("number"!=typeof begin||begin%1!==0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!==0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,0>begin||begin>end||end>this.buffer.length)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.length)}var bb=this.clone();return bb.offset=begin,bb.limit=end,bb},ByteBufferPrototype.toBuffer=function(forceCopy){var offset=this.offset,limit=this.limit;if(offset>limit){var t=offset;offset=limit,limit=t}if(!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: Not an integer");if(offset>>>=0,"number"!=typeof limit||limit%1!==0)throw TypeError("Illegal limit: Not an integer");if(limit>>>=0,0>offset||offset>limit||limit>this.buffer.length)throw RangeError("Illegal range: 0 <= "+offset+" <= "+limit+" <= "+this.buffer.length)}if(forceCopy){var buffer=new Buffer(limit-offset);return this.buffer.copy(buffer,0,offset,limit),buffer}return 0===offset&&limit===this.buffer.length?this.buffer:this.buffer.slice(offset,limit)},ByteBufferPrototype.toArrayBuffer=function(){var offset=this.offset,limit=this.limit;if(offset>limit){var t=offset;offset=limit,limit=t}if(!this.noAssert){if("number"!=typeof offset||offset%1!==0)throw TypeError("Illegal offset: Not an integer");if(offset>>>=0,"number"!=typeof limit||limit%1!==0)throw TypeError("Illegal limit: Not an integer");if(limit>>>=0,0>offset||offset>limit||limit>this.buffer.length)throw RangeError("Illegal range: 0 <= "+offset+" <= "+limit+" <= "+this.buffer.length)}var ab=new ArrayBuffer(limit-offset);if(memcpy)memcpy(ab,0,this.buffer,offset,limit);else for(var dst=new Uint8Array(ab),i=offset;limit>i;++i)dst[i-offset]=this.buffer[i];return ab},ByteBufferPrototype.toString=function(encoding,begin,end){if("undefined"==typeof encoding)return"ByteBufferNB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof encoding&&(encoding="utf8",begin=encoding,end=begin),encoding){case"utf8":return this.toUTF8(begin,end);case"base64":return this.toBase64(begin,end);case"hex":return this.toHex(begin,end);case"binary":return this.toBinary(begin,end);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+encoding)}},ByteBufferPrototype.toBase64=function(begin,end){if("undefined"==typeof begin&&(begin=this.offset),"undefined"==typeof end&&(end=this.limit),!this.noAssert){if("number"!=typeof begin||begin%1!==0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!==0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,0>begin||begin>end||end>this.buffer.length)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.length)}return this.buffer.toString("base64",begin,end)},ByteBuffer.fromBase64=function(str,littleEndian,noAssert){if(!noAssert){if("string"!=typeof str)throw TypeError("Illegal str: Not a string");if(str.length%4!==0)throw TypeError("Illegal str: Length not a multiple of 4")}var bb=new ByteBuffer(0,littleEndian,noAssert);return bb.buffer=new Buffer(str,"base64"),bb.limit=bb.buffer.length,bb},ByteBuffer.btoa=function(str){return ByteBuffer.fromBinary(str).toBase64()},ByteBuffer.atob=function(b64){return ByteBuffer.fromBase64(b64).toBinary()},ByteBufferPrototype.toBinary=function(begin,end){if(begin="undefined"==typeof begin?this.offset:begin,end="undefined"==typeof end?this.limit:end,!this.noAssert){if("number"!=typeof begin||begin%1!==0)throw TypeError("Illegal begin: Not an integer");

if(begin>>>=0,"number"!=typeof end||end%1!==0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,0>begin||begin>end||end>this.buffer.length)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.length)}return this.buffer.toString("binary",begin,end)},ByteBuffer.fromBinary=function(str,littleEndian,noAssert){if(!noAssert&&"string"!=typeof str)throw TypeError("Illegal str: Not a string");var bb=new ByteBuffer(0,littleEndian,noAssert);return bb.buffer=new Buffer(str,"binary"),bb.limit=bb.buffer.length,bb},ByteBufferPrototype.toDebug=function(columns){for(var b,i=-1,k=this.buffer.length,hex="",asc="",out="";k>i;){if(-1!==i&&(b=this.buffer[i],hex+=16>b?"0"+b.toString(16).toUpperCase():b.toString(16).toUpperCase(),columns&&(asc+=b>32&&127>b?String.fromCharCode(b):".")),++i,columns&&i>0&&i%16===0&&i!==k){for(;hex.length<51;)hex+=" ";out+=hex+asc+"\n",hex=asc=""}hex+=i===this.offset&&i===this.limit?i===this.markedOffset?"!":"|":i===this.offset?i===this.markedOffset?"[":"<":i===this.limit?i===this.markedOffset?"]":">":i===this.markedOffset?"'":columns||0!==i&&i!==k?" ":""}if(columns&&" "!==hex){for(;hex.length<51;)hex+=" ";out+=hex+asc+"\n"}return columns?out:hex},ByteBuffer.fromDebug=function(str,littleEndian,noAssert){for(var ch,b,k=str.length,bb=new ByteBuffer((k+1)/3|0,littleEndian,noAssert),i=0,j=0,rs=!1,ho=!1,hm=!1,hl=!1,fail=!1;k>i;){switch(ch=str.charAt(i++)){case"!":if(!noAssert){if(ho||hm||hl){fail=!0;break}ho=hm=hl=!0}bb.offset=bb.markedOffset=bb.limit=j,rs=!1;break;case"|":if(!noAssert){if(ho||hl){fail=!0;break}ho=hl=!0}bb.offset=bb.limit=j,rs=!1;break;case"[":if(!noAssert){if(ho||hm){fail=!0;break}ho=hm=!0}bb.offset=bb.markedOffset=j,rs=!1;break;case"<":if(!noAssert){if(ho){fail=!0;break}ho=!0}bb.offset=j,rs=!1;break;case"]":if(!noAssert){if(hl||hm){fail=!0;break}hl=hm=!0}bb.limit=bb.markedOffset=j,rs=!1;break;case">":if(!noAssert){if(hl){fail=!0;break}hl=!0}bb.limit=j,rs=!1;break;case"'":if(!noAssert){if(hm){fail=!0;break}hm=!0}bb.markedOffset=j,rs=!1;break;case" ":rs=!1;break;default:if(!noAssert&&rs){fail=!0;break}if(b=parseInt(ch+str.charAt(i++),16),!noAssert&&(isNaN(b)||0>b||b>255))throw TypeError("Illegal str: Not a debug encoded string");bb.buffer[j++]=b,rs=!0}if(fail)throw TypeError("Illegal str: Invalid symbol at "+i)}if(!noAssert){if(!ho||!hl)throw TypeError("Illegal str: Missing offset or limit");if(j<bb.buffer.length)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+j+" < "+k)}return bb},ByteBufferPrototype.toHex=function(begin,end){if(begin="undefined"==typeof begin?this.offset:begin,end="undefined"==typeof end?this.limit:end,!this.noAssert){if("number"!=typeof begin||begin%1!==0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!==0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,0>begin||begin>end||end>this.buffer.length)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.length)}return this.buffer.toString("hex",begin,end)},ByteBuffer.fromHex=function(str,littleEndian,noAssert){if(!noAssert){if("string"!=typeof str)throw TypeError("Illegal str: Not a string");if(str.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}var bb=new ByteBuffer(0,littleEndian,!0);return bb.buffer=new Buffer(str,"hex"),bb.limit=bb.buffer.length,bb};var utfx=function(){var utfx={};return utfx.MAX_CODEPOINT=1114111,utfx.encodeUTF8=function(src,dst){var cp=null;for("number"==typeof src&&(cp=src,src=function(){return null});null!==cp||null!==(cp=src());)128>cp?dst(127&cp):2048>cp?(dst(cp>>6&31|192),dst(63&cp|128)):65536>cp?(dst(cp>>12&15|224),dst(cp>>6&63|128),dst(63&cp|128)):(dst(cp>>18&7|240),dst(cp>>12&63|128),dst(cp>>6&63|128),dst(63&cp|128)),cp=null},utfx.decodeUTF8=function(src,dst){for(var a,b,c,d,fail=function(b){b=b.slice(0,b.indexOf(null));var err=Error(b.toString());throw err.name="TruncatedError",err.bytes=b,err};null!==(a=src());)if(0===(128&a))dst(a);else if(192===(224&a))null===(b=src())&&fail([a,b]),dst((31&a)<<6|63&b);else if(224===(240&a))(null===(b=src())||null===(c=src()))&&fail([a,b,c]),dst((15&a)<<12|(63&b)<<6|63&c);else{if(240!==(248&a))throw RangeError("Illegal starting byte: "+a);(null===(b=src())||null===(c=src())||null===(d=src()))&&fail([a,b,c,d]),dst((7&a)<<18|(63&b)<<12|(63&c)<<6|63&d)}},utfx.UTF16toUTF8=function(src,dst){for(var c1,c2=null;;){if(null===(c1=null!==c2?c2:src()))break;c1>=55296&&57343>=c1&&null!==(c2=src())&&c2>=56320&&57343>=c2?(dst(1024*(c1-55296)+c2-56320+65536),c2=null):dst(c1)}null!==c2&&dst(c2)},utfx.UTF8toUTF16=function(src,dst){var cp=null;for("number"==typeof src&&(cp=src,src=function(){return null});null!==cp||null!==(cp=src());)65535>=cp?dst(cp):(cp-=65536,dst((cp>>10)+55296),dst(cp%1024+56320)),cp=null},utfx.encodeUTF16toUTF8=function(src,dst){utfx.UTF16toUTF8(src,function(cp){utfx.encodeUTF8(cp,dst)})},utfx.decodeUTF8toUTF16=function(src,dst){utfx.decodeUTF8(src,function(cp){utfx.UTF8toUTF16(cp,dst)})},utfx.calculateCodePoint=function(cp){return 128>cp?1:2048>cp?2:65536>cp?3:4},utfx.calculateUTF8=function(src){for(var cp,l=0;null!==(cp=src());)l+=utfx.calculateCodePoint(cp);return l},utfx.calculateUTF16asUTF8=function(src){var n=0,l=0;return utfx.UTF16toUTF8(src,function(cp){++n,l+=utfx.calculateCodePoint(cp)}),[n,l]},utfx}();return ByteBufferPrototype.toUTF8=function(begin,end){if("undefined"==typeof begin&&(begin=this.offset),"undefined"==typeof end&&(end=this.limit),!this.noAssert){if("number"!=typeof begin||begin%1!==0)throw TypeError("Illegal begin: Not an integer");if(begin>>>=0,"number"!=typeof end||end%1!==0)throw TypeError("Illegal end: Not an integer");if(end>>>=0,0>begin||begin>end||end>this.buffer.length)throw RangeError("Illegal range: 0 <= "+begin+" <= "+end+" <= "+this.buffer.length)}return this.buffer.toString("utf8",begin,end)},ByteBuffer.fromUTF8=function(str,littleEndian,noAssert){if(!noAssert&&"string"!=typeof str)throw TypeError("Illegal str: Not a string");var bb=new ByteBuffer(0,littleEndian,noAssert);return bb.buffer=new Buffer(str,"utf8"),bb.limit=bb.buffer.length,bb},ByteBuffer.memcpy=memcpy,ByteBuffer}()},{buffer:17,long:224,memcpy:void 0}],223:[function(require,module,exports){!function(global){"use strict";var Long=function(low,high,unsigned){this.low=0|low,this.high=0|high,this.unsigned=!!unsigned};Long.isLong=function(obj){return(obj&&obj instanceof Long)===!0};var INT_CACHE={},UINT_CACHE={};Long.fromInt=function(value,unsigned){var obj,cachedObj;return unsigned?(value>>>=0,value>=0&&256>value&&(cachedObj=UINT_CACHE[value])?cachedObj:(obj=new Long(value,0>(0|value)?-1:0,!0),value>=0&&256>value&&(UINT_CACHE[value]=obj),obj)):(value=0|value,value>=-128&&128>value&&(cachedObj=INT_CACHE[value])?cachedObj:(obj=new Long(value,0>value?-1:0,!1),value>=-128&&128>value&&(INT_CACHE[value]=obj),obj))},Long.fromNumber=function(value,unsigned){return unsigned=!!unsigned,isNaN(value)||!isFinite(value)?Long.ZERO:!unsigned&&-TWO_PWR_63_DBL>=value?Long.MIN_VALUE:!unsigned&&value+1>=TWO_PWR_63_DBL?Long.MAX_VALUE:unsigned&&value>=TWO_PWR_64_DBL?Long.MAX_UNSIGNED_VALUE:0>value?Long.fromNumber(-value,unsigned).negate():new Long(value%TWO_PWR_32_DBL|0,value/TWO_PWR_32_DBL|0,unsigned)},Long.fromBits=function(lowBits,highBits,unsigned){return new Long(lowBits,highBits,unsigned)},Long.fromString=function(str,unsigned,radix){if(0===str.length)throw Error("number format error: empty string");if("NaN"===str||"Infinity"===str||"+Infinity"===str||"-Infinity"===str)return Long.ZERO;if("number"==typeof unsigned&&(radix=unsigned,unsigned=!1),radix=radix||10,2>radix||radix>36)throw Error("radix out of range: "+radix);var p;if((p=str.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+str);if(0===p)return Long.fromString(str.substring(1),unsigned,radix).negate();for(var radixToPower=Long.fromNumber(Math.pow(radix,8)),result=Long.ZERO,i=0;i<str.length;i+=8){var size=Math.min(8,str.length-i),value=parseInt(str.substring(i,i+size),radix);if(8>size){var power=Long.fromNumber(Math.pow(radix,size));result=result.multiply(power).add(Long.fromNumber(value))}else result=result.multiply(radixToPower),result=result.add(Long.fromNumber(value))}return result.unsigned=unsigned,result},Long.fromValue=function(val){return"number"==typeof val?Long.fromNumber(val):"string"==typeof val?Long.fromString(val):Long.isLong(val)?val:new Long(val.low,val.high,val.unsigned)};var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=Long.fromInt(TWO_PWR_24_DBL);Long.ZERO=Long.fromInt(0),Long.UZERO=Long.fromInt(0,!0),Long.ONE=Long.fromInt(1),Long.UONE=Long.fromInt(1,!0),Long.NEG_ONE=Long.fromInt(-1),Long.MAX_VALUE=Long.fromBits(-1,2147483647,!1),Long.MAX_UNSIGNED_VALUE=Long.fromBits(-1,-1,!0),Long.MIN_VALUE=Long.fromBits(0,-2147483648,!1),Long.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},Long.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},Long.prototype.toString=function(radix){if(radix=radix||10,2>radix||radix>36)throw RangeError("radix out of range: "+radix);if(this.isZero())return"0";var rem;if(this.isNegative()){if(this.equals(Long.MIN_VALUE)){var radixLong=Long.fromNumber(radix),div=this.div(radixLong);return rem=div.multiply(radixLong).subtract(this),div.toString(radix)+rem.toInt().toString(radix)}return"-"+this.negate().toString(radix)}var radixToPower=Long.fromNumber(Math.pow(radix,6),this.unsigned);rem=this;for(var result="";;){var remDiv=rem.div(radixToPower),intval=rem.subtract(remDiv.multiply(radixToPower)).toInt()>>>0,digits=intval.toString(radix);if(rem=remDiv,rem.isZero())return digits+result;for(;digits.length<6;)digits="0"+digits;result=""+digits+result}},Long.prototype.getHighBits=function(){return this.high},Long.prototype.getHighBitsUnsigned=function(){return this.high>>>0},Long.prototype.getLowBits=function(){return this.low},Long.prototype.getLowBitsUnsigned=function(){return this.low>>>0},Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var val=0!=this.high?this.high:this.low,bit=31;bit>0&&0==(val&1<<bit);bit--);return 0!=this.high?bit+33:bit+1},Long.prototype.isZero=function(){return 0===this.high&&0===this.low},Long.prototype.isNegative=function(){return!this.unsigned&&this.high<0},Long.prototype.isPositive=function(){return this.unsigned||this.high>=0},Long.prototype.isOdd=function(){return 1===(1&this.low)},Long.prototype.isEven=function(){return 0===(1&this.low)},Long.prototype.equals=function(other){return Long.isLong(other)||(other=Long.fromValue(other)),this.unsigned!==other.unsigned&&this.high>>>31===1&&other.high>>>31===1?!1:this.high===other.high&&this.low===other.low},Long.prototype.notEquals=function(other){return Long.isLong(other)||(other=Long.fromValue(other)),!this.equals(other)},Long.prototype.lessThan=function(other){return Long.isLong(other)||(other=Long.fromValue(other)),this.compare(other)<0},Long.prototype.lessThanOrEqual=function(other){return Long.isLong(other)||(other=Long.fromValue(other)),this.compare(other)<=0},Long.prototype.greaterThan=function(other){return Long.isLong(other)||(other=Long.fromValue(other)),this.compare(other)>0},Long.prototype.greaterThanOrEqual=function(other){return this.compare(other)>=0},Long.prototype.compare=function(other){if(this.equals(other))return 0;var thisNeg=this.isNegative(),otherNeg=other.isNegative();return thisNeg&&!otherNeg?-1:!thisNeg&&otherNeg?1:this.unsigned?other.high>>>0>this.high>>>0||other.high===this.high&&other.low>>>0>this.low>>>0?-1:1:this.subtract(other).isNegative()?-1:1},Long.prototype.negate=function(){return!this.unsigned&&this.equals(Long.MIN_VALUE)?Long.MIN_VALUE:this.not().add(Long.ONE)},Long.prototype.add=function(addend){Long.isLong(addend)||(addend=Long.fromValue(addend));var a48=this.high>>>16,a32=65535&this.high,a16=this.low>>>16,a00=65535&this.low,b48=addend.high>>>16,b32=65535&addend.high,b16=addend.low>>>16,b00=65535&addend.low,c48=0,c32=0,c16=0,c00=0;return c00+=a00+b00,c16+=c00>>>16,c00&=65535,c16+=a16+b16,c32+=c16>>>16,c16&=65535,c32+=a32+b32,c48+=c32>>>16,c32&=65535,c48+=a48+b48,c48&=65535,Long.fromBits(c16<<16|c00,c48<<16|c32,this.unsigned)},Long.prototype.subtract=function(subtrahend){return Long.isLong(subtrahend)||(subtrahend=Long.fromValue(subtrahend)),this.add(subtrahend.negate())},Long.prototype.multiply=function(multiplier){if(this.isZero())return Long.ZERO;if(Long.isLong(multiplier)||(multiplier=Long.fromValue(multiplier)),multiplier.isZero())return Long.ZERO;if(this.equals(Long.MIN_VALUE))return multiplier.isOdd()?Long.MIN_VALUE:Long.ZERO;if(multiplier.equals(Long.MIN_VALUE))return this.isOdd()?Long.MIN_VALUE:Long.ZERO;if(this.isNegative())return multiplier.isNegative()?this.negate().multiply(multiplier.negate()):this.negate().multiply(multiplier).negate();if(multiplier.isNegative())return this.multiply(multiplier.negate()).negate();if(this.lessThan(TWO_PWR_24)&&multiplier.lessThan(TWO_PWR_24))return Long.fromNumber(this.toNumber()*multiplier.toNumber(),this.unsigned);var a48=this.high>>>16,a32=65535&this.high,a16=this.low>>>16,a00=65535&this.low,b48=multiplier.high>>>16,b32=65535&multiplier.high,b16=multiplier.low>>>16,b00=65535&multiplier.low,c48=0,c32=0,c16=0,c00=0;return c00+=a00*b00,c16+=c00>>>16,c00&=65535,c16+=a16*b00,c32+=c16>>>16,c16&=65535,c16+=a00*b16,c32+=c16>>>16,c16&=65535,c32+=a32*b00,c48+=c32>>>16,c32&=65535,c32+=a16*b16,c48+=c32>>>16,c32&=65535,c32+=a00*b32,c48+=c32>>>16,c32&=65535,c48+=a48*b00+a32*b16+a16*b32+a00*b48,c48&=65535,Long.fromBits(c16<<16|c00,c48<<16|c32,this.unsigned)},Long.prototype.div=function(divisor){if(Long.isLong(divisor)||(divisor=Long.fromValue(divisor)),divisor.isZero())throw new Error("division by zero");if(this.isZero())return this.unsigned?Long.UZERO:Long.ZERO;var approx,rem,res;if(this.equals(Long.MIN_VALUE)){if(divisor.equals(Long.ONE)||divisor.equals(Long.NEG_ONE))return Long.MIN_VALUE;if(divisor.equals(Long.MIN_VALUE))return Long.ONE;var halfThis=this.shiftRight(1);return approx=halfThis.div(divisor).shiftLeft(1),approx.equals(Long.ZERO)?divisor.isNegative()?Long.ONE:Long.NEG_ONE:(rem=this.subtract(divisor.multiply(approx)),res=approx.add(rem.div(divisor)))}if(divisor.equals(Long.MIN_VALUE))return this.unsigned?Long.UZERO:Long.ZERO;if(this.isNegative())return divisor.isNegative()?this.negate().div(divisor.negate()):this.negate().div(divisor).negate();if(divisor.isNegative())return this.div(divisor.negate()).negate();for(res=Long.ZERO,rem=this;rem.greaterThanOrEqual(divisor);){approx=Math.max(1,Math.floor(rem.toNumber()/divisor.toNumber()));for(var log2=Math.ceil(Math.log(approx)/Math.LN2),delta=48>=log2?1:Math.pow(2,log2-48),approxRes=Long.fromNumber(approx),approxRem=approxRes.multiply(divisor);approxRem.isNegative()||approxRem.greaterThan(rem);)approx-=delta,approxRes=Long.fromNumber(approx,this.unsigned),approxRem=approxRes.multiply(divisor);approxRes.isZero()&&(approxRes=Long.ONE),res=res.add(approxRes),rem=rem.subtract(approxRem)}return res},Long.prototype.modulo=function(divisor){return Long.isLong(divisor)||(divisor=Long.fromValue(divisor)),this.subtract(this.div(divisor).multiply(divisor))},Long.prototype.not=function(){return Long.fromBits(~this.low,~this.high,this.unsigned)},Long.prototype.and=function(other){return Long.isLong(other)||(other=Long.fromValue(other)),Long.fromBits(this.low&other.low,this.high&other.high,this.unsigned)},Long.prototype.or=function(other){return Long.isLong(other)||(other=Long.fromValue(other)),Long.fromBits(this.low|other.low,this.high|other.high,this.unsigned)},Long.prototype.xor=function(other){return Long.isLong(other)||(other=Long.fromValue(other)),Long.fromBits(this.low^other.low,this.high^other.high,this.unsigned)},Long.prototype.shiftLeft=function(numBits){return Long.isLong(numBits)&&(numBits=numBits.toInt()),0===(numBits&=63)?this:32>numBits?Long.fromBits(this.low<<numBits,this.high<<numBits|this.low>>>32-numBits,this.unsigned):Long.fromBits(0,this.low<<numBits-32,this.unsigned)},Long.prototype.shiftRight=function(numBits){return Long.isLong(numBits)&&(numBits=numBits.toInt()),0===(numBits&=63)?this:32>numBits?Long.fromBits(this.low>>>numBits|this.high<<32-numBits,this.high>>numBits,this.unsigned):Long.fromBits(this.high>>numBits-32,this.high>=0?0:-1,this.unsigned)},Long.prototype.shiftRightUnsigned=function(numBits){if(Long.isLong(numBits)&&(numBits=numBits.toInt()),numBits&=63,0===numBits)return this;var high=this.high;if(32>numBits){var low=this.low;return Long.fromBits(low>>>numBits|high<<32-numBits,high>>>numBits,this.unsigned)}return 32===numBits?Long.fromBits(high,0,this.unsigned):Long.fromBits(high>>>numBits-32,0,this.unsigned)},Long.prototype.toSigned=function(){return this.unsigned?new Long(this.low,this.high,!1):this},Long.prototype.toUnsigned=function(){return this.unsigned?this:new Long(this.low,this.high,!0)},"function"==typeof require&&"object"==typeof module&&module&&"object"==typeof exports&&exports?module.exports=Long:"function"==typeof define&&define.amd?define(function(){return Long}):(global.dcodeIO=global.dcodeIO||{}).Long=Long}(this)},{}],224:[function(require,module){module.exports=require("./dist/Long.js")},{"./dist/Long.js":223}],225:[function(require,module,exports){!function(global){"use strict";function init(ByteBuffer){var ProtoBuf={};return ProtoBuf.VERSION="4.0.0-b2",ProtoBuf.WIRE_TYPES={},ProtoBuf.WIRE_TYPES.VARINT=0,ProtoBuf.WIRE_TYPES.BITS64=1,ProtoBuf.WIRE_TYPES.LDELIM=2,ProtoBuf.WIRE_TYPES.STARTGROUP=3,ProtoBuf.WIRE_TYPES.ENDGROUP=4,ProtoBuf.WIRE_TYPES.BITS32=5,ProtoBuf.PACKABLE_WIRE_TYPES=[ProtoBuf.WIRE_TYPES.VARINT,ProtoBuf.WIRE_TYPES.BITS64,ProtoBuf.WIRE_TYPES.BITS32],ProtoBuf.TYPES={int32:{name:"int32",wireType:ProtoBuf.WIRE_TYPES.VARINT},uint32:{name:"uint32",wireType:ProtoBuf.WIRE_TYPES.VARINT},sint32:{name:"sint32",wireType:ProtoBuf.WIRE_TYPES.VARINT},int64:{name:"int64",wireType:ProtoBuf.WIRE_TYPES.VARINT},uint64:{name:"uint64",wireType:ProtoBuf.WIRE_TYPES.VARINT},sint64:{name:"sint64",wireType:ProtoBuf.WIRE_TYPES.VARINT},bool:{name:"bool",wireType:ProtoBuf.WIRE_TYPES.VARINT},double:{name:"double",wireType:ProtoBuf.WIRE_TYPES.BITS64},string:{name:"string",wireType:ProtoBuf.WIRE_TYPES.LDELIM},bytes:{name:"bytes",wireType:ProtoBuf.WIRE_TYPES.LDELIM},fixed32:{name:"fixed32",wireType:ProtoBuf.WIRE_TYPES.BITS32},sfixed32:{name:"sfixed32",wireType:ProtoBuf.WIRE_TYPES.BITS32},fixed64:{name:"fixed64",wireType:ProtoBuf.WIRE_TYPES.BITS64},sfixed64:{name:"sfixed64",wireType:ProtoBuf.WIRE_TYPES.BITS64},float:{name:"float",wireType:ProtoBuf.WIRE_TYPES.BITS32},enum:{name:"enum",wireType:ProtoBuf.WIRE_TYPES.VARINT},message:{name:"message",wireType:ProtoBuf.WIRE_TYPES.LDELIM},group:{name:"group",wireType:ProtoBuf.WIRE_TYPES.STARTGROUP}},ProtoBuf.ID_MIN=1,ProtoBuf.ID_MAX=536870911,ProtoBuf.ByteBuffer=ByteBuffer,ProtoBuf.Long=ByteBuffer.Long||null,ProtoBuf.convertFieldsToCamelCase=!1,ProtoBuf.populateAccessors=!0,ProtoBuf.Util=function(){Object.create||(Object.create=function(o){function F(){}if(arguments.length>1)throw Error("Object.create polyfill only accepts the first parameter.");return F.prototype=o,new F});var Util={};Util.IS_NODE=!1;try{Util.IS_NODE="function"==typeof require&&"function"==typeof require("my-fs").readFileSync&&"function"==typeof require("path").resolve}catch(e){}return Util.XHR=function(){for(var XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],xhr=null,i=0;i<XMLHttpFactories.length;i++){try{xhr=XMLHttpFactories[i]()}catch(e){continue}break}if(!xhr)throw Error("XMLHttpRequest is not supported");return xhr},Util.fetch=function(path,callback){if(callback&&"function"!=typeof callback&&(callback=null),Util.IS_NODE)if(callback)require("my-fs").readFile(path,function(err,data){callback(err?null:""+data)});else try{return require("my-fs").readFileSync(path)}catch(e){return null}else{var xhr=Util.XHR();if(xhr.open("GET",path,callback?!0:!1),xhr.setRequestHeader("Accept","text/plain"),"function"==typeof xhr.overrideMimeType&&xhr.overrideMimeType("text/plain"),!callback)return xhr.send(null),200==xhr.status||0==xhr.status&&"string"==typeof xhr.responseText?xhr.responseText:null;if(xhr.onreadystatechange=function(){4==xhr.readyState&&callback(200==xhr.status||0==xhr.status&&"string"==typeof xhr.responseText?xhr.responseText:null)},4==xhr.readyState)return;xhr.send(null)}},Util.isArray=Array.isArray||function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},Util}(),ProtoBuf.Lang={OPEN:"{",CLOSE:"}",OPTOPEN:"[",OPTCLOSE:"]",OPTEND:",",EQUAL:"=",END:";",STRINGOPEN:'"',STRINGCLOSE:'"',STRINGOPEN_SQ:"'",STRINGCLOSE_SQ:"'",COPTOPEN:"(",COPTCLOSE:")",DELIM:/[\s\{\}=;\[\],'"\(\)]/g,RULE:/^(?:required|optional|repeated)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0x[0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0x[0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,ID:/^(?:[1-9][0-9]*|0|0x[0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0x[0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,BOOL:/^(?:true|false)$/i},ProtoBuf.DotProto=function(ProtoBuf,Lang){var DotProto={},Tokenizer=function(proto){this.source=""+proto,this.index=0,this.line=1,this.stack=[],this.readingString=!1,this.stringEndsWith=Lang.STRINGCLOSE},TokenizerPrototype=Tokenizer.prototype;TokenizerPrototype._readString=function(){Lang.STRING.lastIndex=this.index-1;var match;if(null!==(match=Lang.STRING.exec(this.source))){var s="undefined"!=typeof match[1]?match[1]:match[2];return this.index=Lang.STRING.lastIndex,this.stack.push(this.stringEndsWith),s}throw Error("Unterminated string at line "+this.line+", index "+this.index)},TokenizerPrototype.next=function(){if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(this.readingString)return this.readingString=!1,this._readString();var repeat,last;do{for(repeat=!1;Lang.WHITESPACE.test(last=this.source.charAt(this.index));)if(this.index++,"\n"===last&&this.line++,this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if("/"===this.source.charAt(++this.index)){for(;"\n"!==this.source.charAt(this.index);)if(this.index++,this.index==this.source.length)return null;this.index++,this.line++,repeat=!0}else{if("*"!==this.source.charAt(this.index))throw Error("Unterminated comment at line "+this.line+": /"+this.source.charAt(this.index));for(last="";last+(last=this.source.charAt(this.index))!=="*/";)if(this.index++,"\n"===last&&this.line++,this.index===this.source.length)return null;this.index++,repeat=!0}}while(repeat);if(this.index===this.source.length)return null;var end=this.index;Lang.DELIM.lastIndex=0;var delim=Lang.DELIM.test(this.source.charAt(end));if(delim)++end;else for(++end;end<this.source.length&&!Lang.DELIM.test(this.source.charAt(end));)end++;var token=this.source.substring(this.index,this.index=end);return token===Lang.STRINGOPEN?(this.readingString=!0,this.stringEndsWith=Lang.STRINGCLOSE):token===Lang.STRINGOPEN_SQ&&(this.readingString=!0,this.stringEndsWith=Lang.STRINGCLOSE_SQ),token},TokenizerPrototype.peek=function(){if(0===this.stack.length){var token=this.next();if(null===token)return null;this.stack.push(token)}return this.stack[0]},TokenizerPrototype.toString=function(){return"Tokenizer("+this.index+"/"+this.source.length+" at line "+this.line+")"},DotProto.Tokenizer=Tokenizer;var Parser=function(proto){this.tn=new Tokenizer(proto)},ParserPrototype=Parser.prototype;return ParserPrototype.parse=function(){for(var token,topLevel={name:"[ROOT]",package:null,messages:[],enums:[],imports:[],options:{},services:[]},head=!0;token=this.tn.next();)switch(token){case"package":if(!head||null!==topLevel.package)throw Error("Unexpected package at line "+this.tn.line);topLevel.package=this._parsePackage(token);break;case"import":if(!head)throw Error("Unexpected import at line "+this.tn.line);topLevel.imports.push(this._parseImport(token));break;case"message":this._parseMessage(topLevel,null,token),head=!1;break;case"enum":this._parseEnum(topLevel,token),head=!1;break;case"option":this._parseOption(topLevel,token);break;case"service":this._parseService(topLevel,token);break;case"extend":this._parseExtend(topLevel,token);break;case"syntax":this._parseIgnoredStatement(topLevel,token);break;default:throw Error("Unexpected token at line "+this.tn.line+": "+token)}return delete topLevel.name,topLevel},ParserPrototype._parseNumber=function(val){var sign=1;if("-"==val.charAt(0)&&(sign=-1,val=val.substring(1)),Lang.NUMBER_DEC.test(val))return sign*parseInt(val,10);if(Lang.NUMBER_HEX.test(val))return sign*parseInt(val.substring(2),16);if(Lang.NUMBER_OCT.test(val))return sign*parseInt(val.substring(1),8);if(Lang.NUMBER_FLT.test(val))return"inf"===val?sign*(1/0):"nan"===val?0/0:sign*parseFloat(val);throw Error("Illegal number at line "+this.tn.line+": "+(0>sign?"-":"")+val)},ParserPrototype._parseString=function(){var token,delim,value="";do{if(delim=this.tn.next(),value+=this.tn.next(),token=this.tn.next(),token!==delim)throw Error("Illegal end of string at line "+this.tn.line+": "+token);token=this.tn.peek()}while(token===Lang.STRINGOPEN||token===Lang.STRINGOPEN_SQ);return value},ParserPrototype._parseId=function(val,neg){var id=-1,sign=1;if("-"==val.charAt(0)&&(sign=-1,val=val.substring(1)),Lang.NUMBER_DEC.test(val))id=parseInt(val);else if(Lang.NUMBER_HEX.test(val))id=parseInt(val.substring(2),16);else{if(!Lang.NUMBER_OCT.test(val))throw Error("Illegal id at line "+this.tn.line+": "+(0>sign?"-":"")+val);id=parseInt(val.substring(1),8)}if(id=sign*id|0,!neg&&0>id)throw Error("Illegal id at line "+this.tn.line+": "+(0>sign?"-":"")+val);return id},ParserPrototype._parsePackage=function(token){if(token=this.tn.next(),!Lang.TYPEREF.test(token))throw Error("Illegal package name at line "+this.tn.line+": "+token);var pkg=token;if(token=this.tn.next(),token!=Lang.END)throw Error("Illegal end of package at line "+this.tn.line+": "+token);return pkg},ParserPrototype._parseImport=function(token){if(token=this.tn.peek(),"public"===token&&(this.tn.next(),token=this.tn.peek()),token!==Lang.STRINGOPEN&&token!==Lang.STRINGOPEN_SQ)throw Error("Illegal start of import at line "+this.tn.line+": "+token);var imported=this._parseString();if(token=this.tn.next(),token!==Lang.END)throw Error("Illegal end of import at line "+this.tn.line+": "+token);return imported},ParserPrototype._parseOption=function(parent,token){token=this.tn.next();var custom=!1;if(token==Lang.COPTOPEN&&(custom=!0,token=this.tn.next()),!Lang.TYPEREF.test(token)&&!/google\.protobuf\./.test(token))throw Error("Illegal option name in message "+parent.name+" at line "+this.tn.line+": "+token);var name=token;if(token=this.tn.next(),custom){if(token!==Lang.COPTCLOSE)throw Error("Illegal end in message "+parent.name+", option "+name+" at line "+this.tn.line+": "+token);name="("+name+")",token=this.tn.next(),Lang.FQTYPEREF.test(token)&&(name+=token,token=this.tn.next())}if(token!==Lang.EQUAL)throw Error("Illegal operator in message "+parent.name+", option "+name+" at line "+this.tn.line+": "+token);var value;if(token=this.tn.peek(),token===Lang.STRINGOPEN||token===Lang.STRINGOPEN_SQ)value=this._parseString();else if(this.tn.next(),Lang.NUMBER.test(token))value=this._parseNumber(token,!0);else if(Lang.BOOL.test(token))value="true"===token;else{if(!Lang.TYPEREF.test(token))throw Error("Illegal option value in message "+parent.name+", option "+name+" at line "+this.tn.line+": "+token);value=token}if(token=this.tn.next(),token!==Lang.END)throw Error("Illegal end of option in message "+parent.name+", option "+name+" at line "+this.tn.line+": "+token);parent.options[name]=value},ParserPrototype._parseIgnoredStatement=function(parent,keyword){for(var token;;){if(token=this.tn.next(),null===token)throw Error("Unexpected EOF in "+parent.name+", "+keyword+" at line "+this.tn.line);if(token===Lang.END)break}},ParserPrototype._parseService=function(parent,token){if(token=this.tn.next(),!Lang.NAME.test(token))throw Error("Illegal service name at line "+this.tn.line+": "+token);var name=token,svc={name:name,rpc:{},options:{}};if(token=this.tn.next(),token!==Lang.OPEN)throw Error("Illegal start of service "+name+" at line "+this.tn.line+": "+token);do if(token=this.tn.next(),"option"===token)this._parseOption(svc,token);else if("rpc"===token)this._parseServiceRPC(svc,token);else if(token!==Lang.CLOSE)throw Error("Illegal type of service "+name+" at line "+this.tn.line+": "+token);while(token!==Lang.CLOSE);parent.services.push(svc)},ParserPrototype._parseServiceRPC=function(svc,token){var type=token;if(token=this.tn.next(),!Lang.NAME.test(token))throw Error("Illegal method name in service "+svc.name+" at line "+this.tn.line+": "+token);var name=token,method={request:null,response:null,request_stream:!1,response_stream:!1,options:{}};if(token=this.tn.next(),token!==Lang.COPTOPEN)throw Error("Illegal start of request type in service "+svc.name+"#"+name+" at line "+this.tn.line+": "+token);if(token=this.tn.next(),"stream"===token.toLowerCase()&&(method.request_stream=!0,token=this.tn.next()),!Lang.TYPEREF.test(token))throw Error("Illegal request type in service "+svc.name+"#"+name+" at line "+this.tn.line+": "+token);if(method.request=token,token=this.tn.next(),token!=Lang.COPTCLOSE)throw Error("Illegal end of request type in service "+svc.name+"#"+name+" at line "+this.tn.line+": "+token);if(token=this.tn.next(),"returns"!==token.toLowerCase())throw Error("Illegal delimiter in service "+svc.name+"#"+name+" at line "+this.tn.line+": "+token);if(token=this.tn.next(),token!=Lang.COPTOPEN)throw Error("Illegal start of response type in service "+svc.name+"#"+name+" at line "+this.tn.line+": "+token);if(token=this.tn.next(),"stream"===token.toLowerCase()&&(method.response_stream=!0,token=this.tn.next()),method.response=token,token=this.tn.next(),token!==Lang.COPTCLOSE)throw Error("Illegal end of response type in service "+svc.name+"#"+name+" at line "+this.tn.line+": "+token);if(token=this.tn.next(),token===Lang.OPEN){do if(token=this.tn.next(),"option"===token)this._parseOption(method,token);else if(token!==Lang.CLOSE)throw Error("Illegal start of option inservice "+svc.name+"#"+name+" at line "+this.tn.line+": "+token);while(token!==Lang.CLOSE);this.tn.peek()===Lang.END&&this.tn.next()}else if(token!==Lang.END)throw Error("Illegal delimiter in service "+svc.name+"#"+name+" at line "+this.tn.line+": "+token);"undefined"==typeof svc[type]&&(svc[type]={}),svc[type][name]=method},ParserPrototype._parseMessage=function(parent,fld,token){var msg={},isGroup="group"===token;if(token=this.tn.next(),!Lang.NAME.test(token))throw Error("Illegal "+(isGroup?"group":"message")+" name"+(parent?" in message "+parent.name:"")+" at line "+this.tn.line+": "+token);if(msg.name=token,isGroup){if(token=this.tn.next(),token!==Lang.EQUAL)throw Error("Illegal id assignment after group "+msg.name+" at line "+this.tn.line+": "+token);token=this.tn.next();try{fld.id=this._parseId(token)}catch(e){throw Error("Illegal field id value for group "+msg.name+"#"+fld.name+" at line "+this.tn.line+": "+token)}msg.isGroup=!0}if(msg.fields=[],msg.enums=[],msg.messages=[],msg.options={},msg.oneofs={},token=this.tn.next(),token===Lang.OPTOPEN&&fld&&(this._parseFieldOptions(msg,fld,token),
token=this.tn.next()),token!==Lang.OPEN)throw Error("Illegal start of "+(isGroup?"group":"message")+" "+msg.name+" at line "+this.tn.line+": "+token);for(;;){if(token=this.tn.next(),token===Lang.CLOSE){token=this.tn.peek(),token===Lang.END&&this.tn.next();break}if(Lang.RULE.test(token))this._parseMessageField(msg,token);else if("oneof"===token)this._parseMessageOneOf(msg,token);else if("enum"===token)this._parseEnum(msg,token);else if("message"===token)this._parseMessage(msg,null,token);else if("option"===token)this._parseOption(msg,token);else if("extensions"===token)msg.extensions=this._parseExtensions(msg,token);else{if("extend"!==token)throw Error("Illegal token in message "+msg.name+" at line "+this.tn.line+": "+token);this._parseExtend(msg,token)}}return parent.messages.push(msg),msg},ParserPrototype._parseMessageField=function(msg,token){var fld={},grp=null;if(fld.rule=token,fld.options={},token=this.tn.next(),"group"===token){if(grp=this._parseMessage(msg,fld,token),!/^[A-Z]/.test(grp.name))throw Error("Group names must start with a capital letter");fld.type=grp.name,fld.name=grp.name.toLowerCase(),token=this.tn.peek(),token===Lang.END&&this.tn.next()}else{if(!Lang.TYPE.test(token)&&!Lang.TYPEREF.test(token))throw Error("Illegal field type in message "+msg.name+" at line "+this.tn.line+": "+token);if(fld.type=token,token=this.tn.next(),!Lang.NAME.test(token))throw Error("Illegal field name in message "+msg.name+" at line "+this.tn.line+": "+token);if(fld.name=token,token=this.tn.next(),token!==Lang.EQUAL)throw Error("Illegal token in field "+msg.name+"#"+fld.name+" at line "+this.tn.line+": "+token);token=this.tn.next();try{fld.id=this._parseId(token)}catch(e){throw Error("Illegal field id in message "+msg.name+"#"+fld.name+" at line "+this.tn.line+": "+token)}if(token=this.tn.next(),token===Lang.OPTOPEN&&(this._parseFieldOptions(msg,fld,token),token=this.tn.next()),token!==Lang.END)throw Error("Illegal delimiter in message "+msg.name+"#"+fld.name+" at line "+this.tn.line+": "+token)}return msg.fields.push(fld),fld},ParserPrototype._parseMessageOneOf=function(msg,token){if(token=this.tn.next(),!Lang.NAME.test(token))throw Error("Illegal oneof name in message "+msg.name+" at line "+this.tn.line+": "+token);var fld,name=token,fields=[];if(token=this.tn.next(),token!==Lang.OPEN)throw Error("Illegal start of oneof "+name+" at line "+this.tn.line+": "+token);for(;this.tn.peek()!==Lang.CLOSE;)fld=this._parseMessageField(msg,"optional"),fld.oneof=name,fields.push(fld.id);this.tn.next(),msg.oneofs[name]=fields},ParserPrototype._parseFieldOptions=function(msg,fld,token){for(var first=!0;;){if(token=this.tn.next(),token===Lang.OPTCLOSE)break;if(token===Lang.OPTEND){if(first)throw Error("Illegal start of options in message "+msg.name+"#"+fld.name+" at line "+this.tn.line+": "+token);token=this.tn.next()}this._parseFieldOption(msg,fld,token),first=!1}},ParserPrototype._parseFieldOption=function(msg,fld,token){var custom=!1;if(token===Lang.COPTOPEN&&(token=this.tn.next(),custom=!0),!Lang.TYPEREF.test(token))throw Error("Illegal field option in "+msg.name+"#"+fld.name+" at line "+this.tn.line+": "+token);var name=token;if(token=this.tn.next(),custom){if(token!==Lang.COPTCLOSE)throw Error("Illegal delimiter in "+msg.name+"#"+fld.name+" at line "+this.tn.line+": "+token);name="("+name+")",token=this.tn.next(),Lang.FQTYPEREF.test(token)&&(name+=token,token=this.tn.next())}if(token!==Lang.EQUAL)throw Error("Illegal token in "+msg.name+"#"+fld.name+" at line "+this.tn.line+": "+token);var value;if(token=this.tn.peek(),token===Lang.STRINGOPEN||token===Lang.STRINGOPEN_SQ)value=this._parseString();else if(Lang.NUMBER.test(token,!0))value=this._parseNumber(this.tn.next(),!0);else if(Lang.BOOL.test(token))value="true"===this.tn.next().toLowerCase();else{if(!Lang.TYPEREF.test(token))throw Error("Illegal value in message "+msg.name+"#"+fld.name+", option "+name+" at line "+this.tn.line+": "+token);value=this.tn.next()}fld.options[name]=value},ParserPrototype._parseEnum=function(msg,token){var enm={};if(token=this.tn.next(),!Lang.NAME.test(token))throw Error("Illegal enum name in message "+msg.name+" at line "+this.tn.line+": "+token);if(enm.name=token,token=this.tn.next(),token!==Lang.OPEN)throw Error("Illegal start of enum "+enm.name+" at line "+this.tn.line+": "+token);for(enm.values=[],enm.options={};;){if(token=this.tn.next(),token===Lang.CLOSE){token=this.tn.peek(),token===Lang.END&&this.tn.next();break}if("option"==token)this._parseOption(enm,token);else{if(!Lang.NAME.test(token))throw Error("Illegal name in enum "+enm.name+" at line "+this.tn.line+": "+token);this._parseEnumValue(enm,token)}}msg.enums.push(enm)},ParserPrototype._parseEnumValue=function(enm,token){var val={};if(val.name=token,token=this.tn.next(),token!==Lang.EQUAL)throw Error("Illegal token in enum "+enm.name+" at line "+this.tn.line+": "+token);token=this.tn.next();try{val.id=this._parseId(token,!0)}catch(e){throw Error("Illegal id in enum "+enm.name+" at line "+this.tn.line+": "+token)}if(enm.values.push(val),token=this.tn.next(),token===Lang.OPTOPEN){var opt={options:{}};this._parseFieldOptions(enm,opt,token),token=this.tn.next()}if(token!==Lang.END)throw Error("Illegal delimiter in enum "+enm.name+" at line "+this.tn.line+": "+token)},ParserPrototype._parseExtensions=function(msg,token){var range=[];if(token=this.tn.next(),range.push("min"===token?ProtoBuf.ID_MIN:"max"===token?ProtoBuf.ID_MAX:this._parseNumber(token)),token=this.tn.next(),"to"!==token)throw Error("Illegal extensions delimiter in message "+msg.name+" at line "+this.tn.line+": "+token);if(token=this.tn.next(),range.push("min"===token?ProtoBuf.ID_MIN:"max"===token?ProtoBuf.ID_MAX:this._parseNumber(token)),token=this.tn.next(),token!==Lang.END)throw Error("Illegal extensions delimiter in message "+msg.name+" at line "+this.tn.line+": "+token);return range},ParserPrototype._parseExtend=function(parent,token){if(token=this.tn.next(),!Lang.TYPEREF.test(token))throw Error("Illegal message name at line "+this.tn.line+": "+token);var ext={};if(ext.ref=token,ext.fields=[],token=this.tn.next(),token!==Lang.OPEN)throw Error("Illegal start of extend "+ext.name+" at line "+this.tn.line+": "+token);for(;;){if(token=this.tn.next(),token===Lang.CLOSE){token=this.tn.peek(),token==Lang.END&&this.tn.next();break}if(!Lang.RULE.test(token))throw Error("Illegal token in extend "+ext.name+" at line "+this.tn.line+": "+token);this._parseMessageField(ext,token)}return parent.messages.push(ext),ext},ParserPrototype.toString=function(){return"Parser"},DotProto.Parser=Parser,DotProto}(ProtoBuf,ProtoBuf.Lang),ProtoBuf.Reflect=function(ProtoBuf){function skipTillGroupEnd(expectedId,buf){var tag=buf.readVarint32(),wireType=7&tag,id=tag>>3;switch(wireType){case ProtoBuf.WIRE_TYPES.VARINT:do tag=buf.readUint8();while(128===(128&tag));break;case ProtoBuf.WIRE_TYPES.BITS64:buf.offset+=8;break;case ProtoBuf.WIRE_TYPES.LDELIM:tag=buf.readVarint32(),buf.offset+=tag;break;case ProtoBuf.WIRE_TYPES.STARTGROUP:skipTillGroupEnd(id,buf);break;case ProtoBuf.WIRE_TYPES.ENDGROUP:if(id===expectedId)return!1;throw Error("Illegal GROUPEND after unknown group: "+id+" ("+expectedId+" expected)");case ProtoBuf.WIRE_TYPES.BITS32:buf.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+expectedId+": "+wireType)}return!0}function mkLong(value,unsigned){if(value&&"number"==typeof value.low&&"number"==typeof value.high&&"boolean"==typeof value.unsigned&&value.low===value.low&&value.high===value.high)return new ProtoBuf.Long(value.low,value.high,"undefined"==typeof unsigned?value.unsigned:unsigned);if("string"==typeof value)return ProtoBuf.Long.fromString(value,unsigned||!1,10);if("number"==typeof value)return ProtoBuf.Long.fromNumber(value,unsigned||!1);throw Error("not convertible to Long")}var Reflect={},T=function(builder,parent,name){this.builder=builder,this.parent=parent,this.name=name,this.className},TPrototype=T.prototype;TPrototype.fqn=function(){for(var name=this.name,ptr=this;;){if(ptr=ptr.parent,null==ptr)break;name=ptr.name+"."+name}return name},TPrototype.toString=function(includeClass){return(includeClass?this.className+" ":"")+this.fqn()},TPrototype.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},Reflect.T=T;var Namespace=function(builder,parent,name,options){T.call(this,builder,parent,name),this.className="Namespace",this.children=[],this.options=options||{}},NamespacePrototype=Namespace.prototype=Object.create(T.prototype);NamespacePrototype.getChildren=function(type){if(type=type||null,null==type)return this.children.slice();for(var children=[],i=0,k=this.children.length;k>i;++i)this.children[i]instanceof type&&children.push(this.children[i]);return children},NamespacePrototype.addChild=function(child){var other;if(other=this.getChild(child.name))if(other instanceof Message.Field&&other.name!==other.originalName&&null===this.getChild(other.originalName))other.name=other.originalName;else{if(!(child instanceof Message.Field&&child.name!==child.originalName&&null===this.getChild(child.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+child.name);child.name=child.originalName}this.children.push(child)},NamespacePrototype.getChild=function(nameOrId){for(var key="number"==typeof nameOrId?"id":"name",i=0,k=this.children.length;k>i;++i)if(this.children[i][key]===nameOrId)return this.children[i];return null},NamespacePrototype.resolve=function(qn,excludeFields){var part="string"==typeof qn?qn.split("."):qn,ptr=this,i=0;if(""===part[i]){for(;null!==ptr.parent;)ptr=ptr.parent;i++}var child;do{do{if(child=ptr.getChild(part[i]),!child||!(child instanceof Reflect.T)||excludeFields&&child instanceof Reflect.Message.Field){ptr=null;break}ptr=child,i++}while(i<part.length);if(null!=ptr)break;if(null!==this.parent)return this.parent.resolve(qn,excludeFields)}while(null!=ptr);return ptr},NamespacePrototype.qn=function(t){var part=[],ptr=t;do part.unshift(ptr.name),ptr=ptr.parent;while(null!==ptr);for(var len=1;len<=part.length;len++){var qn=part.slice(part.length-len);if(t===this.resolve(qn))return qn.join(".")}return t.fqn()},NamespacePrototype.build=function(){for(var child,ns={},children=this.children,i=0,k=children.length;k>i;++i)child=children[i],child instanceof Namespace&&(ns[child.name]=child.build());return Object.defineProperty&&Object.defineProperty(ns,"$options",{value:this.buildOpt()}),ns},NamespacePrototype.buildOpt=function(){for(var opt={},keys=Object.keys(this.options),i=0,k=keys.length;k>i;++i){var key=keys[i],val=this.options[keys[i]];opt[key]=val}return opt},NamespacePrototype.getOption=function(name){return"undefined"==typeof name?this.options:"undefined"!=typeof this.options[name]?this.options[name]:null},Reflect.Namespace=Namespace;var Message=function(builder,parent,name,options,isGroup){Namespace.call(this,builder,parent,name,options),this.className="Message",this.extensions=[ProtoBuf.ID_MIN,ProtoBuf.ID_MAX],this.clazz=null,this.isGroup=!!isGroup,this._fields=null,this._fieldsById=null,this._fieldsByName=null},MessagePrototype=Message.prototype=Object.create(Namespace.prototype);MessagePrototype.build=function(rebuild){if(this.clazz&&!rebuild)return this.clazz;var clazz=function(ProtoBuf,T){function cloneRaw(obj,includeBinaryAsBase64){var clone={};for(var i in obj)obj.hasOwnProperty(i)&&(null===obj[i]||"object"!=typeof obj[i]?clone[i]=obj[i]:obj[i]instanceof ByteBuffer?includeBinaryAsBase64&&(clone[i]=obj[i].toBase64()):clone[i]=cloneRaw(obj[i],includeBinaryAsBase64));return clone}var fields=T.getChildren(ProtoBuf.Reflect.Message.Field),oneofs=T.getChildren(ProtoBuf.Reflect.Message.OneOf),Message=function(values){ProtoBuf.Builder.Message.call(this);for(var i=0,k=oneofs.length;k>i;++i)this[oneofs[i].name]=null;for(i=0,k=fields.length;k>i;++i){var field=fields[i];this[field.name]=field.repeated?[]:null,field.required&&null!==field.defaultValue&&(this[field.name]=field.defaultValue)}if(arguments.length>0){var value;if(1!==arguments.length||"object"!=typeof values||"function"==typeof values.encode||ProtoBuf.Util.isArray(values)||values instanceof ByteBuffer||values instanceof ArrayBuffer||ProtoBuf.Long&&values instanceof ProtoBuf.Long)for(i=0,k=arguments.length;k>i;++i)"undefined"!=typeof(value=arguments[i])&&this.$set(fields[i].name,value);else this.$set(values)}},MessagePrototype=Message.prototype=Object.create(ProtoBuf.Builder.Message.prototype);MessagePrototype.add=function(key,value,noAssert){var field=T._fieldsByName[key];if(!noAssert){if(!field)throw Error(this+"#"+key+" is undefined");if(!(field instanceof ProtoBuf.Reflect.Message.Field))throw Error(this+"#"+key+" is not a field: "+field.toString(!0));if(!field.repeated)throw Error(this+"#"+key+" is not a repeated field")}null===this[field.name]&&(this[field.name]=[]),this[field.name].push(noAssert?value:field.verifyValue(value,!0))},MessagePrototype.$add=MessagePrototype.add,MessagePrototype.set=function(keyOrObj,value,noAssert){if(keyOrObj&&"object"==typeof keyOrObj){noAssert=value;for(var ikey in keyOrObj)keyOrObj.hasOwnProperty(ikey)&&"undefined"!=typeof(value=keyOrObj[ikey])&&this.$set(ikey,value,noAssert);return this}var field=T._fieldsByName[keyOrObj];if(noAssert)this[field.name]=value;else{if(!field)throw Error(this+"#"+keyOrObj+" is not a field: undefined");if(!(field instanceof ProtoBuf.Reflect.Message.Field))throw Error(this+"#"+keyOrObj+" is not a field: "+field.toString(!0));this[field.name]=value=field.verifyValue(value)}return field.oneof&&(null!==value?(null!==this[field.oneof.name]&&(this[this[field.oneof.name]]=null),this[field.oneof.name]=field.name):field.oneof.name===keyOrObj&&(this[field.oneof.name]=null)),this},MessagePrototype.$set=MessagePrototype.set,MessagePrototype.get=function(key,noAssert){if(noAssert)return this[key];var field=T._fieldsByName[key];if(!(field&&field instanceof ProtoBuf.Reflect.Message.Field))throw Error(this+"#"+key+" is not a field: undefined");if(!(field instanceof ProtoBuf.Reflect.Message.Field))throw Error(this+"#"+key+" is not a field: "+field.toString(!0));return this[field.name]},MessagePrototype.$get=MessagePrototype.get;for(var i=0;i<fields.length;i++){var field=fields[i];field instanceof ProtoBuf.Reflect.Message.ExtensionField||T.builder.options.populateAccessors&&function(field){var Name=field.originalName.replace(/(_[a-zA-Z])/g,function(match){return match.toUpperCase().replace("_","")});Name=Name.substring(0,1).toUpperCase()+Name.substring(1);var name=field.originalName.replace(/([A-Z])/g,function(match){return"_"+match}),setter=function(value,noAssert){return this[field.name]=noAssert?value:field.verifyValue(value),this},getter=function(){return this[field.name]};null===T.getChild("set"+Name)&&(MessagePrototype["set"+Name]=setter),null===T.getChild("set_"+name)&&(MessagePrototype["set_"+name]=setter),null===T.getChild("get"+Name)&&(MessagePrototype["get"+Name]=getter),null===T.getChild("get_"+name)&&(MessagePrototype["get_"+name]=getter)}(field)}MessagePrototype.encode=function(buffer,noVerify){"boolean"==typeof buffer&&(noVerify=buffer,buffer=void 0);var isNew=!1;buffer||(buffer=new ByteBuffer,isNew=!0);var le=buffer.littleEndian;try{return T.encode(this,buffer.LE(),noVerify),(isNew?buffer.flip():buffer).LE(le)}catch(e){throw buffer.LE(le),e}},MessagePrototype.calculate=function(){return T.calculate(this)},MessagePrototype.encodeDelimited=function(buffer){var isNew=!1;buffer||(buffer=new ByteBuffer,isNew=!0);var enc=(new ByteBuffer).LE();return T.encode(this,enc).flip(),buffer.writeVarint32(enc.remaining()),buffer.append(enc),isNew?buffer.flip():buffer},MessagePrototype.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toArrayBuffer()),e}},MessagePrototype.toArrayBuffer=MessagePrototype.encodeAB,MessagePrototype.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBuffer()),e}},MessagePrototype.toBuffer=MessagePrototype.encodeNB,MessagePrototype.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBase64()),e}},MessagePrototype.toBase64=MessagePrototype.encode64,MessagePrototype.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toHex()),e}},MessagePrototype.toHex=MessagePrototype.encodeHex,MessagePrototype.toRaw=function(includeBinaryAsBase64){return cloneRaw(this,!!includeBinaryAsBase64)},Message.decode=function(buffer,enc){"string"==typeof buffer&&(buffer=ByteBuffer.wrap(buffer,enc?enc:"base64")),buffer=buffer instanceof ByteBuffer?buffer:ByteBuffer.wrap(buffer);var le=buffer.littleEndian;try{var msg=T.decode(buffer.LE());return buffer.LE(le),msg}catch(e){throw buffer.LE(le),e}},Message.decodeDelimited=function(buffer,enc){if("string"==typeof buffer&&(buffer=ByteBuffer.wrap(buffer,enc?enc:"base64")),buffer=buffer instanceof ByteBuffer?buffer:ByteBuffer.wrap(buffer),buffer.remaining()<1)return null;var off=buffer.offset,len=buffer.readVarint32();if(buffer.remaining()<len)return buffer.offset=off,null;try{var msg=T.decode(buffer.slice(buffer.offset,buffer.offset+len).LE());return buffer.offset+=len,msg}catch(err){throw buffer.offset+=len,err}},Message.decode64=function(str){return Message.decode(str,"base64")},Message.decodeHex=function(str){return Message.decode(str,"hex")},MessagePrototype.toString=function(){return T.toString()};return Object.defineProperty&&(Object.defineProperty(Message,"$options",{value:T.buildOpt()}),Object.defineProperty(MessagePrototype,"$options",{value:Message.$options}),Object.defineProperty(Message,"$type",{value:T}),Object.defineProperty(MessagePrototype,"$type",{value:T})),Message}(ProtoBuf,this);this._fields=[],this._fieldsById={},this._fieldsByName={};for(var child,i=0,k=this.children.length;k>i;i++)if(child=this.children[i],child instanceof Enum)clazz[child.name]=child.build();else if(child instanceof Message)clazz[child.name]=child.build();else if(child instanceof Message.Field)child.build(),this._fields.push(child),this._fieldsById[child.id]=child,this._fieldsByName[child.name]=child;else if(!(child instanceof Message.OneOf||child instanceof Extension))throw Error("Illegal reflect child of "+this.toString(!0)+": "+children[i].toString(!0));return this.clazz=clazz},MessagePrototype.encode=function(message,buffer,noVerify){for(var field,val,fieldMissing=null,i=0,k=this._fields.length;k>i;++i)field=this._fields[i],val=message[field.name],field.required&&null===val?null===fieldMissing&&(fieldMissing=field):field.encode(noVerify?val:field.verifyValue(val),buffer);if(null!==fieldMissing){var err=Error("Missing at least one required field for "+this.toString(!0)+": "+fieldMissing);throw err.encoded=buffer,err}return buffer},MessagePrototype.calculate=function(message){for(var field,val,n=0,i=0,k=this._fields.length;k>i;++i){if(field=this._fields[i],val=message[field.name],field.required&&null===val)throw Error("Missing at least one required field for "+this.toString(!0)+": "+field);n+=field.calculate(val)}return n},MessagePrototype.decode=function(buffer,length,expectedGroupEndId){length="number"==typeof length?length:-1;for(var tag,wireType,id,field,start=buffer.offset,msg=new this.clazz;buffer.offset<start+length||-1===length&&buffer.remaining()>0;){if(tag=buffer.readVarint32(),wireType=7&tag,id=tag>>3,wireType===ProtoBuf.WIRE_TYPES.ENDGROUP){if(id!==expectedGroupEndId)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+id+" ("+(expectedGroupEndId?expectedGroupEndId+" expected":"not a group")+")");break}if(field=this._fieldsById[id])field.repeated&&!field.options.packed?msg[field.name].push(field.decode(wireType,buffer)):(msg[field.name]=field.decode(wireType,buffer),field.oneof&&(null!==this[field.oneof.name]&&(this[this[field.oneof.name]]=null),msg[field.oneof.name]=field.name));else switch(wireType){case ProtoBuf.WIRE_TYPES.VARINT:buffer.readVarint32();break;case ProtoBuf.WIRE_TYPES.BITS32:buffer.offset+=4;break;case ProtoBuf.WIRE_TYPES.BITS64:buffer.offset+=8;break;case ProtoBuf.WIRE_TYPES.LDELIM:var len=buffer.readVarint32();buffer.offset+=len;break;case ProtoBuf.WIRE_TYPES.STARTGROUP:for(;skipTillGroupEnd(id,buffer););break;default:throw Error("Illegal wire type for unknown field "+id+" in "+this.toString(!0)+"#decode: "+wireType)}}for(var i=0,k=this._fields.length;k>i;++i)if(field=this._fields[i],null===msg[field.name]){if(field.required){var err=Error("Missing at least one required field for "+this.toString(!0)+": "+field.name);throw err.decoded=msg,err}null!==field.defaultValue&&(msg[field.name]=field.defaultValue)}return msg},Reflect.Message=Message;var Field=function(builder,message,rule,type,name,id,options,oneof){T.call(this,builder,message,name),this.className="Message.Field",this.required="required"===rule,this.repeated="repeated"===rule,this.type=type,this.resolvedType=null,this.id=id,this.options=options||{},this.defaultValue=null,this.oneof=oneof||null,this.originalName=this.name,!this.builder.options.convertFieldsToCamelCase||this instanceof Message.ExtensionField||(this.name=Field._toCamelCase(this.name))};Field._toCamelCase=function(name){return name.replace(/_([a-zA-Z])/g,function($0,$1){return $1.toUpperCase()})};var FieldPrototype=Field.prototype=Object.create(T.prototype);FieldPrototype.build=function(){this.defaultValue="undefined"!=typeof this.options.default?this.verifyValue(this.options.default):null},FieldPrototype.verifyValue=function(value,skipRepeated){skipRepeated=skipRepeated||!1;var fail=function(val,msg){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+val+" ("+msg+")")}.bind(this);if(null===value)return this.required&&fail(typeof value,"required"),null;var i;if(this.repeated&&!skipRepeated){ProtoBuf.Util.isArray(value)||(value=[value]);var res=[];for(i=0;i<value.length;i++)res.push(this.verifyValue(value[i],!0));return res}switch(!this.repeated&&ProtoBuf.Util.isArray(value)&&fail(typeof value,"no array expected"),this.type){case ProtoBuf.TYPES.int32:case ProtoBuf.TYPES.sint32:case ProtoBuf.TYPES.sfixed32:return("number"!=typeof value||value===value&&value%1!==0)&&fail(typeof value,"not an integer"),value>4294967295?0|value:value;case ProtoBuf.TYPES.uint32:case ProtoBuf.TYPES.fixed32:return("number"!=typeof value||value===value&&value%1!==0)&&fail(typeof value,"not an integer"),0>value?value>>>0:value;case ProtoBuf.TYPES.int64:case ProtoBuf.TYPES.sint64:case ProtoBuf.TYPES.sfixed64:if(ProtoBuf.Long)try{return mkLong(value,!1)}catch(e){fail(typeof value,e.message)}else fail(typeof value,"requires Long.js");case ProtoBuf.TYPES.uint64:case ProtoBuf.TYPES.fixed64:if(ProtoBuf.Long)try{return mkLong(value,!0)}catch(e){fail(typeof value,e.message)}else fail(typeof value,"requires Long.js");case ProtoBuf.TYPES.bool:return"boolean"!=typeof value&&fail(typeof value,"not a boolean"),value;case ProtoBuf.TYPES.float:case ProtoBuf.TYPES.double:return"number"!=typeof value&&fail(typeof value,"not a number"),value;case ProtoBuf.TYPES.string:return"string"==typeof value||value&&value instanceof String||fail(typeof value,"not a string"),""+value;case ProtoBuf.TYPES.bytes:return ByteBuffer.isByteBuffer(value)?value:ByteBuffer.wrap(value,"base64");case ProtoBuf.TYPES.enum:var values=this.resolvedType.getChildren(Enum.Value);for(i=0;i<values.length;i++){if(values[i].name==value)return values[i].id;if(values[i].id==value)return values[i].id}fail(value,"not a valid enum value");case ProtoBuf.TYPES.group:case ProtoBuf.TYPES.message:if(value&&"object"==typeof value||fail(typeof value,"object expected"),value instanceof this.resolvedType.clazz)return value;if(value instanceof ProtoBuf.Builder.Message){var obj={};for(var i in value)value.hasOwnProperty(i)&&(obj[i]=value[i]);value=obj}return new this.resolvedType.clazz(value)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+value+" (undefined type "+this.type+")")},FieldPrototype.encode=function(value,buffer){if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===value||this.repeated&&0==value.length)return buffer;try{if(this.repeated){var i;if(this.options.packed&&ProtoBuf.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){buffer.writeVarint32(this.id<<3|ProtoBuf.WIRE_TYPES.LDELIM),buffer.ensureCapacity(buffer.offset+=1);var start=buffer.offset;for(i=0;i<value.length;i++)this.encodeValue(value[i],buffer);var len=buffer.offset-start,varintLen=ByteBuffer.calculateVarint32(len);if(varintLen>1){var contents=buffer.slice(start,buffer.offset);start+=varintLen-1,buffer.offset=start,buffer.append(contents)}buffer.writeVarint32(len,start-varintLen)}else for(i=0;i<value.length;i++)buffer.writeVarint32(this.id<<3|this.type.wireType),this.encodeValue(value[i],buffer)}else buffer.writeVarint32(this.id<<3|this.type.wireType),this.encodeValue(value,buffer)}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+value+" ("+e+")")}return buffer},FieldPrototype.encodeValue=function(value,buffer){if(null===value)return buffer;switch(this.type){case ProtoBuf.TYPES.int32:0>value?buffer.writeVarint64(value):buffer.writeVarint32(value);break;case ProtoBuf.TYPES.uint32:buffer.writeVarint32(value);break;case ProtoBuf.TYPES.sint32:buffer.writeVarint32ZigZag(value);break;case ProtoBuf.TYPES.fixed32:buffer.writeUint32(value);break;case ProtoBuf.TYPES.sfixed32:buffer.writeInt32(value);break;case ProtoBuf.TYPES.int64:case ProtoBuf.TYPES.uint64:buffer.writeVarint64(value);break;case ProtoBuf.TYPES.sint64:buffer.writeVarint64ZigZag(value);break;case ProtoBuf.TYPES.fixed64:buffer.writeUint64(value);break;case ProtoBuf.TYPES.sfixed64:buffer.writeInt64(value);break;case ProtoBuf.TYPES.bool:buffer.writeVarint32("string"==typeof value?"false"===value.toLowerCase()?0:!!value:value?1:0);break;case ProtoBuf.TYPES.enum:buffer.writeVarint32(value);break;case ProtoBuf.TYPES.float:buffer.writeFloat32(value);break;case ProtoBuf.TYPES.double:buffer.writeFloat64(value);break;case ProtoBuf.TYPES.string:buffer.writeVString(value);break;case ProtoBuf.TYPES.bytes:if(value.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+value.remaining()+" bytes remaining");var prevOffset=value.offset;buffer.writeVarint32(value.remaining()),buffer.append(value),value.offset=prevOffset;break;case ProtoBuf.TYPES.message:var bb=(new ByteBuffer).LE();this.resolvedType.encode(value,bb),buffer.writeVarint32(bb.offset),buffer.append(bb.flip());break;case ProtoBuf.TYPES.group:this.resolvedType.encode(value,buffer),buffer.writeVarint32(this.id<<3|ProtoBuf.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+value+" (unknown type)")}return buffer},FieldPrototype.calculate=function(value){if(value=this.verifyValue(value),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===value||this.repeated&&0==value.length)return 0;var n=0;try{if(this.repeated){var i,ni;if(this.options.packed&&ProtoBuf.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(n+=ByteBuffer.calculateVarint32(this.id<<3|ProtoBuf.WIRE_TYPES.LDELIM),ni=0,i=0;i<value.length;i++)ni+=this.calculateValue(value[i]);n+=ByteBuffer.calculateVarint32(ni),n+=ni}else for(i=0;i<value.length;i++)n+=ByteBuffer.calculateVarint32(this.id<<3|this.type.wireType),n+=this.calculateValue(value[i])}else n+=ByteBuffer.calculateVarint32(this.id<<3|this.type.wireType),n+=this.calculateValue(value)}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+value+" ("+e+")")}return n},FieldPrototype.calculateValue=function(value){if(null===value)return 0;var n;switch(this.type){case ProtoBuf.TYPES.int32:return 0>value?ByteBuffer.calculateVarint64(value):ByteBuffer.calculateVarint32(value);case ProtoBuf.TYPES.uint32:return ByteBuffer.calculateVarint32(value);case ProtoBuf.TYPES.sint32:return ByteBuffer.calculateVarint32(ByteBuffer.zigZagEncode32(value));case ProtoBuf.TYPES.fixed32:case ProtoBuf.TYPES.sfixed32:case ProtoBuf.TYPES.float:return 4;case ProtoBuf.TYPES.int64:case ProtoBuf.TYPES.uint64:return ByteBuffer.calculateVarint64(value);case ProtoBuf.TYPES.sint64:return ByteBuffer.calculateVarint64(ByteBuffer.zigZagEncode64(value));case ProtoBuf.TYPES.fixed64:case ProtoBuf.TYPES.sfixed64:return 8;case ProtoBuf.TYPES.bool:return 1;case ProtoBuf.TYPES.enum:return ByteBuffer.calculateVarint32(value);case ProtoBuf.TYPES.double:return 8;case ProtoBuf.TYPES.string:return n=ByteBuffer.calculateUTF8Bytes(value),ByteBuffer.calculateVarint32(n)+n;case ProtoBuf.TYPES.bytes:if(value.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+value.remaining()+" bytes remaining");return ByteBuffer.calculateVarint32(value.remaining())+value.remaining();case ProtoBuf.TYPES.message:return n=this.resolvedType.calculate(value),ByteBuffer.calculateVarint32(n)+n;case ProtoBuf.TYPES.group:return n=this.resolvedType.calculate(value),n+ByteBuffer.calculateVarint32(this.id<<3|ProtoBuf.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+value+" (unknown type)")},FieldPrototype.decode=function(wireType,buffer,skipRepeated){var value,nBytes;if(wireType!=this.type.wireType&&(skipRepeated||wireType!=ProtoBuf.WIRE_TYPES.LDELIM||!this.repeated))throw Error("Illegal wire type for field "+this.toString(!0)+": "+wireType+" ("+this.type.wireType+" expected)");if(wireType==ProtoBuf.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&ProtoBuf.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!skipRepeated){nBytes=buffer.readVarint32(),nBytes=buffer.offset+nBytes;for(var values=[];buffer.offset<nBytes;)values.push(this.decode(this.type.wireType,buffer,!0));return values}switch(this.type){case ProtoBuf.TYPES.int32:return 0|buffer.readVarint32();case ProtoBuf.TYPES.uint32:return buffer.readVarint32()>>>0;case ProtoBuf.TYPES.sint32:return 0|buffer.readVarint32ZigZag();case ProtoBuf.TYPES.fixed32:return buffer.readUint32()>>>0;case ProtoBuf.TYPES.sfixed32:return 0|buffer.readInt32();case ProtoBuf.TYPES.int64:return buffer.readVarint64();case ProtoBuf.TYPES.uint64:return buffer.readVarint64().toUnsigned();case ProtoBuf.TYPES.sint64:return buffer.readVarint64ZigZag();case ProtoBuf.TYPES.fixed64:return buffer.readUint64();case ProtoBuf.TYPES.sfixed64:return buffer.readInt64();case ProtoBuf.TYPES.bool:return!!buffer.readVarint32();case ProtoBuf.TYPES.enum:return buffer.readVarint32();case ProtoBuf.TYPES.float:return buffer.readFloat();case ProtoBuf.TYPES.double:return buffer.readDouble();case ProtoBuf.TYPES.string:return buffer.readVString();case ProtoBuf.TYPES.bytes:if(nBytes=buffer.readVarint32(),buffer.remaining()<nBytes)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+nBytes+" required but got only "+buffer.remaining());return value=buffer.clone(),value.limit=value.offset+nBytes,buffer.offset+=nBytes,value;case ProtoBuf.TYPES.message:return nBytes=buffer.readVarint32(),this.resolvedType.decode(buffer,nBytes);case ProtoBuf.TYPES.group:return this.resolvedType.decode(buffer,-1,this.id)}throw Error("[INTERNAL] Illegal wire type for "+this.toString(!0)+": "+wireType)},Reflect.Message.Field=Field;var ExtensionField=function(builder,message,rule,type,name,id,options){Field.call(this,builder,message,rule,type,name,id,options),this.extension};ExtensionField.prototype=Object.create(Field.prototype),Reflect.Message.ExtensionField=ExtensionField;var OneOf=function(builder,message,name){T.call(this,builder,message,name),this.fields=[]};Reflect.Message.OneOf=OneOf;var Enum=function(builder,parent,name,options){Namespace.call(this,builder,parent,name,options),this.className="Enum",this.object=null},EnumPrototype=Enum.prototype=Object.create(Namespace.prototype);EnumPrototype.build=function(){for(var enm={},values=this.getChildren(Enum.Value),i=0,k=values.length;k>i;++i)enm[values[i].name]=values[i].id;

return Object.defineProperty&&Object.defineProperty(enm,"$options",{value:this.buildOpt()}),this.object=enm},Reflect.Enum=Enum;var Value=function(builder,enm,name,id){T.call(this,builder,enm,name),this.className="Enum.Value",this.id=id};Value.prototype=Object.create(T.prototype),Reflect.Enum.Value=Value;var Extension=function(builder,parent,name,field){T.call(this,builder,parent,name),this.field=field};Extension.prototype=Object.create(T.prototype),Reflect.Extension=Extension;var Service=function(builder,root,name,options){Namespace.call(this,builder,root,name,options),this.className="Service",this.clazz=null},ServicePrototype=Service.prototype=Object.create(Namespace.prototype);ServicePrototype.build=function(rebuild){return this.clazz&&!rebuild?this.clazz:this.clazz=function(ProtoBuf,T){for(var Service=function(rpcImpl){ProtoBuf.Builder.Service.call(this),this.rpcImpl=rpcImpl||function(name,msg,callback){setTimeout(callback.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},ServicePrototype=Service.prototype=Object.create(ProtoBuf.Builder.Service.prototype),rpc=T.getChildren(ProtoBuf.Reflect.Service.RPCMethod),i=0;i<rpc.length;i++)!function(method){ServicePrototype[method.name]=function(req,callback){try{if(!(req&&req instanceof method.resolvedRequestType.clazz))return void setTimeout(callback.bind(this,Error("Illegal request type provided to service method "+T.name+"#"+method.name)),0);this.rpcImpl(method.fqn(),req,function(err,res){if(err)return void callback(err);try{res=method.resolvedResponseType.clazz.decode(res)}catch(notABuffer){}return res&&res instanceof method.resolvedResponseType.clazz?void callback(null,res):void callback(Error("Illegal response type received in service method "+T.name+"#"+method.name))})}catch(err){setTimeout(callback.bind(this,err),0)}},Service[method.name]=function(rpcImpl,req,callback){new Service(rpcImpl)[method.name](req,callback)},Object.defineProperty&&(Object.defineProperty(Service[method.name],"$options",{value:method.buildOpt()}),Object.defineProperty(ServicePrototype[method.name],"$options",{value:Service[method.name].$options}))}(rpc[i]);return Object.defineProperty&&(Object.defineProperty(Service,"$options",{value:T.buildOpt()}),Object.defineProperty(ServicePrototype,"$options",{value:Service.$options}),Object.defineProperty(Service,"$type",{value:T}),Object.defineProperty(ServicePrototype,"$type",{value:T})),Service}(ProtoBuf,this)},Reflect.Service=Service;var Method=function(builder,svc,name,options){T.call(this,builder,svc,name),this.className="Service.Method",this.options=options||{}},MethodPrototype=Method.prototype=Object.create(T.prototype);MethodPrototype.buildOpt=NamespacePrototype.buildOpt,Reflect.Service.Method=Method;var RPCMethod=function(builder,svc,name,request,response,request_stream,response_stream,options){Method.call(this,builder,svc,name,options),this.className="Service.RPCMethod",this.requestName=request,this.responseName=response,this.requestStream=request_stream,this.responseStream=response_stream,this.resolvedRequestType=null,this.resolvedResponseType=null};return RPCMethod.prototype=Object.create(Method.prototype),Reflect.Service.RPCMethod=RPCMethod,Reflect}(ProtoBuf),ProtoBuf.Builder=function(ProtoBuf,Lang,Reflect){var Builder=function(options){this.ns=new Reflect.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=options||{}},BuilderPrototype=Builder.prototype;return BuilderPrototype.reset=function(){this.ptr=this.ns},BuilderPrototype.define=function(pkg){if("string"!=typeof pkg||!Lang.TYPEREF.test(pkg))throw Error("Illegal package: "+pkg);var i,ns,part=pkg.split(".");for(i=0;i<part.length;i++)if(!Lang.NAME.test(part[i]))throw Error("Illegal package: "+part[i]);for(i=0;i<part.length;i++)ns=this.ptr.getChild(part[i]),null===ns&&this.ptr.addChild(ns=new Reflect.Namespace(this,this.ptr,part[i])),this.ptr=ns;return this},Builder.isValidMessage=function(def){if("string"!=typeof def.name||!Lang.NAME.test(def.name))return!1;if("undefined"!=typeof def.values||"undefined"!=typeof def.rpc)return!1;var i;if("undefined"!=typeof def.fields){if(!ProtoBuf.Util.isArray(def.fields))return!1;var id,ids=[];for(i=0;i<def.fields.length;i++){if(!Builder.isValidMessageField(def.fields[i]))return!1;if(id=parseInt(def.fields[i].id,10),ids.indexOf(id)>=0)return!1;ids.push(id)}ids=null}if("undefined"!=typeof def.enums){if(!ProtoBuf.Util.isArray(def.enums))return!1;for(i=0;i<def.enums.length;i++)if(!Builder.isValidEnum(def.enums[i]))return!1}if("undefined"!=typeof def.messages){if(!ProtoBuf.Util.isArray(def.messages))return!1;for(i=0;i<def.messages.length;i++)if(!Builder.isValidMessage(def.messages[i])&&!Builder.isValidExtend(def.messages[i]))return!1}return"undefined"==typeof def.extensions||ProtoBuf.Util.isArray(def.extensions)&&2===def.extensions.length&&"number"==typeof def.extensions[0]&&"number"==typeof def.extensions[1]?!0:!1},Builder.isValidMessageField=function(def){if("string"!=typeof def.rule||"string"!=typeof def.name||"string"!=typeof def.type||"undefined"==typeof def.id)return!1;if(!(Lang.RULE.test(def.rule)&&Lang.NAME.test(def.name)&&Lang.TYPEREF.test(def.type)&&Lang.ID.test(""+def.id)))return!1;if("undefined"!=typeof def.options){if("object"!=typeof def.options)return!1;for(var key,keys=Object.keys(def.options),i=0;i<keys.length;i++)if("string"!=typeof(key=keys[i])||"string"!=typeof def.options[key]&&"number"!=typeof def.options[key]&&"boolean"!=typeof def.options[key])return!1}return!0},Builder.isValidEnum=function(def){if("string"!=typeof def.name||!Lang.NAME.test(def.name))return!1;if("undefined"==typeof def.values||!ProtoBuf.Util.isArray(def.values)||0==def.values.length)return!1;for(var i=0;i<def.values.length;i++){if("object"!=typeof def.values[i])return!1;if("string"!=typeof def.values[i].name||"undefined"==typeof def.values[i].id)return!1;if(!Lang.NAME.test(def.values[i].name)||!Lang.NEGID.test(""+def.values[i].id))return!1}return!0},BuilderPrototype.create=function(defs){if(!defs)return this;if(ProtoBuf.Util.isArray(defs)||(defs=[defs]),0===defs.length)return this;var stack=[];for(stack.push(defs);stack.length>0;){if(defs=stack.pop(),!ProtoBuf.Util.isArray(defs))throw Error("Not a valid namespace: "+JSON.stringify(defs));for(;defs.length>0;){var def=defs.shift();if(Builder.isValidMessage(def)){var obj=new Reflect.Message(this,this.ptr,def.name,def.options,def.isGroup),oneofs={};if(def.oneofs)for(var keys=Object.keys(def.oneofs),i=0,k=keys.length;k>i;++i)obj.addChild(oneofs[keys[i]]=new Reflect.Message.OneOf(this,obj,keys[i]));if(def.fields&&def.fields.length>0)for(i=0,k=def.fields.length;k>i;++i){var fld=def.fields[i];if(null!==obj.getChild(fld.id))throw Error("Duplicate field id in message "+obj.name+": "+fld.id);if(fld.options)for(var opts=Object.keys(fld.options),j=0,l=opts.length;l>j;++j){if("string"!=typeof opts[j])throw Error("Illegal field option name in message "+obj.name+"#"+fld.name+": "+opts[j]);if("string"!=typeof fld.options[opts[j]]&&"number"!=typeof fld.options[opts[j]]&&"boolean"!=typeof fld.options[opts[j]])throw Error("Illegal field option value in message "+obj.name+"#"+fld.name+"#"+opts[j]+": "+fld.options[opts[j]])}var oneof=null;if("string"==typeof fld.oneof&&(oneof=oneofs[fld.oneof],"undefined"==typeof oneof))throw Error("Illegal oneof in message "+obj.name+"#"+fld.name+": "+fld.oneof);fld=new Reflect.Message.Field(this,obj,fld.rule,fld.type,fld.name,fld.id,fld.options,oneof),oneof&&oneof.fields.push(fld),obj.addChild(fld)}var subObj=[];if("undefined"!=typeof def.enums&&def.enums.length>0)for(i=0;i<def.enums.length;i++)subObj.push(def.enums[i]);if(def.messages&&def.messages.length>0)for(i=0;i<def.messages.length;i++)subObj.push(def.messages[i]);if(def.extensions&&(obj.extensions=def.extensions,obj.extensions[0]<ProtoBuf.ID_MIN&&(obj.extensions[0]=ProtoBuf.ID_MIN),obj.extensions[1]>ProtoBuf.ID_MAX&&(obj.extensions[1]=ProtoBuf.ID_MAX)),this.ptr.addChild(obj),subObj.length>0){stack.push(defs),defs=subObj,subObj=null,this.ptr=obj,obj=null;continue}subObj=null,obj=null}else if(Builder.isValidEnum(def)){for(obj=new Reflect.Enum(this,this.ptr,def.name,def.options),i=0;i<def.values.length;i++)obj.addChild(new Reflect.Enum.Value(this,obj,def.values[i].name,def.values[i].id));this.ptr.addChild(obj),obj=null}else if(Builder.isValidService(def)){obj=new Reflect.Service(this,this.ptr,def.name,def.options);for(i in def.rpc)def.rpc.hasOwnProperty(i)&&obj.addChild(new Reflect.Service.RPCMethod(this,obj,i,def.rpc[i].request,def.rpc[i].response,def.rpc[i].request_stream,def.rpc[i].response_stream,def.rpc[i].options));this.ptr.addChild(obj),obj=null}else{if(!Builder.isValidExtend(def))throw Error("Not a valid definition: "+JSON.stringify(def));if(obj=this.ptr.resolve(def.ref))for(i=0;i<def.fields.length;i++){if(null!==obj.getChild(def.fields[i].id))throw Error("Duplicate extended field id in message "+obj.name+": "+def.fields[i].id);if(def.fields[i].id<obj.extensions[0]||def.fields[i].id>obj.extensions[1])throw Error("Illegal extended field id in message "+obj.name+": "+def.fields[i].id+" ("+obj.extensions.join(" to ")+" expected)");var name=def.fields[i].name;this.options.convertFieldsToCamelCase&&(name=Reflect.Message.Field._toCamelCase(def.fields[i].name)),fld=new Reflect.Message.ExtensionField(this,obj,def.fields[i].rule,def.fields[i].type,this.ptr.fqn()+"."+name,def.fields[i].id,def.fields[i].options);var ext=new Reflect.Extension(this,this.ptr,def.fields[i].name,fld);fld.extension=ext,this.ptr.addChild(ext),obj.addChild(fld)}else if(!/\.?google\.protobuf\./.test(def.ref))throw Error("Extended message "+def.ref+" is not defined")}def=null}defs=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},BuilderPrototype.import=function(json,filename){if("string"==typeof filename){if(ProtoBuf.Util.IS_NODE&&(filename=require("path").resolve(filename)),this.files[filename]===!0)return this.reset(),this;this.files[filename]=!0}else if("object"==typeof filename){var root=filename.root;ProtoBuf.Util.IS_NODE&&(root=require("path").resolve(root));var fname=[root,filename.file].join("/");if(this.files[fname]===!0)return this.reset(),this;this.files[fname]=!0}if(json.imports&&json.imports.length>0){var importRoot,delim="/",resetRoot=!1;"object"==typeof filename?(this.importRoot=filename.root,resetRoot=!0,importRoot=this.importRoot,filename=filename.file,(importRoot.indexOf("\\")>=0||filename.indexOf("\\")>=0)&&(delim="\\")):"string"==typeof filename?this.importRoot?importRoot=this.importRoot:filename.indexOf("/")>=0?(importRoot=filename.replace(/\/[^\/]*$/,""),""===importRoot&&(importRoot="/")):filename.indexOf("\\")>=0?(importRoot=filename.replace(/\\[^\\]*$/,""),delim="\\"):importRoot=".":importRoot=null;for(var i=0;i<json.imports.length;i++)if("string"==typeof json.imports[i]){if(!importRoot)throw Error("Cannot determine import root: File name is unknown");var importFilename=json.imports[i];if(/^google\/protobuf\//.test(importFilename))continue;if(importFilename=importRoot+delim+importFilename,this.files[importFilename]===!0)continue;/\.proto$/i.test(importFilename)&&!ProtoBuf.DotProto&&(importFilename=importFilename.replace(/\.proto$/,".json"));var contents=ProtoBuf.Util.fetch(importFilename);if(null===contents)throw Error("Failed to import '"+importFilename+"' in '"+filename+"': File not found");/\.json$/i.test(importFilename)?this.import(JSON.parse(contents+""),importFilename):this.import(new ProtoBuf.DotProto.Parser(contents+"").parse(),importFilename)}else filename?/\.(\w+)$/.test(filename)?this.import(json.imports[i],filename.replace(/^(.+)\.(\w+)$/,function($0,$1,$2){return $1+"_import"+i+"."+$2})):this.import(json.imports[i],filename+"_import"+i):this.import(json.imports[i]);resetRoot&&(this.importRoot=null)}json.package&&this.define(json.package);var base=this.ptr;return json.options&&Object.keys(json.options).forEach(function(key){base.options[key]=json.options[key]}),json.messages&&(this.create(json.messages),this.ptr=base),json.enums&&(this.create(json.enums),this.ptr=base),json.services&&(this.create(json.services),this.ptr=base),json.extends&&this.create(json.extends),this.reset(),this},Builder.isValidService=function(def){return!("string"!=typeof def.name||!Lang.NAME.test(def.name)||"object"!=typeof def.rpc)},Builder.isValidExtend=function(def){if("string"!=typeof def.ref||!Lang.TYPEREF.test(def.ref))return!1;var i;if("undefined"!=typeof def.fields){if(!ProtoBuf.Util.isArray(def.fields))return!1;var id,ids=[];for(i=0;i<def.fields.length;i++){if(!Builder.isValidMessageField(def.fields[i]))return!1;if(id=parseInt(def.id,10),ids.indexOf(id)>=0)return!1;ids.push(id)}ids=null}return!0},BuilderPrototype.resolveAll=function(){var res;if(null!=this.ptr&&"object"!=typeof this.ptr.type){if(this.ptr instanceof Reflect.Namespace)for(var children=this.ptr.children,i=0,k=children.length;k>i;++i)this.ptr=children[i],this.resolveAll();else if(this.ptr instanceof Reflect.Message.Field)if(Lang.TYPE.test(this.ptr.type))this.ptr.type=ProtoBuf.TYPES[this.ptr.type];else{if(!Lang.TYPEREF.test(this.ptr.type))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(res=(this.ptr instanceof Reflect.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0),!res)throw Error("Unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=res,res instanceof Reflect.Enum)this.ptr.type=ProtoBuf.TYPES.enum;else{if(!(res instanceof Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=res.isGroup?ProtoBuf.TYPES.group:ProtoBuf.TYPES.message}}else if(this.ptr instanceof ProtoBuf.Reflect.Enum.Value);else if(this.ptr instanceof ProtoBuf.Reflect.Service.Method){if(!(this.ptr instanceof ProtoBuf.Reflect.Service.RPCMethod))throw Error("Illegal service type in "+this.ptr.toString(!0));if(res=this.ptr.parent.resolve(this.ptr.requestName),!(res&&res instanceof ProtoBuf.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=res,res=this.ptr.parent.resolve(this.ptr.responseName),!(res&&res instanceof ProtoBuf.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=res}else if(!(this.ptr instanceof ProtoBuf.Reflect.Message.OneOf||this.ptr instanceof ProtoBuf.Reflect.Extension))throw Error("Illegal object in namespace: "+typeof this.ptr+":"+this.ptr);this.reset()}},BuilderPrototype.build=function(path){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),path){for(var part="string"==typeof path?path.split("."):path,ptr=this.result,i=0;i<part.length;i++){if(!ptr[part[i]]){ptr=null;break}ptr=ptr[part[i]]}return ptr}return this.result},BuilderPrototype.lookup=function(path){return path?this.ns.resolve(path):this.ns},BuilderPrototype.toString=function(){return"Builder"},Builder.Message=function(){},Builder.Service=function(){},Builder}(ProtoBuf,ProtoBuf.Lang,ProtoBuf.Reflect),ProtoBuf.loadProto=function(proto,builder,filename){return("string"==typeof builder||builder&&"string"==typeof builder.file&&"string"==typeof builder.root)&&(filename=builder,builder=void 0),ProtoBuf.loadJson(new ProtoBuf.DotProto.Parser(proto).parse(),builder,filename)},ProtoBuf.protoFromString=ProtoBuf.loadProto,ProtoBuf.loadProtoFile=function(filename,callback,builder){if(callback&&"object"==typeof callback?(builder=callback,callback=null):callback&&"function"==typeof callback||(callback=null),callback)return ProtoBuf.Util.fetch("string"==typeof filename?filename:filename.root+"/"+filename.file,function(contents){if(null===contents)return void callback(Error("Failed to fetch file"));try{callback(null,ProtoBuf.loadProto(contents,builder,filename))}catch(e){callback(e)}});var contents=ProtoBuf.Util.fetch("object"==typeof filename?filename.root+"/"+filename.file:filename);return null===contents?null:ProtoBuf.loadProto(contents,builder,filename)},ProtoBuf.protoFromFile=ProtoBuf.loadProtoFile,ProtoBuf.newBuilder=function(options){return options=options||{},"undefined"==typeof options.convertFieldsToCamelCase&&(options.convertFieldsToCamelCase=ProtoBuf.convertFieldsToCamelCase),"undefined"==typeof options.populateAccessors&&(options.populateAccessors=ProtoBuf.populateAccessors),new ProtoBuf.Builder(options)},ProtoBuf.loadJson=function(json,builder,filename){return("string"==typeof builder||builder&&"string"==typeof builder.file&&"string"==typeof builder.root)&&(filename=builder,builder=null),builder&&"object"==typeof builder||(builder=ProtoBuf.newBuilder()),"string"==typeof json&&(json=JSON.parse(json)),builder.import(json,filename),builder.resolveAll(),builder},ProtoBuf.loadJsonFile=function(filename,callback,builder){if(callback&&"object"==typeof callback?(builder=callback,callback=null):callback&&"function"==typeof callback||(callback=null),callback)return ProtoBuf.Util.fetch("string"==typeof filename?filename:filename.root+"/"+filename.file,function(contents){if(null===contents)return void callback(Error("Failed to fetch file"));try{callback(null,ProtoBuf.loadJson(JSON.parse(contents),builder,filename))}catch(e){callback(e)}});var contents=ProtoBuf.Util.fetch("object"==typeof filename?filename.root+"/"+filename.file:filename);return null===contents?null:ProtoBuf.loadJson(JSON.parse(contents),builder,filename)},ProtoBuf}"function"==typeof require&&"object"==typeof module&&module&&"object"==typeof exports&&exports?module.exports=init(require("bytebuffer/dist/ByteBufferNB.js")):"function"==typeof define&&define.amd?define(["ByteBuffer"],init):(global.dcodeIO=global.dcodeIO||{}).ProtoBuf=init(global.dcodeIO.ByteBuffer)}(this)},{"bytebuffer/dist/ByteBufferNB.js":222,"my-fs":195,path:166}],226:[function(require,module){var ProtoBuf=require("./dist/ProtoBuf.js");module.exports=ProtoBuf},{"./dist/ProtoBuf.js":225}],227:[function(require,module,exports){function TypeInfo(size,unsigned){this.size=size,this.signed=!unsigned,this.signedType=unsigned}var symbol_locator=require("./parser/symbol_locator"),token_analyzer=require("./parser/token_analyzer"),defaultType="uint",weakTypeMap={byte:new TypeInfo(1),short:new TypeInfo(2),ushort:new TypeInfo(2,"short"),int:new TypeInfo(4),uint:new TypeInfo(4,"int"),long:new TypeInfo(8),ulong:new TypeInfo(8,"long")};exports.getTypeOfSize=function(size,unsigned){for(var key in weakTypeMap)if(weakTypeMap[key].size==size){if(unsigned&&!weakTypeMap[key].signed)return key;if(weakTypeMap[key].signed)return key;if(!weakTypeMap[key].signed)return weakTypeMap[key].signedType}return"bad"},exports.getTypeSize=function(prop){var sym=prop.type;if("proto"==prop.flags)return 0;if(sym instanceof symbol_locator.WeakSymbol){var key=sym.identifier;return weakTypeMap[key]||(key=defaultType),prop.flagsOpt?+prop.flagsOpt:weakTypeMap[key].size}if(sym instanceof symbol_locator.StrongSymbol&&sym.class instanceof token_analyzer.EnumNode){var enode=sym.class;return enode.type instanceof symbol_locator.WeakSymbol?weakTypeMap[enode.type.identifier].size:weakTypeMap[defaultType].size}return 0},exports.emitCode=function(root,gen,sb,nspace,supportsGC,internalFile){gen.emitNamespace(sb,!1,nspace);var level=0;gen.supportsNamespace()&&(level=1),internalFile&&gen.emitSerialBase(sb,level,supportsGC),root.childNodes.forEach(function(n){gen.emitNode(n,sb,level)}),gen.emitNamespace(sb,!0,nspace)}},{"./parser/symbol_locator":231,"./parser/token_analyzer":232}],228:[function(require,module,exports){function emitEnumNode(enode){var obj=Steam[enode.name]={};enode.childNodes.forEach(function(prop){obj[prop.name]=prop.default.map(function(sym){return obj[sym.identifier]||+sym.identifier}).reduce(function(value,ident){return value|ident})})}function emitClassNode(cnode){emitClassConstructor(cnode);var baseSize=emitClassProperties(cnode);emitClassEncoder(cnode,baseSize),emitClassDecoder(cnode,baseSize)}function emitClassConstructor(cnode){Steam.Internal[cnode.name]=function(object){object=object||{},cnode.childNodes.forEach(function(prop){var defsym=prop.default[0],defflags=prop.flags;if("const"!=defflags){var symname=prop.name,ctor=exports.emitType(defsym);ctor="proto"==defflags?new(exports.emitType(prop.type).split(".").slice(1).reduce(function(obj,prop){return obj[prop]},Steam))(object[symname]||{}):defsym?~["long","ulong"].indexOf(exports.emitType(prop.type))?ByteBuffer.Long.fromValue(object[symname]||("ulong.MaxValue"==ctor?ByteBuffer.Long.MAX_UNSIGNED_VALUE:ctor)):object[symname]||+ctor:prop.flagsOpt?object[symname]?ByteBuffer.isBuffer(object[symname])?object[symname]:ByteBuffer.wrap(object[symname]):new ByteBuffer(code_generator.getTypeSize(prop)):~["long","ulong"].indexOf(exports.emitType(prop.type))?ByteBuffer.Long.fromValue(object[symname]||0):object[symname]||0,this[symname]=ctor}}.bind(this))}}function emitClassProperties(cnode){var baseClassSize=0;return cnode.childNodes.forEach(function(prop){var propName=prop.name;if("const"==prop.flags){var ctor=exports.emitType(prop.default[0]);return void(Steam.Internal[cnode.name][propName]=+ctor)}var size=code_generator.getTypeSize(prop);baseClassSize+=size}),baseClassSize}function emitClassEncoder(cnode,baseSize){Steam.Internal[cnode.name].prototype.encode=function(){var varLengthProps=[];cnode.childNodes.forEach(function(prop){var size=code_generator.getTypeSize(prop);if(!size){var bb=this[prop.name].encode();null!=prop.flagsOpt&&(this[prop.flagsOpt]=bb.limit),varLengthProps.push(bb)}}.bind(this));var bb=new ByteBuffer(baseSize+varLengthProps.reduce(function(capacity,bb){return capacity+bb.limit},0),ByteBuffer.LITTLE_ENDIAN);return cnode.childNodes.forEach(function(prop){var typestr=exports.emitType(prop.type),size=code_generator.getTypeSize(prop);return"proto"==prop.flags?void varLengthProps.shift().copyTo(bb):void("const"!=prop.flags&&(readerTypeMap[typestr]||(typestr=code_generator.getTypeOfSize(size,exports.supportsUnsignedTypes())),prop.flagsOpt?this[prop.name].copyTo(bb):bb["write"+readerTypeMap[typestr]](this[prop.name])))}.bind(this)),bb.flip(),bb},Steam.Internal[cnode.name].prototype.toBuffer=function(){return this.encode().toBuffer()}}function emitClassDecoder(cnode){Steam.Internal[cnode.name].decode=function(buffer){ByteBuffer.isByteBuffer(buffer)||(buffer=ByteBuffer.wrap(buffer,ByteBuffer.LITTLE_ENDIAN));var object={};return cnode.childNodes.forEach(function(prop){var typestr=exports.emitType(prop.type),size=code_generator.getTypeSize(prop),defflags=prop.flags,symname=prop.name;"const"!=defflags&&(size?(readerTypeMap[typestr]||(typestr=code_generator.getTypeOfSize(size,exports.supportsUnsignedTypes())),prop.flagsOpt?(object[symname]=buffer.slice(buffer.offset,buffer.offset+ +prop.flagsOpt),buffer.skip(+prop.flagsOpt)):object[symname]=buffer["read"+readerTypeMap[typestr]]()):(object[symname]=typestr.split(".").slice(1).reduce(function(obj,prop){return obj[prop]},Steam).decode(buffer.slice(buffer.offset,buffer.offset+object[prop.flagsOpt])),buffer.skip(object[prop.flagsOpt])))}),object}}var ByteBuffer=require("bytebuffer/dist/ByteBufferNB.js"),Steam=require("../../.."),code_generator=require("../code_generator"),symbol_locator=require("../parser/symbol_locator"),token_analyzer=require("../parser/token_analyzer"),readerTypeMap={byte:"Byte",short:"Int16",ushort:"Uint16",int:"Int32",uint:"Uint32",long:"Int64",ulong:"Uint64"};exports.emitNamespace=function(){},exports.emitSerialBase=function(){},exports.emitType=function(sym){return sym instanceof symbol_locator.WeakSymbol?sym.identifier:sym instanceof symbol_locator.StrongSymbol?sym.prop?(Steam.Internal[sym.class.name]||Steam[sym.class.name])[sym.prop.name]:sym.class.name:"INVALID"},exports.emitNode=function(n){n instanceof token_analyzer.ClassNode?emitClassNode(n):n instanceof token_analyzer.EnumNode&&emitEnumNode(n)},exports.supportsUnsignedTypes=function(){return!0},exports.supportsNamespace=function(){return!0}},{"../../..":206,"../code_generator":227,"../parser/symbol_locator":231,"../parser/token_analyzer":232,"bytebuffer/dist/ByteBufferNB.js":222}],229:[function(require){(function(__dirname){var fs=require("my-fs"),token_analyzer=require("./parser/token_analyzer"),codeGen=require("./generator/node_gen"),languagePath=require("path").join(__dirname,"../steam_language"),cwd=require("my-process").cwd();require("my-process").chdir(languagePath);var tokenList=require("./parser/language_parser").tokenizeString(fs.readFileSync("steammsg.steamd",{encoding:"ascii"})),root=token_analyzer.analyze(tokenList);require("my-process").chdir(cwd);var rootEnumNode=new token_analyzer.Node,rootMessageNode=new token_analyzer.Node;rootEnumNode.childNodes=root.childNodes.filter(function(n){return n instanceof token_analyzer.EnumNode}),rootMessageNode.childNodes=root.childNodes.filter(function(n){return n instanceof token_analyzer.ClassNode}),require("./code_generator").emitCode(rootEnumNode,codeGen),require("./code_generator").emitCode(rootMessageNode,codeGen)}).call(this,"/node_modules/steam/resources/steam_language_parser")},{"./code_generator":227,"./generator/node_gen":228,"./parser/language_parser":230,"./parser/token_analyzer":232,"my-fs":195,"my-process":196,path:166}],230:[function(require,module,exports){exports.Token=function(name,value){this.name=name,this.value=value};var pattern='(\\s+)|([;])|["](.+?)["]|//(.*)$|(-?[a-zA-Z_0-9][a-zA-Z0-9_:.]*)|[#]([a-zA-Z]*)|([{}<>\\]=|])|([^\\s]+)',groupNames=[,"whitespace","terminator","string","comment","identifier","preprocess","operator","invalid"],regexPattern=new RegExp(pattern,"gm");exports.tokenizeString=function(buffer){for(var match,tokenList=[];match=regexPattern.exec(buffer);)for(var i=0;i<match.length;i++)if(match[i]&&i>1){var groupName=groupNames[i];if("comment"==groupName)continue;tokenList.push(new exports.Token(groupName,match[i]))}return tokenList}},{}],231:[function(require,module,exports){function findNode(tree,symbol){for(var i=0;i<tree.childNodes.length;i++)if(tree.childNodes[i].name==symbol)return tree.childNodes[i]}exports.StrongSymbol=function(classNode,prop){this.class=classNode,this.prop=prop},exports.WeakSymbol=function(ident){this.identifier=ident};var identifierPattern="([a-zA-Z0-9_:]*)",fullIdentPattern="([a-zA-Z0-9_]*?)::([a-zA-Z0-9_]*)",identifierRegex=new RegExp(identifierPattern),fullIdentRegex=new RegExp(fullIdentPattern);exports.lookupSymbol=function(tree,identifier,strongonly){var ident=identifierRegex.exec(identifier);if(!ident)throw new Error("Invalid identifier specified "+identifier);var classNode;if(~identifier.indexOf("::")){if(ident=fullIdentRegex.exec(identifier),!ident)throw new Error("Couldn't parse full identifier");if(classNode=findNode(tree,ident[1]),!classNode)throw new Error("Invalid class in identifier "+identifier);var propNode=findNode(classNode,ident[2]);if(!propNode)throw new Error("Invalid property in identifier "+identifier);return new exports.StrongSymbol(classNode,propNode)}if(classNode=findNode(tree,ident[0]))return new exports.StrongSymbol(classNode);if(strongonly)throw new Error("Invalid weak symbol "+identifier);return new exports.WeakSymbol(identifier)}},{}],232:[function(require,module,exports){function parseInnerScope(tokens,parent,root){for(var scope2=(expect(tokens,"operator","{"),optional(tokens,"operator","}"));!scope2;){var pnode=new exports.PropNode,t1=tokens.shift(),t1op1=optional(tokens,"operator","<"),flagop=null;if(t1op1){flagop=expect(tokens,"identifier");{expect(tokens,"operator",">")}pnode.flagsOpt=flagop.value}var t2=optional(tokens,"identifier"),t3=optional(tokens,"identifier");t3?(pnode.name=t3.value,pnode.type=lookupSymbol(root,t2.value,!1),pnode.flags=t1.value):t2?(pnode.name=t2.value,pnode.type=lookupSymbol(root,t1.value,!1)):pnode.name=t1.value;var defop=optional(tokens,"operator","=");if(defop)for(;;){var value=tokens.shift();if(pnode.default.push(lookupSymbol(root,value.value,!1)),!optional(tokens,"operator","|")){expect(tokens,"terminator",";");break}}else expect(tokens,"terminator",";");var obsolete=optional(tokens,"identifier","obsolete");if(obsolete){pnode.obsolete="";var obsoleteReason=optional(tokens,"string");obsoleteReason&&(pnode.obsolete=obsoleteReason.value)}parent.childNodes.push(pnode),scope2=optional(tokens,"operator","}")}}function expect(tokens,name,value){var peek=tokens[0];if(!peek)return language_parser.Token("EOF","");if(peek.name!=name||value&&peek.value!=value)throw new Error("Expecting "+name);return tokens.shift()}function optional(tokens,name,value){var peek=tokens[0];return peek?peek.name!=name||value&&peek.value!=value?null:tokens.shift():new language_parser.Token("EOF","")}var language_parser=require("./language_parser"),lookupSymbol=require("./symbol_locator").lookupSymbol;exports.Node=function(){this.childNodes=[]},exports.ClassNode=function(){exports.Node.call(this)},exports.PropNode=function(){exports.Node.call(this),this.default=[]},exports.EnumNode=function(){exports.Node.call(this)},exports.analyze=function(tokens){for(var root=new exports.Node;tokens.length>0;){var cur=tokens.shift();switch(cur.name){case"EOF":break;case"preprocess":var text=expect(tokens,"string");if("import"==cur.value){var parentTokens=language_parser.tokenizeString(require("my-fs").readFileSync(text.value,{encoding:"ascii"})),newRoot=exports.analyze(parentTokens);newRoot.childNodes.forEach(function(child){root.childNodes.push(child)})}break;case"identifier":var name,op1,op2;switch(cur.value){case"class":name=expect(tokens,"identifier");var ident=null,parent=null;op1=optional(tokens,"operator","<"),op1&&(ident=expect(tokens,"identifier"),op2=expect(tokens,"operator",">"));var expects=optional(tokens,"identifier","expects");expects&&(parent=expect(tokens,"identifier"));var cnode=new exports.ClassNode;cnode.name=name.value,ident&&(cnode.ident=lookupSymbol(root,ident.value,!1)),root.childNodes.push(cnode),parseInnerScope(tokens,cnode,root);break;case"enum":name=expect(tokens,"identifier");var datatype=null;op1=optional(tokens,"operator","<"),op1&&(datatype=expect(tokens,"identifier"),op2=expect(tokens,"operator",">"));var flag=optional(tokens,"identifier","flags"),enode=new exports.EnumNode;enode.name=name.value,flag&&(enode.flags=flag.value),datatype&&(enode.type=lookupSymbol(root,datatype.value,!1)),root.childNodes.push(enode),parseInnerScope(tokens,enode,root)}}}return root}},{"./language_parser":230,"./symbol_locator":231,"my-fs":195}]},{},[1])(1)});